(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Dp={exports:{}},qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function Z4(){if(B1)return qo;B1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return qo.Fragment=e,qo.jsx=n,qo.jsxs=n,qo}var H1;function e5(){return H1||(H1=1,Dp.exports=Z4()),Dp.exports}var a=e5(),_p={exports:{}},Vo={},zp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function t5(){return I1||(I1=1,function(t){function e(U,N){var le=U.length;U.push(N);e:for(;0<le;){var W=le-1>>>1,S=U[W];if(0<s(S,N))U[W]=N,U[le]=S,le=W;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var N=U[0],le=U.pop();if(le!==N){U[0]=le;e:for(var W=0,S=U.length,P=S>>>1;W<P;){var L=2*(W+1)-1,K=U[L],Z=L+1,oe=U[Z];if(0>s(K,le))Z<S&&0>s(oe,K)?(U[W]=oe,U[Z]=le,W=Z):(U[W]=K,U[L]=le,W=L);else if(Z<S&&0>s(oe,le))U[W]=oe,U[Z]=le,W=Z;else break e}}return N}function s(U,N){var le=U.sortIndex-N.sortIndex;return le!==0?le:U.id-N.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,x=null,y=3,v=!1,w=!1,j=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Q(U){for(var N=n(p);N!==null;){if(N.callback===null)r(p);else if(N.startTime<=U)r(p),N.sortIndex=N.expirationTime,e(h,N);else break;N=n(p)}}function z(U){if(j=!1,Q(U),!w)if(n(h)!==null)w=!0,B||(B=!0,$());else{var N=n(p);N!==null&&te(z,N.startTime-U)}}var B=!1,_=-1,I=5,R=-1;function E(){return C?!0:!(t.unstable_now()-R<I)}function H(){if(C=!1,B){var U=t.unstable_now();R=U;var N=!0;try{e:{w=!1,j&&(j=!1,V(_),_=-1),v=!0;var le=y;try{t:{for(Q(U),x=n(h);x!==null&&!(x.expirationTime>U&&E());){var W=x.callback;if(typeof W=="function"){x.callback=null,y=x.priorityLevel;var S=W(x.expirationTime<=U);if(U=t.unstable_now(),typeof S=="function"){x.callback=S,Q(U),N=!0;break t}x===n(h)&&r(h),Q(U)}else r(h);x=n(h)}if(x!==null)N=!0;else{var P=n(p);P!==null&&te(z,P.startTime-U),N=!1}}break e}finally{x=null,y=le,v=!1}N=void 0}}finally{N?$():B=!1}}}var $;if(typeof q=="function")$=function(){q(H)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,T=M.port2;M.port1.onmessage=H,$=function(){T.postMessage(null)}}else $=function(){O(H,0)};function te(U,N){_=O(function(){U(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var N=3;break;default:N=y}var le=y;y=N;try{return U()}finally{y=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(U,N){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var le=y;y=U;try{return N()}finally{y=le}},t.unstable_scheduleCallback=function(U,N,le){var W=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,U){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=le+S,U={id:m++,callback:N,priorityLevel:U,startTime:le,expirationTime:S,sortIndex:-1},le>W?(U.sortIndex=le,e(p,U),n(h)===null&&U===n(p)&&(j?(V(_),_=-1):j=!0,te(z,le-W))):(U.sortIndex=S,e(h,U),w||v||(w=!0,B||(B=!0,$()))),U},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(U){var N=y;return function(){var le=y;y=N;try{return U.apply(this,arguments)}finally{y=le}}}}(Lp)),Lp}var U1;function n5(){return U1||(U1=1,zp.exports=t5()),zp.exports}var Pp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function r5(){if(F1)return Oe;F1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function C(S,P,L){this.props=S,this.context=P,this.refs=j,this.updater=L||v}C.prototype.isReactComponent={},C.prototype.setState=function(S,P){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,P,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function O(){}O.prototype=C.prototype;function V(S,P,L){this.props=S,this.context=P,this.refs=j,this.updater=L||v}var q=V.prototype=new O;q.constructor=V,w(q,C.prototype),q.isPureReactComponent=!0;var Q=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function _(S,P,L,K,Z,oe){return L=oe.ref,{$$typeof:t,type:S,key:P,ref:L!==void 0?L:null,props:oe}}function I(S,P){return _(S.type,P,void 0,void 0,void 0,S.props)}function R(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function E(S){var P={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(L){return P[L]})}var H=/\/+/g;function $(S,P){return typeof S=="object"&&S!==null&&S.key!=null?E(""+S.key):P.toString(36)}function M(){}function T(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(M,M):(S.status="pending",S.then(function(P){S.status==="pending"&&(S.status="fulfilled",S.value=P)},function(P){S.status==="pending"&&(S.status="rejected",S.reason=P)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function te(S,P,L,K,Z){var oe=typeof S;(oe==="undefined"||oe==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(oe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case t:case e:ie=!0;break;case m:return ie=S._init,te(ie(S._payload),P,L,K,Z)}}if(ie)return Z=Z(S),ie=K===""?"."+$(S,0):K,Q(Z)?(L="",ie!=null&&(L=ie.replace(H,"$&/")+"/"),te(Z,P,L,"",function(Ce){return Ce})):Z!=null&&(R(Z)&&(Z=I(Z,L+(Z.key==null||S&&S.key===Z.key?"":(""+Z.key).replace(H,"$&/")+"/")+ie)),P.push(Z)),1;ie=0;var fe=K===""?".":K+":";if(Q(S))for(var be=0;be<S.length;be++)K=S[be],oe=fe+$(K,be),ie+=te(K,P,L,oe,Z);else if(be=y(S),typeof be=="function")for(S=be.call(S),be=0;!(K=S.next()).done;)K=K.value,oe=fe+$(K,be++),ie+=te(K,P,L,oe,Z);else if(oe==="object"){if(typeof S.then=="function")return te(T(S),P,L,K,Z);throw P=String(S),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ie}function U(S,P,L){if(S==null)return S;var K=[],Z=0;return te(S,K,"","",function(oe){return P.call(L,oe,Z++)}),K}function N(S){if(S._status===-1){var P=S._result;P=P(),P.then(function(L){(S._status===0||S._status===-1)&&(S._status=1,S._result=L)},function(L){(S._status===0||S._status===-1)&&(S._status=2,S._result=L)}),S._status===-1&&(S._status=0,S._result=P)}if(S._status===1)return S._result.default;throw S._result}var le=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function W(){}return Oe.Children={map:U,forEach:function(S,P,L){U(S,function(){P.apply(this,arguments)},L)},count:function(S){var P=0;return U(S,function(){P++}),P},toArray:function(S){return U(S,function(P){return P})||[]},only:function(S){if(!R(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Oe.Component=C,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=V,Oe.StrictMode=r,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return z.H.useMemoCache(S)}},Oe.cache=function(S){return function(){return S.apply(null,arguments)}},Oe.cloneElement=function(S,P,L){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=w({},S.props),Z=S.key,oe=void 0;if(P!=null)for(ie in P.ref!==void 0&&(oe=void 0),P.key!==void 0&&(Z=""+P.key),P)!B.call(P,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&P.ref===void 0||(K[ie]=P[ie]);var ie=arguments.length-2;if(ie===1)K.children=L;else if(1<ie){for(var fe=Array(ie),be=0;be<ie;be++)fe[be]=arguments[be+2];K.children=fe}return _(S.type,Z,void 0,void 0,oe,K)},Oe.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Oe.createElement=function(S,P,L){var K,Z={},oe=null;if(P!=null)for(K in P.key!==void 0&&(oe=""+P.key),P)B.call(P,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Z[K]=P[K]);var ie=arguments.length-2;if(ie===1)Z.children=L;else if(1<ie){for(var fe=Array(ie),be=0;be<ie;be++)fe[be]=arguments[be+2];Z.children=fe}if(S&&S.defaultProps)for(K in ie=S.defaultProps,ie)Z[K]===void 0&&(Z[K]=ie[K]);return _(S,oe,void 0,void 0,null,Z)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(S){return{$$typeof:u,render:S}},Oe.isValidElement=R,Oe.lazy=function(S){return{$$typeof:m,_payload:{_status:-1,_result:S},_init:N}},Oe.memo=function(S,P){return{$$typeof:p,type:S,compare:P===void 0?null:P}},Oe.startTransition=function(S){var P=z.T,L={};z.T=L;try{var K=S(),Z=z.S;Z!==null&&Z(L,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(W,le)}catch(oe){le(oe)}finally{z.T=P}},Oe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Oe.use=function(S){return z.H.use(S)},Oe.useActionState=function(S,P,L){return z.H.useActionState(S,P,L)},Oe.useCallback=function(S,P){return z.H.useCallback(S,P)},Oe.useContext=function(S){return z.H.useContext(S)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(S,P){return z.H.useDeferredValue(S,P)},Oe.useEffect=function(S,P,L){var K=z.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,P)},Oe.useId=function(){return z.H.useId()},Oe.useImperativeHandle=function(S,P,L){return z.H.useImperativeHandle(S,P,L)},Oe.useInsertionEffect=function(S,P){return z.H.useInsertionEffect(S,P)},Oe.useLayoutEffect=function(S,P){return z.H.useLayoutEffect(S,P)},Oe.useMemo=function(S,P){return z.H.useMemo(S,P)},Oe.useOptimistic=function(S,P){return z.H.useOptimistic(S,P)},Oe.useReducer=function(S,P,L){return z.H.useReducer(S,P,L)},Oe.useRef=function(S){return z.H.useRef(S)},Oe.useState=function(S){return z.H.useState(S)},Oe.useSyncExternalStore=function(S,P,L){return z.H.useSyncExternalStore(S,P,L)},Oe.useTransition=function(){return z.H.useTransition()},Oe.version="19.1.0",Oe}var q1;function Wn(){return q1||(q1=1,Pp.exports=r5()),Pp.exports}var Bp={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function i5(){if(V1)return Xt;V1=1;var t=Wn();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,m)},Xt.flushSync=function(h){var p=c.T,m=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=m,r.d.f()}},Xt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Xt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Xt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,x=u(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:v}):m==="script"&&r.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Xt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=u(m,p.crossOrigin);r.d.L(h,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Xt.requestFormReset=function(h){r.d.r(h)},Xt.unstable_batchedUpdates=function(h,p){return h(p)},Xt.useFormState=function(h,p,m){return c.H.useFormState(h,p,m)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var $1;function _w(){if($1)return Bp.exports;$1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=i5(),Bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function s5(){if(W1)return Vo;W1=1;var t=n5(),e=Wn(),n=_w();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,f=l;;){var g=d.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){d=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===d)return u(g),i;if(b===f)return u(g),l;b=b.sibling}throw Error(r(188))}if(d.return!==f.return)d=g,f=b;else{for(var k=!1,D=g.child;D;){if(D===d){k=!0,d=g,f=b;break}if(D===f){k=!0,f=g,d=b;break}D=D.sibling}if(!k){for(D=b.child;D;){if(D===d){k=!0,d=b,f=g;break}if(D===f){k=!0,f=b,d=g;break}D=D.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==f)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function T(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case z:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case q:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case Q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return l=i.displayName||null,l!==null?l:T(i.type)||"Memo";case I:l=i._payload,i=i._init;try{return T(i(l))}catch{}}return null}var te=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},W=[],S=-1;function P(i){return{current:i}}function L(i){0>S||(i.current=W[S],W[S]=null,S--)}function K(i,l){S++,W[S]=i.current,i.current=l}var Z=P(null),oe=P(null),ie=P(null),fe=P(null);function be(i,l){switch(K(ie,l),K(oe,i),K(Z,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?f1(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=f1(l),i=h1(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(Z),K(Z,i)}function Ce(){L(Z),L(oe),L(ie)}function _e(i){i.memoizedState!==null&&K(fe,i);var l=Z.current,d=h1(l,i.type);l!==d&&(K(oe,i),K(Z,d))}function Ue(i){oe.current===i&&(L(Z),L(oe)),fe.current===i&&(L(fe),Bo._currentValue=le)}var Fe=Object.prototype.hasOwnProperty,Be=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,qe=t.unstable_shouldYield,mt=t.unstable_requestPaint,Ne=t.unstable_now,lt=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,vt=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,yr=t.unstable_LowPriority,Ui=t.unstable_IdlePriority,Gl=t.log,Fi=t.unstable_setDisableYieldValue,qi=null,ct=null;function dn(i){if(typeof Gl=="function"&&Fi(i),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(qi,i)}catch{}}var vn=Math.clz32?Math.clz32:B3,L3=Math.log,P3=Math.LN2;function B3(i){return i>>>=0,i===0?32:31-(L3(i)/P3|0)|0}var Ql=256,Jl=4194304;function Vi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xl(i,l,d){var f=i.pendingLanes;if(f===0)return 0;var g=0,b=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var D=f&134217727;return D!==0?(f=D&~b,f!==0?g=Vi(f):(k&=D,k!==0?g=Vi(k):d||(d=D&~i,d!==0&&(g=Vi(d))))):(D=f&~b,D!==0?g=Vi(D):k!==0?g=Vi(k):d||(d=f&~i,d!==0&&(g=Vi(d)))),g===0?0:l!==0&&l!==g&&(l&b)===0&&(b=g&-g,d=l&-l,b>=d||b===32&&(d&4194048)!==0)?l:g}function Wa(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function H3(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(){var i=Ql;return Ql<<=1,(Ql&4194048)===0&&(Ql=256),i}function Q0(){var i=Jl;return Jl<<=1,(Jl&62914560)===0&&(Jl=4194304),i}function Sf(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function Ya(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function I3(i,l,d,f,g,b){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var D=i.entanglements,F=i.expirationTimes,X=i.hiddenUpdates;for(d=k&~d;0<d;){var se=31-vn(d),ce=1<<se;D[se]=0,F[se]=-1;var ee=X[se];if(ee!==null)for(X[se]=null,se=0;se<ee.length;se++){var ne=ee[se];ne!==null&&(ne.lane&=-536870913)}d&=~ce}f!==0&&J0(i,f,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(k&~l))}function J0(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var f=31-vn(l);i.entangledLanes|=l,i.entanglements[f]=i.entanglements[f]|1073741824|d&4194090}function X0(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var f=31-vn(d),g=1<<f;g&l|i[f]&l&&(i[f]|=l),d&=~g}}function jf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Z0(){var i=N.p;return i!==0?i:(i=window.event,i===void 0?32:R1(i.type))}function U3(i,l){var d=N.p;try{return N.p=i,l()}finally{N.p=d}}var Gr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Gr,un="__reactProps$"+Gr,_s="__reactContainer$"+Gr,kf="__reactEvents$"+Gr,F3="__reactListeners$"+Gr,q3="__reactHandles$"+Gr,ex="__reactResources$"+Gr,Ka="__reactMarker$"+Gr;function Ef(i){delete i[Qt],delete i[un],delete i[kf],delete i[F3],delete i[q3]}function zs(i){var l=i[Qt];if(l)return l;for(var d=i.parentNode;d;){if(l=d[_s]||d[Qt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=x1(i);i!==null;){if(d=i[Qt])return d;i=x1(i)}return l}i=d,d=i.parentNode}return null}function Ls(i){if(i=i[Qt]||i[_s]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function Ga(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Ps(i){var l=i[ex];return l||(l=i[ex]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _t(i){i[Ka]=!0}var tx=new Set,nx={};function $i(i,l){Bs(i,l),Bs(i+"Capture",l)}function Bs(i,l){for(nx[i]=l,i=0;i<l.length;i++)tx.add(l[i])}var V3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rx={},ix={};function $3(i){return Fe.call(ix,i)?!0:Fe.call(rx,i)?!1:V3.test(i)?ix[i]=!0:(rx[i]=!0,!1)}function Zl(i,l,d){if($3(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function ec(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function vr(i,l,d,f){if(f===null)i.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+f)}}var Cf,sx;function Hs(i){if(Cf===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Cf=l&&l[1]||"",sx=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cf+i+sx}var Tf=!1;function Of(i,l){if(!i||Tf)return"";Tf=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ne){ee=ne}i.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],D=b[1];if(k&&D){var F=k.split(`
`),X=D.split(`
`);for(g=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(f===F.length||g===X.length)for(f=F.length-1,g=X.length-1;1<=f&&0<=g&&F[f]!==X[g];)g--;for(;1<=f&&0<=g;f--,g--)if(F[f]!==X[g]){if(f!==1||g!==1)do if(f--,g--,0>g||F[f]!==X[g]){var se=`
`+F[f].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=f&&0<=g);break}}}finally{Tf=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Hs(d):""}function W3(i){switch(i.tag){case 26:case 27:case 5:return Hs(i.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 15:return Of(i.type,!1);case 11:return Of(i.type.render,!1);case 1:return Of(i.type,!0);case 31:return Hs("Activity");default:return""}}function ax(i){try{var l="";do l+=W3(i),i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ox(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Y3(i){var l=ox(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),f=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function tc(i){i._valueTracker||(i._valueTracker=Y3(i))}function lx(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),f="";return i&&(f=ox(i)?i.checked?"true":"false":i.value),i=f,i!==d?(l.setValue(i),!0):!1}function nc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var K3=/[\n"\\]/g;function Rn(i){return i.replace(K3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Af(i,l,d,f,g,b,k,D){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),l!=null?k==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Mn(l)):i.value!==""+Mn(l)&&(i.value=""+Mn(l)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),l!=null?Mf(i,k,Mn(l)):d!=null?Mf(i,k,Mn(d)):f!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Mn(D):i.removeAttribute("name")}function cx(i,l,d,f,g,b,k,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;d=d!=null?""+Mn(d):"",l=l!=null?""+Mn(l):d,D||l===i.value||(i.value=l),i.defaultValue=l}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=D?i.checked:!!f,i.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k)}function Mf(i,l,d){l==="number"&&nc(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Is(i,l,d,f){if(i=i.options,l){l={};for(var g=0;g<d.length;g++)l["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=l.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&f&&(i[d].defaultSelected=!0)}else{for(d=""+Mn(d),l=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function dx(i,l,d){if(l!=null&&(l=""+Mn(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+Mn(d):""}function ux(i,l,d,f){if(l==null){if(f!=null){if(d!=null)throw Error(r(92));if(te(f)){if(1<f.length)throw Error(r(93));f=f[0]}d=f}d==null&&(d=""),l=d}d=Mn(l),i.defaultValue=d,f=i.textContent,f===d&&f!==""&&f!==null&&(i.value=f)}function Us(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var G3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fx(i,l,d){var f=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":f?i.setProperty(l,d):typeof d!="number"||d===0||G3.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function hx(i,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in l)f=l[g],l.hasOwnProperty(g)&&d[g]!==f&&fx(i,g,f)}else for(var b in l)l.hasOwnProperty(b)&&fx(i,b,l[b])}function Rf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(i){return J3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Df=null;function _f(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,qs=null;function px(i){var l=Ls(i);if(l&&(i=l.stateNode)){var d=i[un]||null;e:switch(i=l.stateNode,l.type){case"input":if(Af(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Rn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var f=d[l];if(f!==i&&f.form===i.form){var g=f[un]||null;if(!g)throw Error(r(90));Af(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<d.length;l++)f=d[l],f.form===i.form&&lx(f)}break e;case"textarea":dx(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Is(i,!!d.multiple,l,!1)}}}var zf=!1;function mx(i,l,d){if(zf)return i(l,d);zf=!0;try{var f=i(l);return f}finally{if(zf=!1,(Fs!==null||qs!==null)&&(Fc(),Fs&&(l=Fs,i=qs,qs=Fs=null,px(l),i)))for(l=0;l<i.length;l++)px(i[l])}}function Qa(i,l){var d=i.stateNode;if(d===null)return null;var f=d[un]||null;if(f===null)return null;d=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=!1;if(wr)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Lf=!1}var Qr=null,Pf=null,ic=null;function gx(){if(ic)return ic;var i,l=Pf,d=l.length,f,g="value"in Qr?Qr.value:Qr.textContent,b=g.length;for(i=0;i<d&&l[i]===g[i];i++);var k=d-i;for(f=1;f<=k&&l[d-f]===g[b-f];f++);return ic=g.slice(i,1<f?1-f:void 0)}function sc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ac(){return!0}function xx(){return!1}function fn(i){function l(d,f,g,b,k){this._reactName=d,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(d=i[D],this[D]=d?d(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ac:xx,this.isPropagationStopped=xx,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),l}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=fn(Wi),Xa=m({},Wi,{view:0,detail:0}),X3=fn(Xa),Bf,Hf,Za,lc=m({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Za&&(Za&&i.type==="mousemove"?(Bf=i.screenX-Za.screenX,Hf=i.screenY-Za.screenY):Hf=Bf=0,Za=i),Bf)},movementY:function(i){return"movementY"in i?i.movementY:Hf}}),bx=fn(lc),Z3=m({},lc,{dataTransfer:0}),ek=fn(Z3),tk=m({},Xa,{relatedTarget:0}),If=fn(tk),nk=m({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=fn(nk),ik=m({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sk=fn(ik),ak=m({},Wi,{data:0}),yx=fn(ak),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ck[i])?!!l[i]:!1}function Uf(){return dk}var uk=m({},Xa,{key:function(i){if(i.key){var l=ok[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=sc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(i){return i.type==="keypress"?sc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fk=fn(uk),hk=m({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=fn(hk),pk=m({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),mk=fn(pk),gk=m({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xk=fn(gk),bk=m({},lc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yk=fn(bk),vk=m({},Wi,{newState:0,oldState:0}),wk=fn(vk),Sk=[9,13,27,32],Ff=wr&&"CompositionEvent"in window,eo=null;wr&&"documentMode"in document&&(eo=document.documentMode);var jk=wr&&"TextEvent"in window&&!eo,wx=wr&&(!Ff||eo&&8<eo&&11>=eo),Sx=" ",jx=!1;function Nx(i,l){switch(i){case"keyup":return Sk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vs=!1;function Nk(i,l){switch(i){case"compositionend":return kx(l);case"keypress":return l.which!==32?null:(jx=!0,Sx);case"textInput":return i=l.data,i===Sx&&jx?null:i;default:return null}}function kk(i,l){if(Vs)return i==="compositionend"||!Ff&&Nx(i,l)?(i=gx(),ic=Pf=Qr=null,Vs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wx&&l.locale!=="ko"?null:l.data;default:return null}}var Ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Ek[i.type]:l==="textarea"}function Cx(i,l,d,f){Fs?qs?qs.push(f):qs=[f]:Fs=f,l=Kc(l,"onChange"),0<l.length&&(d=new oc("onChange","change",null,d,f),i.push({event:d,listeners:l}))}var to=null,no=null;function Ck(i){o1(i,0)}function cc(i){var l=Ga(i);if(lx(l))return i}function Tx(i,l){if(i==="change")return l}var Ox=!1;if(wr){var qf;if(wr){var Vf="oninput"in document;if(!Vf){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),Vf=typeof Ax.oninput=="function"}qf=Vf}else qf=!1;Ox=qf&&(!document.documentMode||9<document.documentMode)}function Mx(){to&&(to.detachEvent("onpropertychange",Rx),no=to=null)}function Rx(i){if(i.propertyName==="value"&&cc(no)){var l=[];Cx(l,no,i,_f(i)),mx(Ck,l)}}function Tk(i,l,d){i==="focusin"?(Mx(),to=l,no=d,to.attachEvent("onpropertychange",Rx)):i==="focusout"&&Mx()}function Ok(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cc(no)}function Ak(i,l){if(i==="click")return cc(l)}function Mk(i,l){if(i==="input"||i==="change")return cc(l)}function Rk(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var wn=typeof Object.is=="function"?Object.is:Rk;function ro(i,l){if(wn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),f=Object.keys(l);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var g=d[f];if(!Fe.call(l,g)||!wn(i[g],l[g]))return!1}return!0}function Dx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _x(i,l){var d=Dx(i);i=0;for(var f;d;){if(d.nodeType===3){if(f=i+d.textContent.length,i<=l&&f>=l)return{node:d,offset:l-i};i=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Dx(d)}}function zx(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?zx(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Lx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=nc(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=nc(i.document)}return l}function $f(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Dk=wr&&"documentMode"in document&&11>=document.documentMode,$s=null,Wf=null,io=null,Yf=!1;function Px(i,l,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yf||$s==null||$s!==nc(f)||(f=$s,"selectionStart"in f&&$f(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),io&&ro(io,f)||(io=f,f=Kc(Wf,"onSelect"),0<f.length&&(l=new oc("onSelect","select",null,l,d),i.push({event:l,listeners:f}),l.target=$s)))}function Yi(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Ws={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Kf={},Bx={};wr&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Ki(i){if(Kf[i])return Kf[i];if(!Ws[i])return i;var l=Ws[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Bx)return Kf[i]=l[d];return i}var Hx=Ki("animationend"),Ix=Ki("animationiteration"),Ux=Ki("animationstart"),_k=Ki("transitionrun"),zk=Ki("transitionstart"),Lk=Ki("transitioncancel"),Fx=Ki("transitionend"),qx=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Kn(i,l){qx.set(i,l),$i(l,[i])}var Vx=new WeakMap;function Dn(i,l){if(typeof i=="object"&&i!==null){var d=Vx.get(i);return d!==void 0?d:(l={value:i,source:l,stack:ax(l)},Vx.set(i,l),l)}return{value:i,source:l,stack:ax(l)}}var _n=[],Ys=0,Qf=0;function dc(){for(var i=Ys,l=Qf=Ys=0;l<i;){var d=_n[l];_n[l++]=null;var f=_n[l];_n[l++]=null;var g=_n[l];_n[l++]=null;var b=_n[l];if(_n[l++]=null,f!==null&&g!==null){var k=f.pending;k===null?g.next=g:(g.next=k.next,k.next=g),f.pending=g}b!==0&&$x(d,g,b)}}function uc(i,l,d,f){_n[Ys++]=i,_n[Ys++]=l,_n[Ys++]=d,_n[Ys++]=f,Qf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Jf(i,l,d,f){return uc(i,l,d,f),fc(i)}function Ks(i,l){return uc(i,null,null,l),fc(i)}function $x(i,l,d){i.lanes|=d;var f=i.alternate;f!==null&&(f.lanes|=d);for(var g=!1,b=i.return;b!==null;)b.childLanes|=d,f=b.alternate,f!==null&&(f.childLanes|=d),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&l!==null&&(g=31-vn(d),i=b.hiddenUpdates,f=i[g],f===null?i[g]=[l]:f.push(l),l.lane=d|536870912),b):null}function fc(i){if(50<Ao)throw Ao=0,rp=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Gs={};function Pk(i,l,d,f){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,l,d,f){return new Pk(i,l,d,f)}function Xf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Sr(i,l){var d=i.alternate;return d===null?(d=Sn(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function Wx(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function hc(i,l,d,f,g,b){var k=0;if(f=i,typeof i=="function")Xf(i)&&(k=1);else if(typeof i=="string")k=H4(i,d,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Sn(31,d,l,g),i.elementType=R,i.lanes=b,i;case w:return Gi(d.children,g,b,l);case j:k=8,g|=24;break;case C:return i=Sn(12,d,l,g|2),i.elementType=C,i.lanes=b,i;case z:return i=Sn(13,d,l,g),i.elementType=z,i.lanes=b,i;case B:return i=Sn(19,d,l,g),i.elementType=B,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case q:k=10;break e;case V:k=9;break e;case Q:k=11;break e;case _:k=14;break e;case I:k=16,f=null;break e}k=29,d=Error(r(130,i===null?"null":typeof i,"")),f=null}return l=Sn(k,d,l,g),l.elementType=i,l.type=f,l.lanes=b,l}function Gi(i,l,d,f){return i=Sn(7,i,f,l),i.lanes=d,i}function Zf(i,l,d){return i=Sn(6,i,null,l),i.lanes=d,i}function eh(i,l,d){return l=Sn(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Qs=[],Js=0,pc=null,mc=0,zn=[],Ln=0,Qi=null,jr=1,Nr="";function Ji(i,l){Qs[Js++]=mc,Qs[Js++]=pc,pc=i,mc=l}function Yx(i,l,d){zn[Ln++]=jr,zn[Ln++]=Nr,zn[Ln++]=Qi,Qi=i;var f=jr;i=Nr;var g=32-vn(f)-1;f&=~(1<<g),d+=1;var b=32-vn(l)+g;if(30<b){var k=g-g%5;b=(f&(1<<k)-1).toString(32),f>>=k,g-=k,jr=1<<32-vn(l)+g|d<<g|f,Nr=b+i}else jr=1<<b|d<<g|f,Nr=i}function th(i){i.return!==null&&(Ji(i,1),Yx(i,1,0))}function nh(i){for(;i===pc;)pc=Qs[--Js],Qs[Js]=null,mc=Qs[--Js],Qs[Js]=null;for(;i===Qi;)Qi=zn[--Ln],zn[Ln]=null,Nr=zn[--Ln],zn[Ln]=null,jr=zn[--Ln],zn[Ln]=null}var rn=null,dt=null,We=!1,Xi=null,ar=!1,rh=Error(r(519));function Zi(i){var l=Error(r(418,""));throw oo(Dn(l,i)),rh}function Kx(i){var l=i.stateNode,d=i.type,f=i.memoizedProps;switch(l[Qt]=i,l[un]=f,d){case"dialog":Pe("cancel",l),Pe("close",l);break;case"iframe":case"object":case"embed":Pe("load",l);break;case"video":case"audio":for(d=0;d<Ro.length;d++)Pe(Ro[d],l);break;case"source":Pe("error",l);break;case"img":case"image":case"link":Pe("error",l),Pe("load",l);break;case"details":Pe("toggle",l);break;case"input":Pe("invalid",l),cx(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),tc(l);break;case"select":Pe("invalid",l);break;case"textarea":Pe("invalid",l),ux(l,f.value,f.defaultValue,f.children),tc(l)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||f.suppressHydrationWarning===!0||u1(l.textContent,d)?(f.popover!=null&&(Pe("beforetoggle",l),Pe("toggle",l)),f.onScroll!=null&&Pe("scroll",l),f.onScrollEnd!=null&&Pe("scrollend",l),f.onClick!=null&&(l.onclick=Gc),l=!0):l=!1,l||Zi(i)}function Gx(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:rn=rn.return}}function so(i){if(i!==rn)return!1;if(!We)return Gx(i),We=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||yp(i.type,i.memoizedProps)),d=!d),d&&dt&&Zi(i),Gx(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(l===0){dt=Qn(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;i=i.nextSibling}dt=null}}else l===27?(l=dt,fi(i.type)?(i=jp,jp=null,dt=i):dt=l):dt=rn?Qn(i.stateNode.nextSibling):null;return!0}function ao(){dt=rn=null,We=!1}function Qx(){var i=Xi;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Xi=null),i}function oo(i){Xi===null?Xi=[i]:Xi.push(i)}var ih=P(null),es=null,kr=null;function Jr(i,l,d){K(ih,l._currentValue),l._currentValue=d}function Er(i){i._currentValue=ih.current,L(ih)}function sh(i,l,d){for(;i!==null;){var f=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),i===d)break;i=i.return}}function ah(i,l,d,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var k=g.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=g;for(var F=0;F<l.length;F++)if(D.context===l[F]){b.lanes|=d,D=b.alternate,D!==null&&(D.lanes|=d),sh(b.return,d,i),f||(k=null);break e}b=D.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(r(341));k.lanes|=d,b=k.alternate,b!==null&&(b.lanes|=d),sh(k,d,i),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===i){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function lo(i,l,d,f){i=null;for(var g=l,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var D=g.type;wn(g.pendingProps.value,k.value)||(i!==null?i.push(D):i=[D])}}else if(g===fe.current){if(k=g.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Bo):i=[Bo])}g=g.return}i!==null&&ah(l,i,d,f),l.flags|=262144}function gc(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ts(i){es=i,kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return Jx(es,i)}function xc(i,l){return es===null&&ts(i),Jx(i,l)}function Jx(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},kr===null){if(i===null)throw Error(r(308));kr=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else kr=kr.next=l;return d}var Bk=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,f){i.push(f)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},Hk=t.unstable_scheduleCallback,Ik=t.unstable_NormalPriority,Ot={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new Bk,data:new Map,refCount:0}}function co(i){i.refCount--,i.refCount===0&&Hk(Ik,function(){i.controller.abort()})}var uo=null,lh=0,Xs=0,Zs=null;function Uk(i,l){if(uo===null){var d=uo=[];lh=0,Xs=dp(),Zs={status:"pending",value:void 0,then:function(f){d.push(f)}}}return lh++,l.then(Xx,Xx),l}function Xx(){if(--lh===0&&uo!==null){Zs!==null&&(Zs.status="fulfilled");var i=uo;uo=null,Xs=0,Zs=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function Fk(i,l){var d=[],f={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){f.status="fulfilled",f.value=l;for(var g=0;g<d.length;g++)(0,d[g])(l)},function(g){for(f.status="rejected",f.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),f}var Zx=U.S;U.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Uk(i,l),Zx!==null&&Zx(i,l)};var ns=P(null);function ch(){var i=ns.current;return i!==null?i:nt.pooledCache}function bc(i,l){l===null?K(ns,ns.current):K(ns,l.pool)}function eb(){var i=ch();return i===null?null:{parent:Ot._currentValue,pool:i}}var fo=Error(r(460)),tb=Error(r(474)),yc=Error(r(542)),dh={then:function(){}};function nb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vc(){}function rb(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(vc,vc),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sb(i),i;default:if(typeof l.status=="string")l.then(vc,vc);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(f){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=f}},function(f){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sb(i),i}throw ho=l,fo}}var ho=null;function ib(){if(ho===null)throw Error(r(459));var i=ho;return ho=null,i}function sb(i){if(i===fo||i===yc)throw Error(r(483))}var Xr=!1;function uh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ei(i,l,d){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var g=f.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),f.pending=l,l=fc(i),$x(i,null,d),l}return uc(i,f,l,d),fc(i)}function po(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var f=l.lanes;f&=i.pendingLanes,d|=f,l.lanes=d,X0(i,d)}}function hh(i,l){var d=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var g=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?g=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?g=b=l:b=b.next=l}else g=b=l;d={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var ph=!1;function mo(){if(ph){var i=Zs;if(i!==null)throw i}}function go(i,l,d,f){ph=!1;var g=i.updateQueue;Xr=!1;var b=g.firstBaseUpdate,k=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var F=D,X=F.next;F.next=null,k===null?b=X:k.next=X,k=F;var se=i.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==k&&(D===null?se.firstBaseUpdate=X:D.next=X,se.lastBaseUpdate=F))}if(b!==null){var ce=g.baseState;k=0,se=X=F=null,D=b;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(Ie&ee)===ee:(f&ee)===ee){ee!==0&&ee===Xs&&(ph=!0),se!==null&&(se=se.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ke=i,Se=D;ee=l;var Ze=d;switch(Se.tag){case 1:if(ke=Se.payload,typeof ke=="function"){ce=ke.call(Ze,ce,ee);break e}ce=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Se.payload,ee=typeof ke=="function"?ke.call(Ze,ce,ee):ke,ee==null)break e;ce=m({},ce,ee);break e;case 2:Xr=!0}}ee=D.callback,ee!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(X=se=ne,F=ce):se=se.next=ne,k|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);se===null&&(F=ce),g.baseState=F,g.firstBaseUpdate=X,g.lastBaseUpdate=se,b===null&&(g.shared.lanes=0),li|=k,i.lanes=k,i.memoizedState=ce}}function ab(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function ob(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)ab(d[i],l)}var ea=P(null),wc=P(0);function lb(i,l){i=Dr,K(wc,i),K(ea,l),Dr=i|l.baseLanes}function mh(){K(wc,Dr),K(ea,ea.current)}function gh(){Dr=wc.current,L(ea),L(wc)}var ti=0,De=null,Je=null,wt=null,Sc=!1,ta=!1,rs=!1,jc=0,xo=0,na=null,qk=0;function xt(){throw Error(r(321))}function xh(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!wn(i[d],l[d]))return!1;return!0}function bh(i,l,d,f,g,b){return ti=b,De=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=i===null||i.memoizedState===null?$b:Wb,rs=!1,b=d(f,g),rs=!1,ta&&(b=db(l,d,f,g)),cb(i),b}function cb(i){U.H=Oc;var l=Je!==null&&Je.next!==null;if(ti=0,wt=Je=De=null,Sc=!1,xo=0,na=null,l)throw Error(r(300));i===null||zt||(i=i.dependencies,i!==null&&gc(i)&&(zt=!0))}function db(i,l,d,f){De=i;var g=0;do{if(ta&&(na=null),xo=0,ta=!1,25<=g)throw Error(r(301));if(g+=1,wt=Je=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=Qk,b=l(d,f)}while(ta);return b}function Vk(){var i=U.H,l=i.useState()[0];return l=typeof l.then=="function"?bo(l):l,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(De.flags|=1024),l}function yh(){var i=jc!==0;return jc=0,i}function vh(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function wh(i){if(Sc){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Sc=!1}ti=0,wt=Je=De=null,ta=!1,xo=jc=0,na=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?De.memoizedState=wt=i:wt=wt.next=i,wt}function St(){if(Je===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var l=wt===null?De.memoizedState:wt.next;if(l!==null)wt=l,Je=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},wt===null?De.memoizedState=wt=i:wt=wt.next=i}return wt}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(i){var l=xo;return xo+=1,na===null&&(na=[]),i=rb(na,i,l),l=De,(wt===null?l.memoizedState:wt.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?$b:Wb),i}function Nc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bo(i);if(i.$$typeof===q)return Jt(i)}throw Error(r(438,String(i)))}function jh(i){var l=null,d=De.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var f=De.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Sh(),De.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),f=0;f<i;f++)d[f]=E;return l.index++,d}function Cr(i,l){return typeof l=="function"?l(i):l}function kc(i){var l=St();return Nh(l,Je,i)}function Nh(i,l,d){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=d;var g=i.baseQueue,b=f.pending;if(b!==null){if(g!==null){var k=g.next;g.next=b.next,b.next=k}l.baseQueue=g=b,f.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{l=g.next;var D=k=null,F=null,X=l,se=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(Ie&ce)===ce:(ti&ce)===ce){var ee=X.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Xs&&(se=!0);else if((ti&ee)===ee){X=X.next,ee===Xs&&(se=!0);continue}else ce={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(D=F=ce,k=b):F=F.next=ce,De.lanes|=ee,li|=ee;ce=X.action,rs&&d(b,ce),b=X.hasEagerState?X.eagerState:d(b,ce)}else ee={lane:ce,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(D=F=ee,k=b):F=F.next=ee,De.lanes|=ce,li|=ce;X=X.next}while(X!==null&&X!==l);if(F===null?k=b:F.next=D,!wn(b,i.memoizedState)&&(zt=!0,se&&(d=Zs,d!==null)))throw d;i.memoizedState=b,i.baseState=k,i.baseQueue=F,f.lastRenderedState=b}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function kh(i){var l=St(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var f=d.dispatch,g=d.pending,b=l.memoizedState;if(g!==null){d.pending=null;var k=g=g.next;do b=i(b,k.action),k=k.next;while(k!==g);wn(b,l.memoizedState)||(zt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,f]}function ub(i,l,d){var f=De,g=St(),b=We;if(b){if(d===void 0)throw Error(r(407));d=d()}else d=l();var k=!wn((Je||g).memoizedState,d);k&&(g.memoizedState=d,zt=!0),g=g.queue;var D=pb.bind(null,f,g,i);if(yo(2048,8,D,[i]),g.getSnapshot!==l||k||wt!==null&&wt.memoizedState.tag&1){if(f.flags|=2048,ra(9,Ec(),hb.bind(null,f,g,d,l),null),nt===null)throw Error(r(349));b||(ti&124)!==0||fb(f,l,d)}return d}function fb(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=De.updateQueue,l===null?(l=Sh(),De.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function hb(i,l,d,f){l.value=d,l.getSnapshot=f,mb(l)&&gb(i)}function pb(i,l,d){return d(function(){mb(l)&&gb(i)})}function mb(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!wn(i,d)}catch{return!0}}function gb(i){var l=Ks(i,2);l!==null&&Cn(l,i,2)}function Eh(i){var l=hn();if(typeof i=="function"){var d=i;if(i=d(),rs){dn(!0);try{d()}finally{dn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:i},l}function xb(i,l,d,f){return i.baseState=d,Nh(i,Je,typeof f=="function"?f:Cr)}function $k(i,l,d,f,g){if(Tc(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};U.T!==null?d(!0):b.isTransition=!1,f(b),d=l.pending,d===null?(b.next=l.pending=b,bb(l,b)):(b.next=d.next,l.pending=d.next=b)}}function bb(i,l){var d=l.action,f=l.payload,g=i.state;if(l.isTransition){var b=U.T,k={};U.T=k;try{var D=d(g,f),F=U.S;F!==null&&F(k,D),yb(i,l,D)}catch(X){Ch(i,l,X)}finally{U.T=b}}else try{b=d(g,f),yb(i,l,b)}catch(X){Ch(i,l,X)}}function yb(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){vb(i,l,f)},function(f){return Ch(i,l,f)}):vb(i,l,d)}function vb(i,l,d){l.status="fulfilled",l.value=d,wb(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,bb(i,d)))}function Ch(i,l,d){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=d,wb(l),l=l.next;while(l!==f)}i.action=null}function wb(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Sb(i,l){return l}function jb(i,l){if(We){var d=nt.formState;if(d!==null){e:{var f=De;if(We){if(dt){t:{for(var g=dt,b=ar;g.nodeType!==8;){if(!b){g=null;break t}if(g=Qn(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){dt=Qn(g.nextSibling),f=g.data==="F!";break e}}Zi(f)}f=!1}f&&(l=d[0])}}return d=hn(),d.memoizedState=d.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:l},d.queue=f,d=Fb.bind(null,De,f),f.dispatch=d,f=Eh(!1),b=Rh.bind(null,De,!1,f.queue),f=hn(),g={state:l,dispatch:null,action:i,pending:null},f.queue=g,d=$k.bind(null,De,g,b,d),g.dispatch=d,f.memoizedState=i,[l,d,!1]}function Nb(i){var l=St();return kb(l,Je,i)}function kb(i,l,d){if(l=Nh(i,l,Sb)[0],i=kc(Cr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=bo(l)}catch(k){throw k===fo?yc:k}else f=l;l=St();var g=l.queue,b=g.dispatch;return d!==l.memoizedState&&(De.flags|=2048,ra(9,Ec(),Wk.bind(null,g,d),null)),[f,b,i]}function Wk(i,l){i.action=l}function Eb(i){var l=St(),d=Je;if(d!==null)return kb(l,d,i);St(),l=l.memoizedState,d=St();var f=d.queue.dispatch;return d.memoizedState=i,[l,f,!1]}function ra(i,l,d,f){return i={tag:i,create:d,deps:f,inst:l,next:null},l=De.updateQueue,l===null&&(l=Sh(),De.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(f=d.next,d.next=i,i.next=f,l.lastEffect=i),i}function Ec(){return{destroy:void 0,resource:void 0}}function Cb(){return St().memoizedState}function Cc(i,l,d,f){var g=hn();f=f===void 0?null:f,De.flags|=i,g.memoizedState=ra(1|l,Ec(),d,f)}function yo(i,l,d,f){var g=St();f=f===void 0?null:f;var b=g.memoizedState.inst;Je!==null&&f!==null&&xh(f,Je.memoizedState.deps)?g.memoizedState=ra(l,b,d,f):(De.flags|=i,g.memoizedState=ra(1|l,b,d,f))}function Tb(i,l){Cc(8390656,8,i,l)}function Ob(i,l){yo(2048,8,i,l)}function Ab(i,l){return yo(4,2,i,l)}function Mb(i,l){return yo(4,4,i,l)}function Rb(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Db(i,l,d){d=d!=null?d.concat([i]):null,yo(4,4,Rb.bind(null,l,i),d)}function Th(){}function _b(i,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState;return l!==null&&xh(l,f[1])?f[0]:(d.memoizedState=[i,l],i)}function zb(i,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState;if(l!==null&&xh(l,f[1]))return f[0];if(f=i(),rs){dn(!0);try{i()}finally{dn(!1)}}return d.memoizedState=[f,l],f}function Oh(i,l,d){return d===void 0||(ti&1073741824)!==0?i.memoizedState=l:(i.memoizedState=d,i=By(),De.lanes|=i,li|=i,d)}function Lb(i,l,d,f){return wn(d,l)?d:ea.current!==null?(i=Oh(i,d,f),wn(i,l)||(zt=!0),i):(ti&42)===0?(zt=!0,i.memoizedState=d):(i=By(),De.lanes|=i,li|=i,l)}function Pb(i,l,d,f,g){var b=N.p;N.p=b!==0&&8>b?b:8;var k=U.T,D={};U.T=D,Rh(i,!1,l,d);try{var F=g(),X=U.S;if(X!==null&&X(D,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=Fk(F,f);vo(i,l,se,En(i))}else vo(i,l,f,En(i))}catch(ce){vo(i,l,{then:function(){},status:"rejected",reason:ce},En())}finally{N.p=b,U.T=k}}function Yk(){}function Ah(i,l,d,f){if(i.tag!==5)throw Error(r(476));var g=Bb(i).queue;Pb(i,g,l,le,d===null?Yk:function(){return Hb(i),d(f)})}function Bb(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:le},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Hb(i){var l=Bb(i).next.queue;vo(i,l,{},En())}function Mh(){return Jt(Bo)}function Ib(){return St().memoizedState}function Ub(){return St().memoizedState}function Kk(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=En();i=Zr(d);var f=ei(l,i,d);f!==null&&(Cn(f,l,d),po(f,l,d)),l={cache:oh()},i.payload=l;return}l=l.return}}function Gk(i,l,d){var f=En();d={lane:f,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Tc(i)?qb(l,d):(d=Jf(i,l,d,f),d!==null&&(Cn(d,i,f),Vb(d,l,f)))}function Fb(i,l,d){var f=En();vo(i,l,d,f)}function vo(i,l,d,f){var g={lane:f,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Tc(i))qb(l,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var k=l.lastRenderedState,D=b(k,d);if(g.hasEagerState=!0,g.eagerState=D,wn(D,k))return uc(i,l,g,0),nt===null&&dc(),!1}catch{}finally{}if(d=Jf(i,l,g,f),d!==null)return Cn(d,i,f),Vb(d,l,f),!0}return!1}function Rh(i,l,d,f){if(f={lane:2,revertLane:dp(),action:f,hasEagerState:!1,eagerState:null,next:null},Tc(i)){if(l)throw Error(r(479))}else l=Jf(i,d,f,2),l!==null&&Cn(l,i,2)}function Tc(i){var l=i.alternate;return i===De||l!==null&&l===De}function qb(i,l){ta=Sc=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Vb(i,l,d){if((d&4194048)!==0){var f=l.lanes;f&=i.pendingLanes,d|=f,l.lanes=d,X0(i,d)}}var Oc={readContext:Jt,use:Nc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},$b={readContext:Jt,use:Nc,useCallback:function(i,l){return hn().memoizedState=[i,l===void 0?null:l],i},useContext:Jt,useEffect:Tb,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,Cc(4194308,4,Rb.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Cc(4194308,4,i,l)},useInsertionEffect:function(i,l){Cc(4,2,i,l)},useMemo:function(i,l){var d=hn();l=l===void 0?null:l;var f=i();if(rs){dn(!0);try{i()}finally{dn(!1)}}return d.memoizedState=[f,l],f},useReducer:function(i,l,d){var f=hn();if(d!==void 0){var g=d(l);if(rs){dn(!0);try{d(l)}finally{dn(!1)}}}else g=l;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=Gk.bind(null,De,i),[f.memoizedState,i]},useRef:function(i){var l=hn();return i={current:i},l.memoizedState=i},useState:function(i){i=Eh(i);var l=i.queue,d=Fb.bind(null,De,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:Th,useDeferredValue:function(i,l){var d=hn();return Oh(d,i,l)},useTransition:function(){var i=Eh(!1);return i=Pb.bind(null,De,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var f=De,g=hn();if(We){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),nt===null)throw Error(r(349));(Ie&124)!==0||fb(f,l,d)}g.memoizedState=d;var b={value:d,getSnapshot:l};return g.queue=b,Tb(pb.bind(null,f,b,i),[i]),f.flags|=2048,ra(9,Ec(),hb.bind(null,f,b,d,l),null),d},useId:function(){var i=hn(),l=nt.identifierPrefix;if(We){var d=Nr,f=jr;d=(f&~(1<<32-vn(f)-1)).toString(32)+d,l=""+l+"R"+d,d=jc++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=qk++,l=""+l+"r"+d.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:Mh,useFormState:jb,useActionState:jb,useOptimistic:function(i){var l=hn();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Rh.bind(null,De,!0,d),d.dispatch=l,[i,l]},useMemoCache:jh,useCacheRefresh:function(){return hn().memoizedState=Kk.bind(null,De)}},Wb={readContext:Jt,use:Nc,useCallback:_b,useContext:Jt,useEffect:Ob,useImperativeHandle:Db,useInsertionEffect:Ab,useLayoutEffect:Mb,useMemo:zb,useReducer:kc,useRef:Cb,useState:function(){return kc(Cr)},useDebugValue:Th,useDeferredValue:function(i,l){var d=St();return Lb(d,Je.memoizedState,i,l)},useTransition:function(){var i=kc(Cr)[0],l=St().memoizedState;return[typeof i=="boolean"?i:bo(i),l]},useSyncExternalStore:ub,useId:Ib,useHostTransitionStatus:Mh,useFormState:Nb,useActionState:Nb,useOptimistic:function(i,l){var d=St();return xb(d,Je,i,l)},useMemoCache:jh,useCacheRefresh:Ub},Qk={readContext:Jt,use:Nc,useCallback:_b,useContext:Jt,useEffect:Ob,useImperativeHandle:Db,useInsertionEffect:Ab,useLayoutEffect:Mb,useMemo:zb,useReducer:kh,useRef:Cb,useState:function(){return kh(Cr)},useDebugValue:Th,useDeferredValue:function(i,l){var d=St();return Je===null?Oh(d,i,l):Lb(d,Je.memoizedState,i,l)},useTransition:function(){var i=kh(Cr)[0],l=St().memoizedState;return[typeof i=="boolean"?i:bo(i),l]},useSyncExternalStore:ub,useId:Ib,useHostTransitionStatus:Mh,useFormState:Eb,useActionState:Eb,useOptimistic:function(i,l){var d=St();return Je!==null?xb(d,Je,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:jh,useCacheRefresh:Ub},ia=null,wo=0;function Ac(i){var l=wo;return wo+=1,ia===null&&(ia=[]),rb(ia,i,l)}function So(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Mc(i,l){throw l.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Yb(i){var l=i._init;return l(i._payload)}function Kb(i){function l(G,Y){if(i){var J=G.deletions;J===null?(G.deletions=[Y],G.flags|=16):J.push(Y)}}function d(G,Y){if(!i)return null;for(;Y!==null;)l(G,Y),Y=Y.sibling;return null}function f(G){for(var Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function g(G,Y){return G=Sr(G,Y),G.index=0,G.sibling=null,G}function b(G,Y,J){return G.index=J,i?(J=G.alternate,J!==null?(J=J.index,J<Y?(G.flags|=67108866,Y):J):(G.flags|=67108866,Y)):(G.flags|=1048576,Y)}function k(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function D(G,Y,J,ae){return Y===null||Y.tag!==6?(Y=Zf(J,G.mode,ae),Y.return=G,Y):(Y=g(Y,J),Y.return=G,Y)}function F(G,Y,J,ae){var xe=J.type;return xe===w?se(G,Y,J.props.children,ae,J.key):Y!==null&&(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&Yb(xe)===Y.type)?(Y=g(Y,J.props),So(Y,J),Y.return=G,Y):(Y=hc(J.type,J.key,J.props,null,G.mode,ae),So(Y,J),Y.return=G,Y)}function X(G,Y,J,ae){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=eh(J,G.mode,ae),Y.return=G,Y):(Y=g(Y,J.children||[]),Y.return=G,Y)}function se(G,Y,J,ae,xe){return Y===null||Y.tag!==7?(Y=Gi(J,G.mode,ae,xe),Y.return=G,Y):(Y=g(Y,J),Y.return=G,Y)}function ce(G,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zf(""+Y,G.mode,J),Y.return=G,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:return J=hc(Y.type,Y.key,Y.props,null,G.mode,J),So(J,Y),J.return=G,J;case v:return Y=eh(Y,G.mode,J),Y.return=G,Y;case I:var ae=Y._init;return Y=ae(Y._payload),ce(G,Y,J)}if(te(Y)||$(Y))return Y=Gi(Y,G.mode,J,null),Y.return=G,Y;if(typeof Y.then=="function")return ce(G,Ac(Y),J);if(Y.$$typeof===q)return ce(G,xc(G,Y),J);Mc(G,Y)}return null}function ee(G,Y,J,ae){var xe=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return xe!==null?null:D(G,Y,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===xe?F(G,Y,J,ae):null;case v:return J.key===xe?X(G,Y,J,ae):null;case I:return xe=J._init,J=xe(J._payload),ee(G,Y,J,ae)}if(te(J)||$(J))return xe!==null?null:se(G,Y,J,ae,null);if(typeof J.then=="function")return ee(G,Y,Ac(J),ae);if(J.$$typeof===q)return ee(G,Y,xc(G,J),ae);Mc(G,J)}return null}function ne(G,Y,J,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(J)||null,D(Y,G,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return G=G.get(ae.key===null?J:ae.key)||null,F(Y,G,ae,xe);case v:return G=G.get(ae.key===null?J:ae.key)||null,X(Y,G,ae,xe);case I:var ze=ae._init;return ae=ze(ae._payload),ne(G,Y,J,ae,xe)}if(te(ae)||$(ae))return G=G.get(J)||null,se(Y,G,ae,xe,null);if(typeof ae.then=="function")return ne(G,Y,J,Ac(ae),xe);if(ae.$$typeof===q)return ne(G,Y,J,xc(Y,ae),xe);Mc(Y,ae)}return null}function ke(G,Y,J,ae){for(var xe=null,ze=null,ye=Y,je=Y=0,Pt=null;ye!==null&&je<J.length;je++){ye.index>je?(Pt=ye,ye=null):Pt=ye.sibling;var Ve=ee(G,ye,J[je],ae);if(Ve===null){ye===null&&(ye=Pt);break}i&&ye&&Ve.alternate===null&&l(G,ye),Y=b(Ve,Y,je),ze===null?xe=Ve:ze.sibling=Ve,ze=Ve,ye=Pt}if(je===J.length)return d(G,ye),We&&Ji(G,je),xe;if(ye===null){for(;je<J.length;je++)ye=ce(G,J[je],ae),ye!==null&&(Y=b(ye,Y,je),ze===null?xe=ye:ze.sibling=ye,ze=ye);return We&&Ji(G,je),xe}for(ye=f(ye);je<J.length;je++)Pt=ne(ye,G,je,J[je],ae),Pt!==null&&(i&&Pt.alternate!==null&&ye.delete(Pt.key===null?je:Pt.key),Y=b(Pt,Y,je),ze===null?xe=Pt:ze.sibling=Pt,ze=Pt);return i&&ye.forEach(function(xi){return l(G,xi)}),We&&Ji(G,je),xe}function Se(G,Y,J,ae){if(J==null)throw Error(r(151));for(var xe=null,ze=null,ye=Y,je=Y=0,Pt=null,Ve=J.next();ye!==null&&!Ve.done;je++,Ve=J.next()){ye.index>je?(Pt=ye,ye=null):Pt=ye.sibling;var xi=ee(G,ye,Ve.value,ae);if(xi===null){ye===null&&(ye=Pt);break}i&&ye&&xi.alternate===null&&l(G,ye),Y=b(xi,Y,je),ze===null?xe=xi:ze.sibling=xi,ze=xi,ye=Pt}if(Ve.done)return d(G,ye),We&&Ji(G,je),xe;if(ye===null){for(;!Ve.done;je++,Ve=J.next())Ve=ce(G,Ve.value,ae),Ve!==null&&(Y=b(Ve,Y,je),ze===null?xe=Ve:ze.sibling=Ve,ze=Ve);return We&&Ji(G,je),xe}for(ye=f(ye);!Ve.done;je++,Ve=J.next())Ve=ne(ye,G,je,Ve.value,ae),Ve!==null&&(i&&Ve.alternate!==null&&ye.delete(Ve.key===null?je:Ve.key),Y=b(Ve,Y,je),ze===null?xe=Ve:ze.sibling=Ve,ze=Ve);return i&&ye.forEach(function(J4){return l(G,J4)}),We&&Ji(G,je),xe}function Ze(G,Y,J,ae){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var xe=J.key;Y!==null;){if(Y.key===xe){if(xe=J.type,xe===w){if(Y.tag===7){d(G,Y.sibling),ae=g(Y,J.props.children),ae.return=G,G=ae;break e}}else if(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&Yb(xe)===Y.type){d(G,Y.sibling),ae=g(Y,J.props),So(ae,J),ae.return=G,G=ae;break e}d(G,Y);break}else l(G,Y);Y=Y.sibling}J.type===w?(ae=Gi(J.props.children,G.mode,ae,J.key),ae.return=G,G=ae):(ae=hc(J.type,J.key,J.props,null,G.mode,ae),So(ae,J),ae.return=G,G=ae)}return k(G);case v:e:{for(xe=J.key;Y!==null;){if(Y.key===xe)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){d(G,Y.sibling),ae=g(Y,J.children||[]),ae.return=G,G=ae;break e}else{d(G,Y);break}else l(G,Y);Y=Y.sibling}ae=eh(J,G.mode,ae),ae.return=G,G=ae}return k(G);case I:return xe=J._init,J=xe(J._payload),Ze(G,Y,J,ae)}if(te(J))return ke(G,Y,J,ae);if($(J)){if(xe=$(J),typeof xe!="function")throw Error(r(150));return J=xe.call(J),Se(G,Y,J,ae)}if(typeof J.then=="function")return Ze(G,Y,Ac(J),ae);if(J.$$typeof===q)return Ze(G,Y,xc(G,J),ae);Mc(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(d(G,Y.sibling),ae=g(Y,J),ae.return=G,G=ae):(d(G,Y),ae=Zf(J,G.mode,ae),ae.return=G,G=ae),k(G)):d(G,Y)}return function(G,Y,J,ae){try{wo=0;var xe=Ze(G,Y,J,ae);return ia=null,xe}catch(ye){if(ye===fo||ye===yc)throw ye;var ze=Sn(29,ye,null,G.mode);return ze.lanes=ae,ze.return=G,ze}finally{}}}var sa=Kb(!0),Gb=Kb(!1),Pn=P(null),or=null;function ni(i){var l=i.alternate;K(At,At.current&1),K(Pn,i),or===null&&(l===null||ea.current!==null||l.memoizedState!==null)&&(or=i)}function Qb(i){if(i.tag===22){if(K(At,At.current),K(Pn,i),or===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(or=i)}}else ri()}function ri(){K(At,At.current),K(Pn,Pn.current)}function Tr(i){L(Pn),or===i&&(or=null),L(At)}var At=P(0);function Rc(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Sp(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Dh(i,l,d,f){l=i.memoizedState,d=d(f,l),d=d==null?l:m({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var _h={enqueueSetState:function(i,l,d){i=i._reactInternals;var f=En(),g=Zr(f);g.payload=l,d!=null&&(g.callback=d),l=ei(i,g,f),l!==null&&(Cn(l,i,f),po(l,i,f))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var f=En(),g=Zr(f);g.tag=1,g.payload=l,d!=null&&(g.callback=d),l=ei(i,g,f),l!==null&&(Cn(l,i,f),po(l,i,f))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=En(),f=Zr(d);f.tag=2,l!=null&&(f.callback=l),l=ei(i,f,d),l!==null&&(Cn(l,i,d),po(l,i,d))}};function Jb(i,l,d,f,g,b,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,k):l.prototype&&l.prototype.isPureReactComponent?!ro(d,f)||!ro(g,b):!0}function Xb(i,l,d,f){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,f),l.state!==i&&_h.enqueueReplaceState(l,l.state,null)}function is(i,l){var d=l;if("ref"in l){d={};for(var f in l)f!=="ref"&&(d[f]=l[f])}if(i=i.defaultProps){d===l&&(d=m({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}var Dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Zb(i){Dc(i)}function ey(i){console.error(i)}function ty(i){Dc(i)}function _c(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function ny(i,l,d){try{var f=i.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zh(i,l,d){return d=Zr(d),d.tag=3,d.payload={element:null},d.callback=function(){_c(i,l)},d}function ry(i){return i=Zr(i),i.tag=3,i}function iy(i,l,d,f){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;i.payload=function(){return g(b)},i.callback=function(){ny(l,d,f)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){ny(l,d,f),typeof g!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function Jk(i,l,d,f,g){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=d.alternate,l!==null&&lo(l,d,g,!0),d=Pn.current,d!==null){switch(d.tag){case 13:return or===null?sp():d.alternate===null&&ut===0&&(ut=3),d.flags&=-257,d.flags|=65536,d.lanes=g,f===dh?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([f]):l.add(f),op(i,f,g)),!1;case 22:return d.flags|=65536,f===dh?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([f]):d.add(f)),op(i,f,g)),!1}throw Error(r(435,d.tag))}return op(i,f,g),sp(),!1}if(We)return l=Pn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,f!==rh&&(i=Error(r(422),{cause:f}),oo(Dn(i,d)))):(f!==rh&&(l=Error(r(423),{cause:f}),oo(Dn(l,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=Dn(f,d),g=zh(i.stateNode,f,g),hh(i,g),ut!==4&&(ut=2)),!1;var b=Error(r(520),{cause:f});if(b=Dn(b,d),Oo===null?Oo=[b]:Oo.push(b),ut!==4&&(ut=2),l===null)return!0;f=Dn(f,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=zh(d.stateNode,f,i),hh(d,i),!1;case 1:if(l=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ci===null||!ci.has(b))))return d.flags|=65536,g&=-g,d.lanes|=g,g=ry(g),iy(g,i,d,f),hh(d,g),!1}d=d.return}while(d!==null);return!1}var sy=Error(r(461)),zt=!1;function Vt(i,l,d,f){l.child=i===null?Gb(l,null,d,f):sa(l,i.child,d,f)}function ay(i,l,d,f,g){d=d.render;var b=l.ref;if("ref"in f){var k={};for(var D in f)D!=="ref"&&(k[D]=f[D])}else k=f;return ts(l),f=bh(i,l,d,k,b,g),D=yh(),i!==null&&!zt?(vh(i,l,g),Or(i,l,g)):(We&&D&&th(l),l.flags|=1,Vt(i,l,f,g),l.child)}function oy(i,l,d,f,g){if(i===null){var b=d.type;return typeof b=="function"&&!Xf(b)&&b.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=b,ly(i,l,b,f,g)):(i=hc(d.type,null,f,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!qh(i,g)){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:ro,d(k,f)&&i.ref===l.ref)return Or(i,l,g)}return l.flags|=1,i=Sr(b,f),i.ref=l.ref,i.return=l,l.child=i}function ly(i,l,d,f,g){if(i!==null){var b=i.memoizedProps;if(ro(b,f)&&i.ref===l.ref)if(zt=!1,l.pendingProps=f=b,qh(i,g))(i.flags&131072)!==0&&(zt=!0);else return l.lanes=i.lanes,Or(i,l,g)}return Lh(i,l,d,f,g)}function cy(i,l,d){var f=l.pendingProps,g=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=b!==null?b.baseLanes|d:d,i!==null){for(g=l.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;l.childLanes=b&~f}else l.childLanes=0,l.child=null;return dy(i,l,f,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&bc(l,b!==null?b.cachePool:null),b!==null?lb(l,b):mh(),Qb(l);else return l.lanes=l.childLanes=536870912,dy(i,l,b!==null?b.baseLanes|d:d,d)}else b!==null?(bc(l,b.cachePool),lb(l,b),ri(),l.memoizedState=null):(i!==null&&bc(l,null),mh(),ri());return Vt(i,l,g,d),l.child}function dy(i,l,d,f){var g=ch();return g=g===null?null:{parent:Ot._currentValue,pool:g},l.memoizedState={baseLanes:d,cachePool:g},i!==null&&bc(l,null),mh(),Qb(l),i!==null&&lo(i,l,f,!0),null}function zc(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function Lh(i,l,d,f,g){return ts(l),d=bh(i,l,d,f,void 0,g),f=yh(),i!==null&&!zt?(vh(i,l,g),Or(i,l,g)):(We&&f&&th(l),l.flags|=1,Vt(i,l,d,g),l.child)}function uy(i,l,d,f,g,b){return ts(l),l.updateQueue=null,d=db(l,f,d,g),cb(i),f=yh(),i!==null&&!zt?(vh(i,l,b),Or(i,l,b)):(We&&f&&th(l),l.flags|=1,Vt(i,l,d,b),l.child)}function fy(i,l,d,f,g){if(ts(l),l.stateNode===null){var b=Gs,k=d.contextType;typeof k=="object"&&k!==null&&(b=Jt(k)),b=new d(f,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=_h,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=f,b.state=l.memoizedState,b.refs={},uh(l),k=d.contextType,b.context=typeof k=="object"&&k!==null?Jt(k):Gs,b.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Dh(l,d,k,f),b.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&_h.enqueueReplaceState(b,b.state,null),go(l,f,b,g),mo(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(i===null){b=l.stateNode;var D=l.memoizedProps,F=is(d,D);b.props=F;var X=b.context,se=d.contextType;k=Gs,typeof se=="object"&&se!==null&&(k=Jt(se));var ce=d.getDerivedStateFromProps;se=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,se||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||X!==k)&&Xb(l,b,f,k),Xr=!1;var ee=l.memoizedState;b.state=ee,go(l,f,b,g),mo(),X=l.memoizedState,D||ee!==X||Xr?(typeof ce=="function"&&(Dh(l,d,ce,f),X=l.memoizedState),(F=Xr||Jb(l,d,F,f,ee,X,k))?(se||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=X),b.props=f,b.state=X,b.context=k,f=F):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{b=l.stateNode,fh(i,l),k=l.memoizedProps,se=is(d,k),b.props=se,ce=l.pendingProps,ee=b.context,X=d.contextType,F=Gs,typeof X=="object"&&X!==null&&(F=Jt(X)),D=d.getDerivedStateFromProps,(X=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==ce||ee!==F)&&Xb(l,b,f,F),Xr=!1,ee=l.memoizedState,b.state=ee,go(l,f,b,g),mo();var ne=l.memoizedState;k!==ce||ee!==ne||Xr||i!==null&&i.dependencies!==null&&gc(i.dependencies)?(typeof D=="function"&&(Dh(l,d,D,f),ne=l.memoizedState),(se=Xr||Jb(l,d,se,f,ee,ne,F)||i!==null&&i.dependencies!==null&&gc(i.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ne,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ne,F)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=ne),b.props=f,b.state=ne,b.context=F,f=se):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(l.flags|=1024),f=!1)}return b=f,zc(i,l),f=(l.flags&128)!==0,b||f?(b=l.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&f?(l.child=sa(l,i.child,null,g),l.child=sa(l,null,d,g)):Vt(i,l,d,g),l.memoizedState=b.state,i=l.child):i=Or(i,l,g),i}function hy(i,l,d,f){return ao(),l.flags|=256,Vt(i,l,d,f),l.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(i){return{baseLanes:i,cachePool:eb()}}function Hh(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=Bn),i}function py(i,l,d){var f=l.pendingProps,g=!1,b=(l.flags&128)!==0,k;if((k=b)||(k=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),k&&(g=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,i===null){if(We){if(g?ni(l):ri(),We){var D=dt,F;if(F=D){e:{for(F=D,D=ar;F.nodeType!==8;){if(!D){D=null;break e}if(F=Qn(F.nextSibling),F===null){D=null;break e}}D=F}D!==null?(l.memoizedState={dehydrated:D,treeContext:Qi!==null?{id:jr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},F=Sn(18,null,null,0),F.stateNode=D,F.return=l,l.child=F,rn=l,dt=null,F=!0):F=!1}F||Zi(l)}if(D=l.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Sp(D)?l.lanes=32:l.lanes=536870912,null;Tr(l)}return D=f.children,f=f.fallback,g?(ri(),g=l.mode,D=Lc({mode:"hidden",children:D},g),f=Gi(f,g,d,null),D.return=l,f.return=l,D.sibling=f,l.child=D,g=l.child,g.memoizedState=Bh(d),g.childLanes=Hh(i,k,d),l.memoizedState=Ph,f):(ni(l),Ih(l,D))}if(F=i.memoizedState,F!==null&&(D=F.dehydrated,D!==null)){if(b)l.flags&256?(ni(l),l.flags&=-257,l=Uh(i,l,d)):l.memoizedState!==null?(ri(),l.child=i.child,l.flags|=128,l=null):(ri(),g=f.fallback,D=l.mode,f=Lc({mode:"visible",children:f.children},D),g=Gi(g,D,d,null),g.flags|=2,f.return=l,g.return=l,f.sibling=g,l.child=f,sa(l,i.child,null,d),f=l.child,f.memoizedState=Bh(d),f.childLanes=Hh(i,k,d),l.memoizedState=Ph,l=g);else if(ni(l),Sp(D)){if(k=D.nextSibling&&D.nextSibling.dataset,k)var X=k.dgst;k=X,f=Error(r(419)),f.stack="",f.digest=k,oo({value:f,source:null,stack:null}),l=Uh(i,l,d)}else if(zt||lo(i,l,d,!1),k=(d&i.childLanes)!==0,zt||k){if(k=nt,k!==null&&(f=d&-d,f=(f&42)!==0?1:jf(f),f=(f&(k.suspendedLanes|d))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,Ks(i,f),Cn(k,i,f),sy;D.data==="$?"||sp(),l=Uh(i,l,d)}else D.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=F.treeContext,dt=Qn(D.nextSibling),rn=l,We=!0,Xi=null,ar=!1,i!==null&&(zn[Ln++]=jr,zn[Ln++]=Nr,zn[Ln++]=Qi,jr=i.id,Nr=i.overflow,Qi=l),l=Ih(l,f.children),l.flags|=4096);return l}return g?(ri(),g=f.fallback,D=l.mode,F=i.child,X=F.sibling,f=Sr(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,X!==null?g=Sr(X,g):(g=Gi(g,D,d,null),g.flags|=2),g.return=l,f.return=l,f.sibling=g,l.child=f,f=g,g=l.child,D=i.child.memoizedState,D===null?D=Bh(d):(F=D.cachePool,F!==null?(X=Ot._currentValue,F=F.parent!==X?{parent:X,pool:X}:F):F=eb(),D={baseLanes:D.baseLanes|d,cachePool:F}),g.memoizedState=D,g.childLanes=Hh(i,k,d),l.memoizedState=Ph,f):(ni(l),d=i.child,i=d.sibling,d=Sr(d,{mode:"visible",children:f.children}),d.return=l,d.sibling=null,i!==null&&(k=l.deletions,k===null?(l.deletions=[i],l.flags|=16):k.push(i)),l.child=d,l.memoizedState=null,d)}function Ih(i,l){return l=Lc({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Lc(i,l){return i=Sn(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Uh(i,l,d){return sa(l,i.child,null,d),i=Ih(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function my(i,l,d){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l),sh(i.return,l,d)}function Fh(i,l,d,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:g}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=d,b.tailMode=g)}function gy(i,l,d){var f=l.pendingProps,g=f.revealOrder,b=f.tail;if(Vt(i,l,f.children,d),f=At.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&my(i,d,l);else if(i.tag===19)my(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(K(At,f),g){case"forwards":for(d=l.child,g=null;d!==null;)i=d.alternate,i!==null&&Rc(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=l.child,l.child=null):(g=d.sibling,d.sibling=null),Fh(l,!1,g,d,b);break;case"backwards":for(d=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&Rc(i)===null){l.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Fh(l,!0,d,null,b);break;case"together":Fh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Or(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),li|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(lo(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Sr(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Sr(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function qh(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&gc(i)))}function Xk(i,l,d){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Jr(l,Ot,i.memoizedState.cache),ao();break;case 27:case 5:_e(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Jr(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(ni(l),l.flags|=128,null):(d&l.child.childLanes)!==0?py(i,l,d):(ni(l),i=Or(i,l,d),i!==null?i.sibling:null);ni(l);break;case 19:var g=(i.flags&128)!==0;if(f=(d&l.childLanes)!==0,f||(lo(i,l,d,!1),f=(d&l.childLanes)!==0),g){if(f)return gy(i,l,d);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(At,At.current),f)break;return null;case 22:case 23:return l.lanes=0,cy(i,l,d);case 24:Jr(l,Ot,i.memoizedState.cache)}return Or(i,l,d)}function xy(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)zt=!0;else{if(!qh(i,d)&&(l.flags&128)===0)return zt=!1,Xk(i,l,d);zt=(i.flags&131072)!==0}else zt=!1,We&&(l.flags&1048576)!==0&&Yx(l,mc,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var f=l.elementType,g=f._init;if(f=g(f._payload),l.type=f,typeof f=="function")Xf(f)?(i=is(f,i),l.tag=1,l=fy(null,l,f,i,d)):(l.tag=0,l=Lh(null,l,f,i,d));else{if(f!=null){if(g=f.$$typeof,g===Q){l.tag=11,l=ay(null,l,f,i,d);break e}else if(g===_){l.tag=14,l=oy(null,l,f,i,d);break e}}throw l=T(f)||f,Error(r(306,l,""))}}return l;case 0:return Lh(i,l,l.type,l.pendingProps,d);case 1:return f=l.type,g=is(f,l.pendingProps),fy(i,l,f,g,d);case 3:e:{if(be(l,l.stateNode.containerInfo),i===null)throw Error(r(387));f=l.pendingProps;var b=l.memoizedState;g=b.element,fh(i,l),go(l,f,null,d);var k=l.memoizedState;if(f=k.cache,Jr(l,Ot,f),f!==b.cache&&ah(l,[Ot],d,!0),mo(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=hy(i,l,f,d);break e}else if(f!==g){g=Dn(Error(r(424)),l),oo(g),l=hy(i,l,f,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dt=Qn(i.firstChild),rn=l,We=!0,Xi=null,ar=!0,d=Gb(l,null,f,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ao(),f===g){l=Or(i,l,d);break e}Vt(i,l,f,d)}l=l.child}return l;case 26:return zc(i,l),i===null?(d=w1(l.type,null,l.pendingProps,null))?l.memoizedState=d:We||(d=l.type,i=l.pendingProps,f=Qc(ie.current).createElement(d),f[Qt]=l,f[un]=i,Wt(f,d,i),_t(f),l.stateNode=f):l.memoizedState=w1(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return _e(l),i===null&&We&&(f=l.stateNode=b1(l.type,l.pendingProps,ie.current),rn=l,ar=!0,g=dt,fi(l.type)?(jp=g,dt=Qn(f.firstChild)):dt=g),Vt(i,l,l.pendingProps.children,d),zc(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&We&&((g=f=dt)&&(f=E4(f,l.type,l.pendingProps,ar),f!==null?(l.stateNode=f,rn=l,dt=Qn(f.firstChild),ar=!1,g=!0):g=!1),g||Zi(l)),_e(l),g=l.type,b=l.pendingProps,k=i!==null?i.memoizedProps:null,f=b.children,yp(g,b)?f=null:k!==null&&yp(g,k)&&(l.flags|=32),l.memoizedState!==null&&(g=bh(i,l,Vk,null,null,d),Bo._currentValue=g),zc(i,l),Vt(i,l,f,d),l.child;case 6:return i===null&&We&&((i=d=dt)&&(d=C4(d,l.pendingProps,ar),d!==null?(l.stateNode=d,rn=l,dt=null,i=!0):i=!1),i||Zi(l)),null;case 13:return py(i,l,d);case 4:return be(l,l.stateNode.containerInfo),f=l.pendingProps,i===null?l.child=sa(l,null,f,d):Vt(i,l,f,d),l.child;case 11:return ay(i,l,l.type,l.pendingProps,d);case 7:return Vt(i,l,l.pendingProps,d),l.child;case 8:return Vt(i,l,l.pendingProps.children,d),l.child;case 12:return Vt(i,l,l.pendingProps.children,d),l.child;case 10:return f=l.pendingProps,Jr(l,l.type,f.value),Vt(i,l,f.children,d),l.child;case 9:return g=l.type._context,f=l.pendingProps.children,ts(l),g=Jt(g),f=f(g),l.flags|=1,Vt(i,l,f,d),l.child;case 14:return oy(i,l,l.type,l.pendingProps,d);case 15:return ly(i,l,l.type,l.pendingProps,d);case 19:return gy(i,l,d);case 31:return f=l.pendingProps,d=l.mode,f={mode:f.mode,children:f.children},i===null?(d=Lc(f,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=Sr(i.child,f),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return cy(i,l,d);case 24:return ts(l),f=Jt(Ot),i===null?(g=ch(),g===null&&(g=nt,b=oh(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=d),g=b),l.memoizedState={parent:f,cache:g},uh(l),Jr(l,Ot,g)):((i.lanes&d)!==0&&(fh(i,l),go(l,null,null,d),mo()),g=i.memoizedState,b=l.memoizedState,g.parent!==f?(g={parent:f,cache:f},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),Jr(l,Ot,f)):(f=b.cache,Jr(l,Ot,f),f!==g.cache&&ah(l,[Ot],d,!0))),Vt(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ar(i){i.flags|=4}function by(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!E1(l)){if(l=Pn.current,l!==null&&((Ie&4194048)===Ie?or!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||l!==or))throw ho=dh,tb;i.flags|=8192}}function Pc(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Q0():536870912,i.lanes|=l,ca|=l)}function jo(i,l){if(!We)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function at(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,f=0;if(l)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=d,l}function Zk(i,l,d){var f=l.pendingProps;switch(nh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(l),null;case 1:return at(l),null;case 3:return d=l.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Er(Ot),Ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(so(l)?Ar(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qx())),at(l),null;case 26:return d=l.memoizedState,i===null?(Ar(l),d!==null?(at(l),by(l,d)):(at(l),l.flags&=-16777217)):d?d!==i.memoizedState?(Ar(l),at(l),by(l,d)):(at(l),l.flags&=-16777217):(i.memoizedProps!==f&&Ar(l),at(l),l.flags&=-16777217),null;case 27:Ue(l),d=ie.current;var g=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==f&&Ar(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return at(l),null}i=Z.current,so(l)?Kx(l):(i=b1(g,f,d),l.stateNode=i,Ar(l))}return at(l),null;case 5:if(Ue(l),d=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==f&&Ar(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return at(l),null}if(i=Z.current,so(l))Kx(l);else{switch(g=Qc(ie.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(d,{is:f.is}):g.createElement(d)}}i[Qt]=l,i[un]=f;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=i;e:switch(Wt(i,d,f),d){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ar(l)}}return at(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==f&&Ar(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(r(166));if(i=ie.current,so(l)){if(i=l.stateNode,d=l.memoizedProps,f=null,g=rn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Qt]=l,i=!!(i.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||u1(i.nodeValue,d)),i||Zi(l)}else i=Qc(i).createTextNode(f),i[Qt]=l,l.stateNode=i}return at(l),null;case 13:if(f=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=so(l),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Qt]=l}else ao(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;at(l),g=!1}else g=Qx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(Tr(l),l):(Tr(l),null)}if(Tr(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=f!==null,i=i!==null&&i.memoizedState!==null,d){f=l.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)}return d!==i&&d&&(l.child.flags|=8192),Pc(l,l.updateQueue),at(l),null;case 4:return Ce(),i===null&&pp(l.stateNode.containerInfo),at(l),null;case 10:return Er(l.type),at(l),null;case 19:if(L(At),g=l.memoizedState,g===null)return at(l),null;if(f=(l.flags&128)!==0,b=g.rendering,b===null)if(f)jo(g,!1);else{if(ut!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=Rc(i),b!==null){for(l.flags|=128,jo(g,!1),i=b.updateQueue,l.updateQueue=i,Pc(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)Wx(d,i),d=d.sibling;return K(At,At.current&1|2),l.child}i=i.sibling}g.tail!==null&&Ne()>Ic&&(l.flags|=128,f=!0,jo(g,!1),l.lanes=4194304)}else{if(!f)if(i=Rc(b),i!==null){if(l.flags|=128,f=!0,i=i.updateQueue,l.updateQueue=i,Pc(l,i),jo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!We)return at(l),null}else 2*Ne()-g.renderingStartTime>Ic&&d!==536870912&&(l.flags|=128,f=!0,jo(g,!1),l.lanes=4194304);g.isBackwards?(b.sibling=l.child,l.child=b):(i=g.last,i!==null?i.sibling=b:l.child=b,g.last=b)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Ne(),l.sibling=null,i=At.current,K(At,f?i&1|2:i&1),l):(at(l),null);case 22:case 23:return Tr(l),gh(),f=l.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(d&536870912)!==0&&(l.flags&128)===0&&(at(l),l.subtreeFlags&6&&(l.flags|=8192)):at(l),d=l.updateQueue,d!==null&&Pc(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048),i!==null&&L(ns),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Er(Ot),at(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function e4(i,l){switch(nh(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Er(Ot),Ce(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ue(l),null;case 13:if(Tr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ao()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return L(At),null;case 4:return Ce(),null;case 10:return Er(l.type),null;case 22:case 23:return Tr(l),gh(),i!==null&&L(ns),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Er(Ot),null;case 25:return null;default:return null}}function yy(i,l){switch(nh(l),l.tag){case 3:Er(Ot),Ce();break;case 26:case 27:case 5:Ue(l);break;case 4:Ce();break;case 13:Tr(l);break;case 19:L(At);break;case 10:Er(l.type);break;case 22:case 23:Tr(l),gh(),i!==null&&L(ns);break;case 24:Er(Ot)}}function No(i,l){try{var d=l.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var g=f.next;d=g;do{if((d.tag&i)===i){f=void 0;var b=d.create,k=d.inst;f=b(),k.destroy=f}d=d.next}while(d!==g)}}catch(D){et(l,l.return,D)}}function ii(i,l,d){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&i)===i){var k=f.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,g=l;var F=d,X=D;try{X()}catch(se){et(g,F,se)}}}f=f.next}while(f!==b)}}catch(se){et(l,l.return,se)}}function vy(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{ob(l,d)}catch(f){et(i,i.return,f)}}}function wy(i,l,d){d.props=is(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(f){et(i,l,f)}}function ko(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof d=="function"?i.refCleanup=d(f):d.current=f}}catch(g){et(i,l,g)}}function lr(i,l){var d=i.ref,f=i.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(g){et(i,l,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){et(i,l,g)}else d.current=null}function Sy(i){var l=i.type,d=i.memoizedProps,f=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(g){et(i,i.return,g)}}function Vh(i,l,d){try{var f=i.stateNode;w4(f,i.type,d,l),f[un]=l}catch(g){et(i,i.return,g)}}function jy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fi(i.type)||i.tag===4}function $h(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wh(i,l,d){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Gc));else if(f!==4&&(f===27&&fi(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(Wh(i,l,d),i=i.sibling;i!==null;)Wh(i,l,d),i=i.sibling}function Bc(i,l,d){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(f!==4&&(f===27&&fi(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Bc(i,l,d),i=i.sibling;i!==null;)Bc(i,l,d),i=i.sibling}function Ny(i){var l=i.stateNode,d=i.memoizedProps;try{for(var f=i.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);Wt(l,f,d),l[Qt]=i,l[un]=d}catch(b){et(i,i.return,b)}}var Mr=!1,bt=!1,Yh=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function t4(i,l){if(i=i.containerInfo,xp=nd,i=Lx(i),$f(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,D=-1,F=-1,X=0,se=0,ce=i,ee=null;t:for(;;){for(var ne;ce!==d||g!==0&&ce.nodeType!==3||(D=k+g),ce!==b||f!==0&&ce.nodeType!==3||(F=k+f),ce.nodeType===3&&(k+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===i)break t;if(ee===d&&++X===g&&(D=k),ee===b&&++se===f&&(F=k),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}d=D===-1||F===-1?null:{start:D,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(bp={focusedElem:i,selectionRange:d},nd=!1,Lt=l;Lt!==null;)if(l=Lt,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Lt=i;else for(;Lt!==null;){switch(l=Lt,b=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,d=l,g=b.memoizedProps,b=b.memoizedState,f=d.stateNode;try{var ke=is(d.type,g,d.elementType===d.type);i=f.getSnapshotBeforeUpdate(ke,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Se){et(d,d.return,Se)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)wp(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Lt=i;break}Lt=l.return}}function Ey(i,l,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:si(i,d),f&4&&No(5,d);break;case 1:if(si(i,d),f&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(k){et(d,d.return,k)}else{var g=is(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(g,l,i.__reactInternalSnapshotBeforeUpdate)}catch(k){et(d,d.return,k)}}f&64&&vy(d),f&512&&ko(d,d.return);break;case 3:if(si(i,d),f&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ob(i,l)}catch(k){et(d,d.return,k)}}break;case 27:l===null&&f&4&&Ny(d);case 26:case 5:si(i,d),l===null&&f&4&&Sy(d),f&512&&ko(d,d.return);break;case 12:si(i,d);break;case 13:si(i,d),f&4&&Oy(i,d),f&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=d4.bind(null,d),T4(i,d))));break;case 22:if(f=d.memoizedState!==null||Mr,!f){l=l!==null&&l.memoizedState!==null||bt,g=Mr;var b=bt;Mr=f,(bt=l)&&!b?ai(i,d,(d.subtreeFlags&8772)!==0):si(i,d),Mr=g,bt=b}break;case 30:break;default:si(i,d)}}function Cy(i){var l=i.alternate;l!==null&&(i.alternate=null,Cy(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Ef(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,pn=!1;function Rr(i,l,d){for(d=d.child;d!==null;)Ty(i,l,d),d=d.sibling}function Ty(i,l,d){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(qi,d)}catch{}switch(d.tag){case 26:bt||lr(d,l),Rr(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:bt||lr(d,l);var f=it,g=pn;fi(d.type)&&(it=d.stateNode,pn=!1),Rr(i,l,d),_o(d.stateNode),it=f,pn=g;break;case 5:bt||lr(d,l);case 6:if(f=it,g=pn,it=null,Rr(i,l,d),it=f,pn=g,it!==null)if(pn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(d.stateNode)}catch(b){et(d,l,b)}else try{it.removeChild(d.stateNode)}catch(b){et(d,l,b)}break;case 18:it!==null&&(pn?(i=it,g1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Fo(i)):g1(it,d.stateNode));break;case 4:f=it,g=pn,it=d.stateNode.containerInfo,pn=!0,Rr(i,l,d),it=f,pn=g;break;case 0:case 11:case 14:case 15:bt||ii(2,d,l),bt||ii(4,d,l),Rr(i,l,d);break;case 1:bt||(lr(d,l),f=d.stateNode,typeof f.componentWillUnmount=="function"&&wy(d,l,f)),Rr(i,l,d);break;case 21:Rr(i,l,d);break;case 22:bt=(f=bt)||d.memoizedState!==null,Rr(i,l,d),bt=f;break;default:Rr(i,l,d)}}function Oy(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fo(i)}catch(d){et(l,l.return,d)}}function n4(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new ky),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new ky),l;default:throw Error(r(435,i.tag))}}function Kh(i,l){var d=n4(i);l.forEach(function(f){var g=u4.bind(null,i,f);d.has(f)||(d.add(f),f.then(g,g))})}function jn(i,l){var d=l.deletions;if(d!==null)for(var f=0;f<d.length;f++){var g=d[f],b=i,k=l,D=k;e:for(;D!==null;){switch(D.tag){case 27:if(fi(D.type)){it=D.stateNode,pn=!1;break e}break;case 5:it=D.stateNode,pn=!1;break e;case 3:case 4:it=D.stateNode.containerInfo,pn=!0;break e}D=D.return}if(it===null)throw Error(r(160));Ty(b,k,g),it=null,pn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Ay(l,i),l=l.sibling}var Gn=null;function Ay(i,l){var d=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jn(l,i),Nn(i),f&4&&(ii(3,i,i.return),No(3,i),ii(5,i,i.return));break;case 1:jn(l,i),Nn(i),f&512&&(bt||d===null||lr(d,d.return)),f&64&&Mr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var g=Gn;if(jn(l,i),Nn(i),f&512&&(bt||d===null||lr(d,d.return)),f&4){var b=d!==null?d.memoizedState:null;if(f=i.memoizedState,d===null)if(f===null)if(i.stateNode===null){e:{f=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ka]||b[Qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),Wt(b,f,d),b[Qt]=i,_t(b),f=b;break e;case"link":var k=N1("link","href",g).get(f+(d.href||""));if(k){for(var D=0;D<k.length;D++)if(b=k[D],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(D,1);break t}}b=g.createElement(f),Wt(b,f,d),g.head.appendChild(b);break;case"meta":if(k=N1("meta","content",g).get(f+(d.content||""))){for(D=0;D<k.length;D++)if(b=k[D],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(D,1);break t}}b=g.createElement(f),Wt(b,f,d),g.head.appendChild(b);break;default:throw Error(r(468,f))}b[Qt]=i,_t(b),f=b}i.stateNode=f}else k1(g,i.type,i.stateNode);else i.stateNode=j1(g,f,i.memoizedProps);else b!==f?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,f===null?k1(g,i.type,i.stateNode):j1(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Vh(i,i.memoizedProps,d.memoizedProps)}break;case 27:jn(l,i),Nn(i),f&512&&(bt||d===null||lr(d,d.return)),d!==null&&f&4&&Vh(i,i.memoizedProps,d.memoizedProps);break;case 5:if(jn(l,i),Nn(i),f&512&&(bt||d===null||lr(d,d.return)),i.flags&32){g=i.stateNode;try{Us(g,"")}catch(ne){et(i,i.return,ne)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,Vh(i,g,d!==null?d.memoizedProps:g)),f&1024&&(Yh=!0);break;case 6:if(jn(l,i),Nn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,d=i.stateNode;try{d.nodeValue=f}catch(ne){et(i,i.return,ne)}}break;case 3:if(Zc=null,g=Gn,Gn=Jc(l.containerInfo),jn(l,i),Gn=g,Nn(i),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Fo(l.containerInfo)}catch(ne){et(i,i.return,ne)}Yh&&(Yh=!1,My(i));break;case 4:f=Gn,Gn=Jc(i.stateNode.containerInfo),jn(l,i),Nn(i),Gn=f;break;case 12:jn(l,i),Nn(i);break;case 13:jn(l,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ep=Ne()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kh(i,f)));break;case 22:g=i.memoizedState!==null;var F=d!==null&&d.memoizedState!==null,X=Mr,se=bt;if(Mr=X||g,bt=se||F,jn(l,i),bt=se,Mr=X,Nn(i),f&8192)e:for(l=i.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(d===null||F||Mr||bt||ss(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){F=d=l;try{if(b=F.stateNode,g)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{D=F.stateNode;var ce=F.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){et(F,F.return,ne)}}}else if(l.tag===6){if(d===null){F=l;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(ne){et(F,F.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=i.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,Kh(i,d))));break;case 19:jn(l,i),Nn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kh(i,f)));break;case 30:break;case 21:break;default:jn(l,i),Nn(i)}}function Nn(i){var l=i.flags;if(l&2){try{for(var d,f=i.return;f!==null;){if(jy(f)){d=f;break}f=f.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var g=d.stateNode,b=$h(i);Bc(i,b,g);break;case 5:var k=d.stateNode;d.flags&32&&(Us(k,""),d.flags&=-33);var D=$h(i);Bc(i,D,k);break;case 3:case 4:var F=d.stateNode.containerInfo,X=$h(i);Wh(i,X,F);break;default:throw Error(r(161))}}catch(se){et(i,i.return,se)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function My(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;My(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function si(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ey(i,l.alternate,l),l=l.sibling}function ss(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:ii(4,l,l.return),ss(l);break;case 1:lr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&wy(l,l.return,d),ss(l);break;case 27:_o(l.stateNode);case 26:case 5:lr(l,l.return),ss(l);break;case 22:l.memoizedState===null&&ss(l);break;case 30:ss(l);break;default:ss(l)}i=i.sibling}}function ai(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,g=i,b=l,k=b.flags;switch(b.tag){case 0:case 11:case 15:ai(g,b,d),No(4,b);break;case 1:if(ai(g,b,d),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){et(f,f.return,X)}if(f=b,g=f.updateQueue,g!==null){var D=f.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)ab(F[g],D)}catch(X){et(f,f.return,X)}}d&&k&64&&vy(b),ko(b,b.return);break;case 27:Ny(b);case 26:case 5:ai(g,b,d),d&&f===null&&k&4&&Sy(b),ko(b,b.return);break;case 12:ai(g,b,d);break;case 13:ai(g,b,d),d&&k&4&&Oy(g,b);break;case 22:b.memoizedState===null&&ai(g,b,d),ko(b,b.return);break;case 30:break;default:ai(g,b,d)}l=l.sibling}}function Gh(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&co(d))}function Qh(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&co(i))}function cr(i,l,d,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ry(i,l,d,f),l=l.sibling}function Ry(i,l,d,f){var g=l.flags;switch(l.tag){case 0:case 11:case 15:cr(i,l,d,f),g&2048&&No(9,l);break;case 1:cr(i,l,d,f);break;case 3:cr(i,l,d,f),g&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&co(i)));break;case 12:if(g&2048){cr(i,l,d,f),i=l.stateNode;try{var b=l.memoizedProps,k=b.id,D=b.onPostCommit;typeof D=="function"&&D(k,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){et(l,l.return,F)}}else cr(i,l,d,f);break;case 13:cr(i,l,d,f);break;case 23:break;case 22:b=l.stateNode,k=l.alternate,l.memoizedState!==null?b._visibility&2?cr(i,l,d,f):Eo(i,l):b._visibility&2?cr(i,l,d,f):(b._visibility|=2,aa(i,l,d,f,(l.subtreeFlags&10256)!==0)),g&2048&&Gh(k,l);break;case 24:cr(i,l,d,f),g&2048&&Qh(l.alternate,l);break;default:cr(i,l,d,f)}}function aa(i,l,d,f,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=i,k=l,D=d,F=f,X=k.flags;switch(k.tag){case 0:case 11:case 15:aa(b,k,D,F,g),No(8,k);break;case 23:break;case 22:var se=k.stateNode;k.memoizedState!==null?se._visibility&2?aa(b,k,D,F,g):Eo(b,k):(se._visibility|=2,aa(b,k,D,F,g)),g&&X&2048&&Gh(k.alternate,k);break;case 24:aa(b,k,D,F,g),g&&X&2048&&Qh(k.alternate,k);break;default:aa(b,k,D,F,g)}l=l.sibling}}function Eo(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,f=l,g=f.flags;switch(f.tag){case 22:Eo(d,f),g&2048&&Gh(f.alternate,f);break;case 24:Eo(d,f),g&2048&&Qh(f.alternate,f);break;default:Eo(d,f)}l=l.sibling}}var Co=8192;function oa(i){if(i.subtreeFlags&Co)for(i=i.child;i!==null;)Dy(i),i=i.sibling}function Dy(i){switch(i.tag){case 26:oa(i),i.flags&Co&&i.memoizedState!==null&&U4(Gn,i.memoizedState,i.memoizedProps);break;case 5:oa(i);break;case 3:case 4:var l=Gn;Gn=Jc(i.stateNode.containerInfo),oa(i),Gn=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Co,Co=16777216,oa(i),Co=l):oa(i));break;default:oa(i)}}function _y(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function To(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Lt=f,Ly(f,i)}_y(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zy(i),i=i.sibling}function zy(i){switch(i.tag){case 0:case 11:case 15:To(i),i.flags&2048&&ii(9,i,i.return);break;case 3:To(i);break;case 12:To(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Hc(i)):To(i);break;default:To(i)}}function Hc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Lt=f,Ly(f,i)}_y(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:ii(8,l,l.return),Hc(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Hc(l));break;default:Hc(l)}i=i.sibling}}function Ly(i,l){for(;Lt!==null;){var d=Lt;switch(d.tag){case 0:case 11:case 15:ii(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:co(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,Lt=f;else e:for(d=i;Lt!==null;){f=Lt;var g=f.sibling,b=f.return;if(Cy(f),f===d){Lt=null;break e}if(g!==null){g.return=b,Lt=g;break e}Lt=b}}}var r4={getCacheForType:function(i){var l=Jt(Ot),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d}},i4=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Le=null,Ie=0,Ge=0,kn=null,oi=!1,la=!1,Jh=!1,Dr=0,ut=0,li=0,as=0,Xh=0,Bn=0,ca=0,Oo=null,mn=null,Zh=!1,ep=0,Ic=1/0,Uc=null,ci=null,$t=0,di=null,da=null,ua=0,tp=0,np=null,Py=null,Ao=0,rp=null;function En(){if((Ke&2)!==0&&Ie!==0)return Ie&-Ie;if(U.T!==null){var i=Xs;return i!==0?i:dp()}return Z0()}function By(){Bn===0&&(Bn=(Ie&536870912)===0||We?G0():536870912);var i=Pn.current;return i!==null&&(i.flags|=32),Bn}function Cn(i,l,d){(i===nt&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&(fa(i,0),ui(i,Ie,Bn,!1)),Ya(i,d),((Ke&2)===0||i!==nt)&&(i===nt&&((Ke&2)===0&&(as|=d),ut===4&&ui(i,Ie,Bn,!1)),dr(i))}function Hy(i,l,d){if((Ke&6)!==0)throw Error(r(327));var f=!d&&(l&124)===0&&(l&i.expiredLanes)===0||Wa(i,l),g=f?o4(i,l):ap(i,l,!0),b=f;do{if(g===0){la&&!f&&ui(i,l,0,!1);break}else{if(d=i.current.alternate,b&&!s4(d)){g=ap(i,l,!1),b=!1;continue}if(g===2){if(b=l,i.errorRecoveryDisabledLanes&b)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var D=i;g=Oo;var F=D.current.memoizedState.isDehydrated;if(F&&(fa(D,k).flags|=256),k=ap(D,k,!1),k!==2){if(Jh&&!F){D.errorRecoveryDisabledLanes|=b,as|=b,g=4;break e}b=mn,mn=g,b!==null&&(mn===null?mn=b:mn.push.apply(mn,b))}g=k}if(b=!1,g!==2)continue}}if(g===1){fa(i,0),ui(i,l,0,!0);break}e:{switch(f=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ui(f,l,Bn,!oi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(g=ep+300-Ne(),10<g)){if(ui(f,l,Bn,!oi),Xl(f,0,!0)!==0)break e;f.timeoutHandle=p1(Iy.bind(null,f,d,mn,Uc,Zh,l,Bn,as,ca,oi,b,2,-0,0),g);break e}Iy(f,d,mn,Uc,Zh,l,Bn,as,ca,oi,b,0,-0,0)}}break}while(!0);dr(i)}function Iy(i,l,d,f,g,b,k,D,F,X,se,ce,ee,ne){if(i.timeoutHandle=-1,ce=l.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:I4},Dy(l),ce=F4(),ce!==null)){i.cancelPendingCommit=ce(Yy.bind(null,i,l,b,d,f,g,k,D,F,se,1,ee,ne)),ui(i,b,k,!X);return}Yy(i,l,b,d,f,g,k,D,F)}function s4(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var g=d[f],b=g.getSnapshot;g=g.value;try{if(!wn(b(),g))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ui(i,l,d,f){l&=~Xh,l&=~as,i.suspendedLanes|=l,i.pingedLanes&=~l,f&&(i.warmLanes|=l),f=i.expirationTimes;for(var g=l;0<g;){var b=31-vn(g),k=1<<b;f[b]=-1,g&=~k}d!==0&&J0(i,d,l)}function Fc(){return(Ke&6)===0?(Mo(0),!1):!0}function ip(){if(Le!==null){if(Ge===0)var i=Le.return;else i=Le,kr=es=null,wh(i),ia=null,wo=0,i=Le;for(;i!==null;)yy(i.alternate,i),i=i.return;Le=null}}function fa(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,j4(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),ip(),nt=i,Le=d=Sr(i.current,null),Ie=l,Ge=0,kn=null,oi=!1,la=Wa(i,l),Jh=!1,ca=Bn=Xh=as=li=ut=0,mn=Oo=null,Zh=!1,(l&8)!==0&&(l|=l&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=l;0<f;){var g=31-vn(f),b=1<<g;l|=i[g],f&=~b}return Dr=l,dc(),d}function Uy(i,l){De=null,U.H=Oc,l===fo||l===yc?(l=ib(),Ge=3):l===tb?(l=ib(),Ge=4):Ge=l===sy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,kn=l,Le===null&&(ut=1,_c(i,Dn(l,i.current)))}function Fy(){var i=U.H;return U.H=Oc,i===null?Oc:i}function qy(){var i=U.A;return U.A=r4,i}function sp(){ut=4,oi||(Ie&4194048)!==Ie&&Pn.current!==null||(la=!0),(li&134217727)===0&&(as&134217727)===0||nt===null||ui(nt,Ie,Bn,!1)}function ap(i,l,d){var f=Ke;Ke|=2;var g=Fy(),b=qy();(nt!==i||Ie!==l)&&(Uc=null,fa(i,l)),l=!1;var k=ut;e:do try{if(Ge!==0&&Le!==null){var D=Le,F=kn;switch(Ge){case 8:ip(),k=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(l=!0);var X=Ge;if(Ge=0,kn=null,ha(i,D,F,X),d&&la){k=0;break e}break;default:X=Ge,Ge=0,kn=null,ha(i,D,F,X)}}a4(),k=ut;break}catch(se){Uy(i,se)}while(!0);return l&&i.shellSuspendCounter++,kr=es=null,Ke=f,U.H=g,U.A=b,Le===null&&(nt=null,Ie=0,dc()),k}function a4(){for(;Le!==null;)Vy(Le)}function o4(i,l){var d=Ke;Ke|=2;var f=Fy(),g=qy();nt!==i||Ie!==l?(Uc=null,Ic=Ne()+500,fa(i,l)):la=Wa(i,l);e:do try{if(Ge!==0&&Le!==null){l=Le;var b=kn;t:switch(Ge){case 1:Ge=0,kn=null,ha(i,l,b,1);break;case 2:case 9:if(nb(b)){Ge=0,kn=null,$y(l);break}l=function(){Ge!==2&&Ge!==9||nt!==i||(Ge=7),dr(i)},b.then(l,l);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:nb(b)?(Ge=0,kn=null,$y(l)):(Ge=0,kn=null,ha(i,l,b,7));break;case 5:var k=null;switch(Le.tag){case 26:k=Le.memoizedState;case 5:case 27:var D=Le;if(!k||E1(k)){Ge=0,kn=null;var F=D.sibling;if(F!==null)Le=F;else{var X=D.return;X!==null?(Le=X,qc(X)):Le=null}break t}}Ge=0,kn=null,ha(i,l,b,5);break;case 6:Ge=0,kn=null,ha(i,l,b,6);break;case 8:ip(),ut=6;break e;default:throw Error(r(462))}}l4();break}catch(se){Uy(i,se)}while(!0);return kr=es=null,U.H=f,U.A=g,Ke=d,Le!==null?0:(nt=null,Ie=0,dc(),ut)}function l4(){for(;Le!==null&&!qe();)Vy(Le)}function Vy(i){var l=xy(i.alternate,i,Dr);i.memoizedProps=i.pendingProps,l===null?qc(i):Le=l}function $y(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=uy(d,l,l.pendingProps,l.type,void 0,Ie);break;case 11:l=uy(d,l,l.pendingProps,l.type.render,l.ref,Ie);break;case 5:wh(l);default:yy(d,l),l=Le=Wx(l,Dr),l=xy(d,l,Dr)}i.memoizedProps=i.pendingProps,l===null?qc(i):Le=l}function ha(i,l,d,f){kr=es=null,wh(l),ia=null,wo=0;var g=l.return;try{if(Jk(i,g,l,d,Ie)){ut=1,_c(i,Dn(d,i.current)),Le=null;return}}catch(b){if(g!==null)throw Le=g,b;ut=1,_c(i,Dn(d,i.current)),Le=null;return}l.flags&32768?(We||f===1?i=!0:la||(Ie&536870912)!==0?i=!1:(oi=i=!0,(f===2||f===9||f===3||f===6)&&(f=Pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Wy(l,i)):qc(l)}function qc(i){var l=i;do{if((l.flags&32768)!==0){Wy(l,oi);return}i=l.return;var d=Zk(l.alternate,l,Dr);if(d!==null){Le=d;return}if(l=l.sibling,l!==null){Le=l;return}Le=l=i}while(l!==null);ut===0&&(ut=5)}function Wy(i,l){do{var d=e4(i.alternate,i);if(d!==null){d.flags&=32767,Le=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Le=i;return}Le=i=d}while(i!==null);ut=6,Le=null}function Yy(i,l,d,f,g,b,k,D,F){i.cancelPendingCommit=null;do Vc();while($t!==0);if((Ke&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=Qf,I3(i,d,b,k,D,F),i===nt&&(Le=nt=null,Ie=0),da=l,di=i,ua=d,tp=b,np=g,Py=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f4(Dt,function(){return Xy(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,g=N.p,N.p=2,k=Ke,Ke|=4;try{t4(i,l,d)}finally{Ke=k,N.p=g,U.T=f}}$t=1,Ky(),Gy(),Qy()}}function Ky(){if($t===1){$t=0;var i=di,l=da,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=U.T,U.T=null;var f=N.p;N.p=2;var g=Ke;Ke|=4;try{Ay(l,i);var b=bp,k=Lx(i.containerInfo),D=b.focusedElem,F=b.selectionRange;if(k!==D&&D&&D.ownerDocument&&zx(D.ownerDocument.documentElement,D)){if(F!==null&&$f(D)){var X=F.start,se=F.end;if(se===void 0&&(se=X),"selectionStart"in D)D.selectionStart=X,D.selectionEnd=Math.min(se,D.value.length);else{var ce=D.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),ke=D.textContent.length,Se=Math.min(F.start,ke),Ze=F.end===void 0?Se:Math.min(F.end,ke);!ne.extend&&Se>Ze&&(k=Ze,Ze=Se,Se=k);var G=_x(D,Se),Y=_x(D,Ze);if(G&&Y&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var J=ce.createRange();J.setStart(G.node,G.offset),ne.removeAllRanges(),Se>Ze?(ne.addRange(J),ne.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),ne.addRange(J))}}}}for(ce=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ce.length;D++){var ae=ce[D];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}nd=!!xp,bp=xp=null}finally{Ke=g,N.p=f,U.T=d}}i.current=l,$t=2}}function Gy(){if($t===2){$t=0;var i=di,l=da,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=U.T,U.T=null;var f=N.p;N.p=2;var g=Ke;Ke|=4;try{Ey(i,l.alternate,l)}finally{Ke=g,N.p=f,U.T=d}}$t=3}}function Qy(){if($t===4||$t===3){$t=0,mt();var i=di,l=da,d=ua,f=Py;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$t=5:($t=0,da=di=null,Jy(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ci=null),Nf(d),l=l.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(qi,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=U.T,g=N.p,N.p=2,U.T=null;try{for(var b=i.onRecoverableError,k=0;k<f.length;k++){var D=f[k];b(D.value,{componentStack:D.stack})}}finally{U.T=l,N.p=g}}(ua&3)!==0&&Vc(),dr(i),g=i.pendingLanes,(d&4194090)!==0&&(g&42)!==0?i===rp?Ao++:(Ao=0,rp=i):Ao=0,Mo(0)}}function Jy(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,co(l)))}function Vc(i){return Ky(),Gy(),Qy(),Xy()}function Xy(){if($t!==5)return!1;var i=di,l=tp;tp=0;var d=Nf(ua),f=U.T,g=N.p;try{N.p=32>d?32:d,U.T=null,d=np,np=null;var b=di,k=ua;if($t=0,da=di=null,ua=0,(Ke&6)!==0)throw Error(r(331));var D=Ke;if(Ke|=4,zy(b.current),Ry(b,b.current,k,d),Ke=D,Mo(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(qi,b)}catch{}return!0}finally{N.p=g,U.T=f,Jy(i,l)}}function Zy(i,l,d){l=Dn(d,l),l=zh(i.stateNode,l,2),i=ei(i,l,2),i!==null&&(Ya(i,2),dr(i))}function et(i,l,d){if(i.tag===3)Zy(i,i,d);else for(;l!==null;){if(l.tag===3){Zy(l,i,d);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ci===null||!ci.has(f))){i=Dn(d,i),d=ry(2),f=ei(l,d,2),f!==null&&(iy(d,f,l,i),Ya(f,2),dr(f));break}}l=l.return}}function op(i,l,d){var f=i.pingCache;if(f===null){f=i.pingCache=new i4;var g=new Set;f.set(l,g)}else g=f.get(l),g===void 0&&(g=new Set,f.set(l,g));g.has(d)||(Jh=!0,g.add(d),i=c4.bind(null,i,l,d),l.then(i,i))}function c4(i,l,d){var f=i.pingCache;f!==null&&f.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,nt===i&&(Ie&d)===d&&(ut===4||ut===3&&(Ie&62914560)===Ie&&300>Ne()-ep?(Ke&2)===0&&fa(i,0):Xh|=d,ca===Ie&&(ca=0)),dr(i)}function e1(i,l){l===0&&(l=Q0()),i=Ks(i,l),i!==null&&(Ya(i,l),dr(i))}function d4(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),e1(i,d)}function u4(i,l){var d=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(l),e1(i,d)}function f4(i,l){return Be(i,l)}var $c=null,pa=null,lp=!1,Wc=!1,cp=!1,ls=0;function dr(i){i!==pa&&i.next===null&&(pa===null?$c=pa=i:pa=pa.next=i),Wc=!0,lp||(lp=!0,p4())}function Mo(i,l){if(!cp&&Wc){cp=!0;do for(var d=!1,f=$c;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var k=f.suspendedLanes,D=f.pingedLanes;b=(1<<31-vn(42|i)+1)-1,b&=g&~(k&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,i1(f,b))}else b=Ie,b=Xl(f,f===nt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Wa(f,b)||(d=!0,i1(f,b));f=f.next}while(d);cp=!1}}function h4(){t1()}function t1(){Wc=lp=!1;var i=0;ls!==0&&(S4()&&(i=ls),ls=0);for(var l=Ne(),d=null,f=$c;f!==null;){var g=f.next,b=n1(f,l);b===0?(f.next=null,d===null?$c=g:d.next=g,g===null&&(pa=d)):(d=f,(i!==0||(b&3)!==0)&&(Wc=!0)),f=g}Mo(i)}function n1(i,l){for(var d=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var k=31-vn(b),D=1<<k,F=g[k];F===-1?((D&d)===0||(D&f)!==0)&&(g[k]=H3(D,l)):F<=l&&(i.expiredLanes|=D),b&=~D}if(l=nt,d=Ie,d=Xl(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,d===0||i===l&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Me(f),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Wa(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(f!==null&&Me(f),Nf(d)){case 2:case 8:d=vt;break;case 32:d=Dt;break;case 268435456:d=Ui;break;default:d=Dt}return f=r1.bind(null,i),d=Be(d,f),i.callbackPriority=l,i.callbackNode=d,l}return f!==null&&f!==null&&Me(f),i.callbackPriority=2,i.callbackNode=null,2}function r1(i,l){if($t!==0&&$t!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Vc()&&i.callbackNode!==d)return null;var f=Ie;return f=Xl(i,i===nt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Hy(i,f,l),n1(i,Ne()),i.callbackNode!=null&&i.callbackNode===d?r1.bind(null,i):null)}function i1(i,l){if(Vc())return null;Hy(i,l,!0)}function p4(){N4(function(){(Ke&6)!==0?Be(gt,h4):t1()})}function dp(){return ls===0&&(ls=G0()),ls}function s1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rc(""+i)}function a1(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function m4(i,l,d,f,g){if(l==="submit"&&d&&d.stateNode===g){var b=s1((g[un]||null).action),k=f.submitter;k&&(l=(l=k[un]||null)?s1(l.formAction):k.getAttribute("formAction"),l!==null&&(b=l,k=null));var D=new oc("action","action",null,f,g);i.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ls!==0){var F=k?a1(g,k):new FormData(g);Ah(d,{pending:!0,data:F,method:g.method,action:b},null,F)}}else typeof b=="function"&&(D.preventDefault(),F=k?a1(g,k):new FormData(g),Ah(d,{pending:!0,data:F,method:g.method,action:b},b,F))},currentTarget:g}]})}}for(var up=0;up<Gf.length;up++){var fp=Gf[up],g4=fp.toLowerCase(),x4=fp[0].toUpperCase()+fp.slice(1);Kn(g4,"on"+x4)}Kn(Hx,"onAnimationEnd"),Kn(Ix,"onAnimationIteration"),Kn(Ux,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(_k,"onTransitionRun"),Kn(zk,"onTransitionStart"),Kn(Lk,"onTransitionCancel"),Kn(Fx,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function o1(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var f=i[d],g=f.event;f=f.listeners;e:{var b=void 0;if(l)for(var k=f.length-1;0<=k;k--){var D=f[k],F=D.instance,X=D.currentTarget;if(D=D.listener,F!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=X;try{b(g)}catch(se){Dc(se)}g.currentTarget=null,b=F}else for(k=0;k<f.length;k++){if(D=f[k],F=D.instance,X=D.currentTarget,D=D.listener,F!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=X;try{b(g)}catch(se){Dc(se)}g.currentTarget=null,b=F}}}}function Pe(i,l){var d=l[kf];d===void 0&&(d=l[kf]=new Set);var f=i+"__bubble";d.has(f)||(l1(l,i,2,!1),d.add(f))}function hp(i,l,d){var f=0;l&&(f|=4),l1(d,i,f,l)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[Yc]){i[Yc]=!0,tx.forEach(function(d){d!=="selectionchange"&&(b4.has(d)||hp(d,!1,i),hp(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Yc]||(l[Yc]=!0,hp("selectionchange",!1,l))}}function l1(i,l,d,f){switch(R1(l)){case 2:var g=$4;break;case 8:g=W4;break;default:g=Tp}d=g.bind(null,l,d,i),g=void 0,!Lf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(l,d,{capture:!0,passive:g}):i.addEventListener(l,d,!0):g!==void 0?i.addEventListener(l,d,{passive:g}):i.addEventListener(l,d,!1)}function mp(i,l,d,f,g){var b=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var D=f.stateNode.containerInfo;if(D===g)break;if(k===4)for(k=f.return;k!==null;){var F=k.tag;if((F===3||F===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;D!==null;){if(k=zs(D),k===null)return;if(F=k.tag,F===5||F===6||F===26||F===27){f=b=k;continue e}D=D.parentNode}}f=f.return}mx(function(){var X=b,se=_f(d),ce=[];e:{var ee=qx.get(i);if(ee!==void 0){var ne=oc,ke=i;switch(i){case"keypress":if(sc(d)===0)break e;case"keydown":case"keyup":ne=fk;break;case"focusin":ke="focus",ne=If;break;case"focusout":ke="blur",ne=If;break;case"beforeblur":case"afterblur":ne=If;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=mk;break;case Hx:case Ix:case Ux:ne=rk;break;case Fx:ne=xk;break;case"scroll":case"scrollend":ne=X3;break;case"wheel":ne=yk;break;case"copy":case"cut":case"paste":ne=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=vx;break;case"toggle":case"beforetoggle":ne=wk}var Se=(l&4)!==0,Ze=!Se&&(i==="scroll"||i==="scrollend"),G=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var Y=X,J;Y!==null;){var ae=Y;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||G===null||(ae=Qa(Y,G),ae!=null&&Se.push(Do(Y,ae,J))),Ze)break;Y=Y.return}0<Se.length&&(ee=new ne(ee,ke,null,d,se),ce.push({event:ee,listeners:Se}))}}if((l&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",ee&&d!==Df&&(ke=d.relatedTarget||d.fromElement)&&(zs(ke)||ke[_s]))break e;if((ne||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(ke=d.relatedTarget||d.toElement,ne=X,ke=ke?zs(ke):null,ke!==null&&(Ze=o(ke),Se=ke.tag,ke!==Ze||Se!==5&&Se!==27&&Se!==6)&&(ke=null)):(ne=null,ke=X),ne!==ke)){if(Se=bx,ae="onMouseLeave",G="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Se=vx,ae="onPointerLeave",G="onPointerEnter",Y="pointer"),Ze=ne==null?ee:Ga(ne),J=ke==null?ee:Ga(ke),ee=new Se(ae,Y+"leave",ne,d,se),ee.target=Ze,ee.relatedTarget=J,ae=null,zs(se)===X&&(Se=new Se(G,Y+"enter",ke,d,se),Se.target=J,Se.relatedTarget=Ze,ae=Se),Ze=ae,ne&&ke)t:{for(Se=ne,G=ke,Y=0,J=Se;J;J=ma(J))Y++;for(J=0,ae=G;ae;ae=ma(ae))J++;for(;0<Y-J;)Se=ma(Se),Y--;for(;0<J-Y;)G=ma(G),J--;for(;Y--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=ma(Se),G=ma(G)}Se=null}else Se=null;ne!==null&&c1(ce,ee,ne,Se,!1),ke!==null&&Ze!==null&&c1(ce,Ze,ke,Se,!0)}}e:{if(ee=X?Ga(X):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var xe=Tx;else if(Ex(ee))if(Ox)xe=Mk;else{xe=Ok;var ze=Tk}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Rf(X.elementType)&&(xe=Tx):xe=Ak;if(xe&&(xe=xe(i,X))){Cx(ce,xe,d,se);break e}ze&&ze(i,ee,X),i==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Mf(ee,"number",ee.value)}switch(ze=X?Ga(X):window,i){case"focusin":(Ex(ze)||ze.contentEditable==="true")&&($s=ze,Wf=X,io=null);break;case"focusout":io=Wf=$s=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Px(ce,d,se);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":Px(ce,d,se)}var ye;if(Ff)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Vs?Nx(i,d)&&(je="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(je="onCompositionStart");je&&(wx&&d.locale!=="ko"&&(Vs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Vs&&(ye=gx()):(Qr=se,Pf="value"in Qr?Qr.value:Qr.textContent,Vs=!0)),ze=Kc(X,je),0<ze.length&&(je=new yx(je,i,null,d,se),ce.push({event:je,listeners:ze}),ye?je.data=ye:(ye=kx(d),ye!==null&&(je.data=ye)))),(ye=jk?Nk(i,d):kk(i,d))&&(je=Kc(X,"onBeforeInput"),0<je.length&&(ze=new yx("onBeforeInput","beforeinput",null,d,se),ce.push({event:ze,listeners:je}),ze.data=ye)),m4(ce,i,X,d,se)}o1(ce,l)})}function Do(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Kc(i,l){for(var d=l+"Capture",f=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Qa(i,d),g!=null&&f.unshift(Do(i,g,b)),g=Qa(i,l),g!=null&&f.push(Do(i,g,b))),i.tag===3)return f;i=i.return}return[]}function ma(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function c1(i,l,d,f,g){for(var b=l._reactName,k=[];d!==null&&d!==f;){var D=d,F=D.alternate,X=D.stateNode;if(D=D.tag,F!==null&&F===f)break;D!==5&&D!==26&&D!==27||X===null||(F=X,g?(X=Qa(d,b),X!=null&&k.unshift(Do(d,X,F))):g||(X=Qa(d,b),X!=null&&k.push(Do(d,X,F)))),d=d.return}k.length!==0&&i.push({event:l,listeners:k})}var y4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function d1(i){return(typeof i=="string"?i:""+i).replace(y4,`
`).replace(v4,"")}function u1(i,l){return l=d1(l),d1(i)===l}function Gc(){}function Xe(i,l,d,f,g,b){switch(d){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||Us(i,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&Us(i,""+f);break;case"className":ec(i,"class",f);break;case"tabIndex":ec(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ec(i,d,f);break;case"style":hx(i,f,b);break;case"data":if(l!=="object"){ec(i,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(d);break}f=rc(""+f),i.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(l!=="input"&&Xe(i,l,"name",g.name,g,null),Xe(i,l,"formEncType",g.formEncType,g,null),Xe(i,l,"formMethod",g.formMethod,g,null),Xe(i,l,"formTarget",g.formTarget,g,null)):(Xe(i,l,"encType",g.encType,g,null),Xe(i,l,"method",g.method,g,null),Xe(i,l,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(d);break}f=rc(""+f),i.setAttribute(d,f);break;case"onClick":f!=null&&(i.onclick=Gc);break;case"onScroll":f!=null&&Pe("scroll",i);break;case"onScrollEnd":f!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(d=f.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}d=rc(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(d,""+f):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":f===!0?i.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(d,f):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(d,f):i.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(d):i.setAttribute(d,f);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Zl(i,"popover",f);break;case"xlinkActuate":vr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Zl(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Q3.get(d)||d,Zl(i,d,f))}}function gp(i,l,d,f,g,b){switch(d){case"style":hx(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(d=f.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof f=="string"?Us(i,f):(typeof f=="number"||typeof f=="bigint")&&Us(i,""+f);break;case"onScroll":f!=null&&Pe("scroll",i);break;case"onScrollEnd":f!=null&&Pe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nx.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),l=d.slice(2,g?d.length-7:void 0),b=i[un]||null,b=b!=null?b[d]:null,typeof b=="function"&&i.removeEventListener(l,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,f,g);break e}d in i?i[d]=f:f===!0?i.setAttribute(d,""):Zl(i,d,f)}}}function Wt(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var f=!1,g=!1,b;for(b in d)if(d.hasOwnProperty(b)){var k=d[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,b,k,d,null)}}g&&Xe(i,l,"srcSet",d.srcSet,d,null),f&&Xe(i,l,"src",d.src,d,null);return;case"input":Pe("invalid",i);var D=b=k=g=null,F=null,X=null;for(f in d)if(d.hasOwnProperty(f)){var se=d[f];if(se!=null)switch(f){case"name":g=se;break;case"type":k=se;break;case"checked":F=se;break;case"defaultChecked":X=se;break;case"value":b=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:Xe(i,l,f,se,d,null)}}cx(i,b,D,F,X,k,g,!1),tc(i);return;case"select":Pe("invalid",i),f=k=b=null;for(g in d)if(d.hasOwnProperty(g)&&(D=d[g],D!=null))switch(g){case"value":b=D;break;case"defaultValue":k=D;break;case"multiple":f=D;default:Xe(i,l,g,D,d,null)}l=b,d=k,i.multiple=!!f,l!=null?Is(i,!!f,l,!1):d!=null&&Is(i,!!f,d,!0);return;case"textarea":Pe("invalid",i),b=g=f=null;for(k in d)if(d.hasOwnProperty(k)&&(D=d[k],D!=null))switch(k){case"value":f=D;break;case"defaultValue":g=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Xe(i,l,k,D,d,null)}ux(i,f,g,b),tc(i);return;case"option":for(F in d)if(d.hasOwnProperty(F)&&(f=d[F],f!=null))switch(F){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Xe(i,l,F,f,d,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(f=0;f<Ro.length;f++)Pe(Ro[f],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(f=d[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,X,f,d,null)}return;default:if(Rf(l)){for(se in d)d.hasOwnProperty(se)&&(f=d[se],f!==void 0&&gp(i,l,se,f,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(f=d[D],f!=null&&Xe(i,l,D,f,d,null))}function w4(i,l,d,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,k=null,D=null,F=null,X=null,se=null;for(ne in d){var ce=d[ne];if(d.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ce;default:f.hasOwnProperty(ne)||Xe(i,l,ne,null,f,ce)}}for(var ee in f){var ne=f[ee];if(ce=d[ee],f.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":b=ne;break;case"name":g=ne;break;case"checked":X=ne;break;case"defaultChecked":se=ne;break;case"value":k=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ce&&Xe(i,l,ee,ne,f,ce)}}Af(i,k,D,F,X,se,b,g);return;case"select":ne=k=D=ee=null;for(b in d)if(F=d[b],d.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":ne=F;default:f.hasOwnProperty(b)||Xe(i,l,b,null,f,F)}for(g in f)if(b=f[g],F=d[g],f.hasOwnProperty(g)&&(b!=null||F!=null))switch(g){case"value":ee=b;break;case"defaultValue":D=b;break;case"multiple":k=b;default:b!==F&&Xe(i,l,g,b,f,F)}l=D,d=k,f=ne,ee!=null?Is(i,!!d,ee,!1):!!f!=!!d&&(l!=null?Is(i,!!d,l,!0):Is(i,!!d,d?[]:"",!1));return;case"textarea":ne=ee=null;for(D in d)if(g=d[D],d.hasOwnProperty(D)&&g!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Xe(i,l,D,null,f,g)}for(k in f)if(g=f[k],b=d[k],f.hasOwnProperty(k)&&(g!=null||b!=null))switch(k){case"value":ee=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Xe(i,l,k,g,f,b)}dx(i,ee,ne);return;case"option":for(var ke in d)if(ee=d[ke],d.hasOwnProperty(ke)&&ee!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:Xe(i,l,ke,null,f,ee)}for(F in f)if(ee=f[F],ne=d[F],f.hasOwnProperty(F)&&ee!==ne&&(ee!=null||ne!=null))switch(F){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Xe(i,l,F,ee,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in d)ee=d[Se],d.hasOwnProperty(Se)&&ee!=null&&!f.hasOwnProperty(Se)&&Xe(i,l,Se,null,f,ee);for(X in f)if(ee=f[X],ne=d[X],f.hasOwnProperty(X)&&ee!==ne&&(ee!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:Xe(i,l,X,ee,f,ne)}return;default:if(Rf(l)){for(var Ze in d)ee=d[Ze],d.hasOwnProperty(Ze)&&ee!==void 0&&!f.hasOwnProperty(Ze)&&gp(i,l,Ze,void 0,f,ee);for(se in f)ee=f[se],ne=d[se],!f.hasOwnProperty(se)||ee===ne||ee===void 0&&ne===void 0||gp(i,l,se,ee,f,ne);return}}for(var G in d)ee=d[G],d.hasOwnProperty(G)&&ee!=null&&!f.hasOwnProperty(G)&&Xe(i,l,G,null,f,ee);for(ce in f)ee=f[ce],ne=d[ce],!f.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||Xe(i,l,ce,ee,f,ne)}var xp=null,bp=null;function Qc(i){return i.nodeType===9?i:i.ownerDocument}function f1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function yp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var vp=null;function S4(){var i=window.event;return i&&i.type==="popstate"?i===vp?!1:(vp=i,!0):(vp=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(i){return m1.resolve(null).then(i).catch(k4)}:p1;function k4(i){setTimeout(function(){throw i})}function fi(i){return i==="head"}function g1(i,l){var d=l,f=0,g=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(0<f&&8>f){d=f;var k=i.ownerDocument;if(d&1&&_o(k.documentElement),d&2&&_o(k.body),d&4)for(d=k.head,_o(d),k=d.firstChild;k;){var D=k.nextSibling,F=k.nodeName;k[Ka]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=D}}if(g===0){i.removeChild(b),Fo(l);return}g--}else d==="$"||d==="$?"||d==="$!"?g++:f=d.charCodeAt(0)-48;else f=0;d=b}while(d);Fo(l)}function wp(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":wp(d),Ef(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function E4(i,l,d,f){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ka])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Qn(i.nextSibling),i===null)break}return null}function C4(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Qn(i.nextSibling),i===null))return null;return i}function Sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function T4(i,l){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")l();else{var f=function(){l(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Qn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var jp=null;function x1(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}function b1(i,l,d){switch(l=Qc(d),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _o(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Ef(i)}var Hn=new Map,y1=new Set;function Jc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _r=N.d;N.d={f:O4,r:A4,D:M4,C:R4,L:D4,m:_4,X:L4,S:z4,M:P4};function O4(){var i=_r.f(),l=Fc();return i||l}function A4(i){var l=Ls(i);l!==null&&l.tag===5&&l.type==="form"?Hb(l):_r.r(i)}var ga=typeof document>"u"?null:document;function v1(i,l,d){var f=ga;if(f&&typeof l=="string"&&l){var g=Rn(l);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),y1.has(g)||(y1.add(g),i={rel:i,crossOrigin:d,href:l},f.querySelector(g)===null&&(l=f.createElement("link"),Wt(l,"link",i),_t(l),f.head.appendChild(l)))}}function M4(i){_r.D(i),v1("dns-prefetch",i,null)}function R4(i,l){_r.C(i,l),v1("preconnect",i,l)}function D4(i,l,d){_r.L(i,l,d);var f=ga;if(f&&i&&l){var g='link[rel="preload"][as="'+Rn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Rn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Rn(d.imageSizes)+'"]')):g+='[href="'+Rn(i)+'"]';var b=g;switch(l){case"style":b=xa(i);break;case"script":b=ba(i)}Hn.has(b)||(i=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Hn.set(b,i),f.querySelector(g)!==null||l==="style"&&f.querySelector(zo(b))||l==="script"&&f.querySelector(Lo(b))||(l=f.createElement("link"),Wt(l,"link",i),_t(l),f.head.appendChild(l)))}}function _4(i,l){_r.m(i,l);var d=ga;if(d&&i){var f=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(i)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ba(i)}if(!Hn.has(b)&&(i=m({rel:"modulepreload",href:i},l),Hn.set(b,i),d.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Lo(b)))return}f=d.createElement("link"),Wt(f,"link",i),_t(f),d.head.appendChild(f)}}}function z4(i,l,d){_r.S(i,l,d);var f=ga;if(f&&i){var g=Ps(f).hoistableStyles,b=xa(i);l=l||"default";var k=g.get(b);if(!k){var D={loading:0,preload:null};if(k=f.querySelector(zo(b)))D.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Hn.get(b))&&Np(i,d);var F=k=f.createElement("link");_t(F),Wt(F,"link",i),F._p=new Promise(function(X,se){F.onload=X,F.onerror=se}),F.addEventListener("load",function(){D.loading|=1}),F.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Xc(k,l,f)}k={type:"stylesheet",instance:k,count:1,state:D},g.set(b,k)}}}function L4(i,l){_r.X(i,l);var d=ga;if(d&&i){var f=Ps(d).hoistableScripts,g=ba(i),b=f.get(g);b||(b=d.querySelector(Lo(g)),b||(i=m({src:i,async:!0},l),(l=Hn.get(g))&&kp(i,l),b=d.createElement("script"),_t(b),Wt(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function P4(i,l){_r.M(i,l);var d=ga;if(d&&i){var f=Ps(d).hoistableScripts,g=ba(i),b=f.get(g);b||(b=d.querySelector(Lo(g)),b||(i=m({src:i,async:!0,type:"module"},l),(l=Hn.get(g))&&kp(i,l),b=d.createElement("script"),_t(b),Wt(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function w1(i,l,d,f){var g=(g=ie.current)?Jc(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=xa(d.href),d=Ps(g).hoistableStyles,f=d.get(l),f||(f={type:"style",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=xa(d.href);var b=Ps(g).hoistableStyles,k=b.get(i);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,k),(b=g.querySelector(zo(i)))&&!b._p&&(k.instance=b,k.state.loading=5),Hn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Hn.set(i,d),b||B4(g,i,d,k.state))),l&&f===null)throw Error(r(528,""));return k}if(l&&f!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ba(d),d=Ps(g).hoistableScripts,f=d.get(l),f||(f={type:"script",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function xa(i){return'href="'+Rn(i)+'"'}function zo(i){return'link[rel="stylesheet"]['+i+"]"}function S1(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function B4(i,l,d,f){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=i.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Wt(l,"link",d),_t(l),i.head.appendChild(l))}function ba(i){return'[src="'+Rn(i)+'"]'}function Lo(i){return"script[async]"+i}function j1(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var f=i.querySelector('style[data-href~="'+Rn(d.href)+'"]');if(f)return l.instance=f,_t(f),f;var g=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),_t(f),Wt(f,"style",g),Xc(f,d.precedence,i),l.instance=f;case"stylesheet":g=xa(d.href);var b=i.querySelector(zo(g));if(b)return l.state.loading|=4,l.instance=b,_t(b),b;f=S1(d),(g=Hn.get(g))&&Np(f,g),b=(i.ownerDocument||i).createElement("link"),_t(b);var k=b;return k._p=new Promise(function(D,F){k.onload=D,k.onerror=F}),Wt(b,"link",f),l.state.loading|=4,Xc(b,d.precedence,i),l.instance=b;case"script":return b=ba(d.src),(g=i.querySelector(Lo(b)))?(l.instance=g,_t(g),g):(f=d,(g=Hn.get(b))&&(f=m({},d),kp(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),_t(g),Wt(g,"link",f),i.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Xc(f,d.precedence,i));return l.instance}function Xc(i,l,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,k=0;k<f.length;k++){var D=f[k];if(D.dataset.precedence===l)b=D;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function Np(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function kp(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Zc=null;function N1(i,l,d){if(Zc===null){var f=new Map,g=Zc=new Map;g.set(d,f)}else g=Zc,f=g.get(d),f||(f=new Map,g.set(d,f));if(f.has(i))return f;for(f.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var b=d[g];if(!(b[Ka]||b[Qt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(l)||"";k=i+k;var D=f.get(k);D?D.push(b):f.set(k,[b])}}return f}function k1(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function H4(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function E1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Po=null;function I4(){}function U4(i,l,d){if(Po===null)throw Error(r(475));var f=Po;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=xa(d.href),b=i.querySelector(zo(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=ed.bind(f),i.then(f,f)),l.state.loading|=4,l.instance=b,_t(b);return}b=i.ownerDocument||i,d=S1(d),(g=Hn.get(g))&&Np(d,g),b=b.createElement("link"),_t(b);var k=b;k._p=new Promise(function(D,F){k.onload=D,k.onerror=F}),Wt(b,"link",d),l.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=ed.bind(f),i.addEventListener("load",l),i.addEventListener("error",l))}}function F4(){if(Po===null)throw Error(r(475));var i=Po;return i.stylesheets&&i.count===0&&Ep(i,i.stylesheets),0<i.count?function(l){var d=setTimeout(function(){if(i.stylesheets&&Ep(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d)}}:null}function ed(){if(this.count--,this.count===0){if(this.stylesheets)Ep(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var td=null;function Ep(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,td=new Map,l.forEach(q4,i),td=null,ed.call(i))}function q4(i,l){if(!(l.state.loading&4)){var d=td.get(i);if(d)var f=d.get(null);else{d=new Map,td.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var k=g[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),f=k)}f&&d.set(null,f)}g=l.instance,k=g.getAttribute("data-precedence"),b=d.get(k)||f,b===f&&d.set(null,g),d.set(k,g),this.count++,f=ed.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),l.state.loading|=4}}var Bo={$$typeof:q,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function V4(i,l,d,f,g,b,k,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.hiddenUpdates=Sf(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function C1(i,l,d,f,g,b,k,D,F,X,se,ce){return i=new V4(i,l,d,k,D,F,X,ce),l=1,b===!0&&(l|=24),b=Sn(3,null,null,l),i.current=b,b.stateNode=i,l=oh(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:f,isDehydrated:d,cache:l},uh(b),i}function T1(i){return i?(i=Gs,i):Gs}function O1(i,l,d,f,g,b){g=T1(g),f.context===null?f.context=g:f.pendingContext=g,f=Zr(l),f.payload={element:d},b=b===void 0?null:b,b!==null&&(f.callback=b),d=ei(i,f,l),d!==null&&(Cn(d,i,l),po(d,i,l))}function A1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function Cp(i,l){A1(i,l),(i=i.alternate)&&A1(i,l)}function M1(i){if(i.tag===13){var l=Ks(i,67108864);l!==null&&Cn(l,i,67108864),Cp(i,67108864)}}var nd=!0;function $4(i,l,d,f){var g=U.T;U.T=null;var b=N.p;try{N.p=2,Tp(i,l,d,f)}finally{N.p=b,U.T=g}}function W4(i,l,d,f){var g=U.T;U.T=null;var b=N.p;try{N.p=8,Tp(i,l,d,f)}finally{N.p=b,U.T=g}}function Tp(i,l,d,f){if(nd){var g=Op(f);if(g===null)mp(i,l,f,rd,d),D1(i,f);else if(K4(g,i,l,d,f))f.stopPropagation();else if(D1(i,f),l&4&&-1<Y4.indexOf(i)){for(;g!==null;){var b=Ls(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Vi(b.pendingLanes);if(k!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var F=1<<31-vn(k);D.entanglements[1]|=F,k&=~F}dr(b),(Ke&6)===0&&(Ic=Ne()+500,Mo(0))}}break;case 13:D=Ks(b,2),D!==null&&Cn(D,b,2),Fc(),Cp(b,2)}if(b=Op(f),b===null&&mp(i,l,f,rd,d),b===g)break;g=b}g!==null&&f.stopPropagation()}else mp(i,l,f,null,d)}}function Op(i){return i=_f(i),Ap(i)}var rd=null;function Ap(i){if(rd=null,i=zs(i),i!==null){var l=o(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=c(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return rd=i,null}function R1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case gt:return 2;case vt:return 8;case Dt:case yr:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var Mp=!1,hi=null,pi=null,mi=null,Ho=new Map,Io=new Map,gi=[],Y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D1(i,l){switch(i){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ho.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(l.pointerId)}}function Uo(i,l,d,f,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:d,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},l!==null&&(l=Ls(l),l!==null&&M1(l)),i):(i.eventSystemFlags|=f,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function K4(i,l,d,f,g){switch(l){case"focusin":return hi=Uo(hi,i,l,d,f,g),!0;case"dragenter":return pi=Uo(pi,i,l,d,f,g),!0;case"mouseover":return mi=Uo(mi,i,l,d,f,g),!0;case"pointerover":var b=g.pointerId;return Ho.set(b,Uo(Ho.get(b)||null,i,l,d,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Io.set(b,Uo(Io.get(b)||null,i,l,d,f,g)),!0}return!1}function _1(i){var l=zs(i.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){i.blockedOn=l,U3(i.priority,function(){if(d.tag===13){var f=En();f=jf(f);var g=Ks(d,f);g!==null&&Cn(g,d,f),Cp(d,f)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function id(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Op(i.nativeEvent);if(d===null){d=i.nativeEvent;var f=new d.constructor(d.type,d);Df=f,d.target.dispatchEvent(f),Df=null}else return l=Ls(d),l!==null&&M1(l),i.blockedOn=d,!1;l.shift()}return!0}function z1(i,l,d){id(i)&&d.delete(l)}function G4(){Mp=!1,hi!==null&&id(hi)&&(hi=null),pi!==null&&id(pi)&&(pi=null),mi!==null&&id(mi)&&(mi=null),Ho.forEach(z1),Io.forEach(z1)}function sd(i,l){i.blockedOn===l&&(i.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G4)))}var ad=null;function L1(i){ad!==i&&(ad=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ad===i&&(ad=null);for(var l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],g=i[l+2];if(typeof f!="function"){if(Ap(f||d)===null)continue;break}var b=Ls(d);b!==null&&(i.splice(l,3),l-=3,Ah(b,{pending:!0,data:g,method:d.method,action:f},f,g))}}))}function Fo(i){function l(F){return sd(F,i)}hi!==null&&sd(hi,i),pi!==null&&sd(pi,i),mi!==null&&sd(mi,i),Ho.forEach(l),Io.forEach(l);for(var d=0;d<gi.length;d++){var f=gi[d];f.blockedOn===i&&(f.blockedOn=null)}for(;0<gi.length&&(d=gi[0],d.blockedOn===null);)_1(d),d.blockedOn===null&&gi.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var g=d[f],b=d[f+1],k=g[un]||null;if(typeof b=="function")k||L1(d);else if(k){var D=null;if(b&&b.hasAttribute("formAction")){if(g=b,k=b[un]||null)D=k.formAction;else if(Ap(g)!==null)continue}else D=k.action;typeof D=="function"?d[f+1]=D:(d.splice(f,3),f-=3),L1(d)}}}function Rp(i){this._internalRoot=i}od.prototype.render=Rp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,f=En();O1(d,f,i,l,null,null)},od.prototype.unmount=Rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;O1(i.current,2,null,i,null,null),Fc(),l[_s]=null}};function od(i){this._internalRoot=i}od.prototype.unstable_scheduleHydration=function(i){if(i){var l=Z0();i={blockedOn:null,target:i,priority:l};for(var d=0;d<gi.length&&l!==0&&l<gi[d].priority;d++);gi.splice(d,0,i),d===0&&_1(i)}};var P1=e.version;if(P1!=="19.1.0")throw Error(r(527,P1,"19.1.0"));N.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Q4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{qi=ld.inject(Q4),ct=ld}catch{}}return Vo.createRoot=function(i,l){if(!s(i))throw Error(r(299));var d=!1,f="",g=Zb,b=ey,k=ty,D=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks)),l=C1(i,1,!1,null,null,d,f,g,b,k,D,null),i[_s]=l.current,pp(i),new Rp(l)},Vo.hydrateRoot=function(i,l,d){if(!s(i))throw Error(r(299));var f=!1,g="",b=Zb,k=ey,D=ty,F=null,X=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(F=d.unstable_transitionCallbacks),d.formState!==void 0&&(X=d.formState)),l=C1(i,1,!0,l,d??null,f,g,b,k,D,F,X),l.context=T1(null),d=l.current,f=En(),f=jf(f),g=Zr(f),g.callback=null,ei(d,g,f),d=f,l.current.lanes=d,Ya(l,d),dr(l),i[_s]=l.current,pp(i),new od(l)},Vo.version="19.1.0",Vo}var Y1;function a5(){if(Y1)return _p.exports;Y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=s5(),_p.exports}var o5=a5(),A=Wn();const an=qu(A);var $o={},K1;function l5(){if(K1)return $o;K1=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parse=c,$o.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,v){const w=new o,j=y.length;if(j<2)return w;const C=v?.decode||m;let O=0;do{const V=y.indexOf("=",O);if(V===-1)break;const q=y.indexOf(";",O),Q=q===-1?j:q;if(V>Q){O=y.lastIndexOf(";",V-1)+1;continue}const z=u(y,O,V),B=h(y,V,z),_=y.slice(z,B);if(w[_]===void 0){let I=u(y,V+1,Q),R=h(y,Q,I);const E=C(y.slice(I,R));w[_]=E}O=Q+1}while(O<j);return w}function u(y,v,w){do{const j=y.charCodeAt(v);if(j!==32&&j!==9)return v}while(++v<w);return w}function h(y,v,w){for(;v>w;){const j=y.charCodeAt(--v);if(j!==32&&j!==9)return v+1}return w}function p(y,v,w){const j=w?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=j(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let O=y+"="+C;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!x(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return s.call(y)==="[object Date]"}return $o}l5();var G1="popstate";function c5(t={}){function e(r,s){let{pathname:o,search:c,hash:u}=r.location;return Wm("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yl(s)}return u5(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d5(){return Math.random().toString(36).substring(2,10)}function Q1(t,e){return{usr:t.state,key:t.key,idx:e}}function Wm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ba(e):e,state:n,key:e&&e.key||r||d5()}}function yl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function u5(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,u="POP",h=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function x(){u="POP";let C=m(),O=C==null?null:C-p;p=C,h&&h({action:u,location:j.location,delta:O})}function y(C,O){u="PUSH";let V=Wm(j.location,C,O);p=m()+1;let q=Q1(V,p),Q=j.createHref(V);try{c.pushState(q,"",Q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(Q)}o&&h&&h({action:u,location:j.location,delta:1})}function v(C,O){u="REPLACE";let V=Wm(j.location,C,O);p=m();let q=Q1(V,p),Q=j.createHref(V);c.replaceState(q,"",Q),o&&h&&h({action:u,location:j.location,delta:0})}function w(C){return f5(C)}let j={get action(){return u},get location(){return t(s,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(G1,x),h=C,()=>{s.removeEventListener(G1,x),h=null}},createHref(C){return e(s,C)},createURL:w,encodeLocation(C){let O=w(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:v,go(C){return c.go(C)}};return j}function f5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:yl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zw(t,e,n="/"){return h5(t,e,n,!1)}function h5(t,e,n,r){let s=typeof e=="string"?Ba(e):e,o=$r(s.pathname||"/",n);if(o==null)return null;let c=Lw(t);p5(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=k5(o);u=j5(c[h],p,r)}return u}function Lw(t,e=[],n=[],r=""){let s=(o,c,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(st(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Fr([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Lw(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:w5(p,o.index),routesMeta:m})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of Pw(o.path))s(o,c,u)}),e}function Pw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=Pw(r.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function p5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var m5=/^:[\w-]+$/,g5=3,x5=2,b5=1,y5=10,v5=-2,J1=t=>t==="*";function w5(t,e){let n=t.split("/"),r=n.length;return n.some(J1)&&(r+=v5),e&&(r+=x5),n.filter(s=>!J1(s)).reduce((s,o)=>s+(m5.test(o)?g5:o===""?b5:y5),r)}function S5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function j5(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",x=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),y=h.route;if(!x&&p&&n&&!r[r.length-1].route.index&&(x=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Fr([o,x.pathname]),pathnameBase:O5(Fr([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Fr([o,x.pathnameBase]))}return c}function Vd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:x},y)=>{if(m==="*"){let w=u[y]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[y];return x&&!v?p[m]=void 0:p[m]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function N5(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function k5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $r(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E5(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:C5(n,e):e,search:A5(r),hash:M5(s)}}function C5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ig(t){let e=T5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ug(t,e,n,r=!1){let s;typeof t=="string"?s=Ba(t):(s={...t},st(!s.pathname||!s.pathname.includes("?"),Hp("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),Hp("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),Hp("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;s.pathname=y.join("/")}u=x>=0?e[x]:"/"}let h=E5(s,u),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),O5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var D5=["GET",...Bw];new Set(D5);var Ha=A.createContext(null);Ha.displayName="DataRouter";var Vu=A.createContext(null);Vu.displayName="DataRouterState";var Hw=A.createContext({isTransitioning:!1});Hw.displayName="ViewTransition";var _5=A.createContext(new Map);_5.displayName="Fetchers";var z5=A.createContext(null);z5.displayName="Await";var ir=A.createContext(null);ir.displayName="Navigation";var Dl=A.createContext(null);Dl.displayName="Location";var Yn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Fg=A.createContext(null);Fg.displayName="RouteError";function L5(t,{relative:e}={}){st(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(ir),{hash:s,pathname:o,search:c}=_l(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Fr([n,o])),r.createHref({pathname:u,search:c,hash:s})}function Ia(){return A.useContext(Dl)!=null}function Pi(){return st(Ia(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Dl).location}var Iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uw(t){A.useContext(ir).static||A.useLayoutEffect(t)}function Rt(){let{isDataRoute:t}=A.useContext(Yn);return t?X5():P5()}function P5(){st(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ha),{basename:e,navigator:n}=A.useContext(ir),{matches:r}=A.useContext(Yn),{pathname:s}=Pi(),o=JSON.stringify(Ig(r)),c=A.useRef(!1);return Uw(()=>{c.current=!0}),A.useCallback((h,p={})=>{if(tr(c.current,Iw),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=Ug(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fr([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,s,t])}var B5=A.createContext(null);function H5(t){let e=A.useContext(Yn).outlet;return e&&A.createElement(B5.Provider,{value:t},e)}function I5(){let{matches:t}=A.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function _l(t,{relative:e}={}){let{matches:n}=A.useContext(Yn),{pathname:r}=Pi(),s=JSON.stringify(Ig(n));return A.useMemo(()=>Ug(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function U5(t,e){return Fw(t,e)}function Fw(t,e,n,r){st(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(ir),{matches:o}=A.useContext(Yn),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let O=m&&m.path||"";qw(h,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=Pi(),y;if(e){let O=typeof e=="string"?Ba(e):e;st(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=x;let v=y.pathname||"/",w=v;if(p!=="/"){let O=p.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let j=zw(t,{pathname:w});tr(m||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),tr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=W5(j&&j.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:Fr([p,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Fr([p,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r);return e&&C?A.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function F5(){let t=J5(),e=R5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,c)}var q5=A.createElement(F5,null),V5=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Yn.Provider,{value:this.props.routeContext},A.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $5({routeContext:t,match:e,children:n}){let r=A.useContext(Ha);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Yn.Provider,{value:t},n)}function W5(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);st(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:x}=n,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let x,y=!1,v=null,w=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||q5,c&&(u<0&&m===0?(qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===m&&(y=!0,w=p.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,m+1)),C=()=>{let O;return x?O=v:y?O=w:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,A.createElement($5,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?A.createElement(V5,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:C(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):C()},null)}function qg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y5(t){let e=A.useContext(Ha);return st(e,qg(t)),e}function K5(t){let e=A.useContext(Vu);return st(e,qg(t)),e}function G5(t){let e=A.useContext(Yn);return st(e,qg(t)),e}function Vg(t){let e=G5(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Q5(){return Vg("useRouteId")}function J5(){let t=A.useContext(Fg),e=K5("useRouteError"),n=Vg("useRouteError");return t!==void 0?t:e.errors?.[n]}function X5(){let{router:t}=Y5("useNavigate"),e=Vg("useNavigate"),n=A.useRef(!1);return Uw(()=>{n.current=!0}),A.useCallback(async(s,o={})=>{tr(n.current,Iw),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var X1={};function qw(t,e,n){!e&&!X1[t]&&(X1[t]=!0,tr(!1,n))}A.memo(Z5);function Z5({routes:t,future:e,state:n}){return Fw(t,void 0,n,e)}function Ip({to:t,replace:e,state:n,relative:r}){st(Ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=A.useContext(ir);tr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(Yn),{pathname:c}=Pi(),u=Rt(),h=Ug(t,Ig(o),c,r==="path"),p=JSON.stringify(h);return A.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function Vw(t){return H5(t.context)}function $e(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eE({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){st(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=Ba(n));let{pathname:h="/",search:p="",hash:m="",state:x=null,key:y="default"}=n,v=A.useMemo(()=>{let w=$r(h,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:x,key:y},navigationType:r}},[c,h,p,m,x,y,r]);return tr(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(ir.Provider,{value:u},A.createElement(Dl.Provider,{children:e,value:v}))}function tE({children:t,location:e}){return U5(Ym(t),e)}function Ym(t,e=[]){let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let o=[...e,s];if(r.type===A.Fragment){n.push.apply(n,Ym(r.props.children,o));return}st(r.type===$e,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ym(r.props.children,o)),n.push(c)}),n}var Cd="get",Td="application/x-www-form-urlencoded";function $u(t){return t!=null&&typeof t.tagName=="string"}function nE(t){return $u(t)&&t.tagName.toLowerCase()==="button"}function rE(t){return $u(t)&&t.tagName.toLowerCase()==="form"}function iE(t){return $u(t)&&t.tagName.toLowerCase()==="input"}function sE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aE(t,e){return t.button===0&&(!e||e==="_self")&&!sE(t)}var dd=null;function oE(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var lE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(t){return t!=null&&!lE.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):t}function cE(t,e){let n,r,s,o,c;if(rE(t)){let u=t.getAttribute("action");r=u?$r(u,e):null,n=t.getAttribute("method")||Cd,s=Up(t.getAttribute("enctype"))||Td,o=new FormData(t)}else if(nE(t)||iE(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?$r(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Cd,s=Up(t.getAttribute("formenctype"))||Up(u.getAttribute("enctype"))||Td,o=new FormData(u,t),!oE()){let{name:p,type:m,value:x}=t;if(m==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,x)}}else{if($u(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cd,r=null,s=Td,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}function $g(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fE(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await dE(o,n);return c.links?c.links():[]}return[]}));return gE(r.flat(1).filter(uE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Z1(t,e,n,r,s,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>c(h,p)||u(h,p)):o==="data"?e.filter((h,p)=>{let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hE(t,e,{includeHydrateFallback:n}={}){return pE(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function pE(t){return[...new Set(t)]}function mE(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gE(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(mE(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xE=new Set([100,101,204,205]);function bE(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&$r(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $w(){let t=A.useContext(Ha);return $g(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yE(){let t=A.useContext(Vu);return $g(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wg=A.createContext(void 0);Wg.displayName="FrameworkContext";function Ww(){let t=A.useContext(Wg);return $g(t,"You must render this element inside a <HydratedRouter> element"),t}function vE(t,e){let n=A.useContext(Wg),[r,s]=A.useState(!1),[o,c]=A.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:x}=e,y=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=O=>{O.forEach(V=>{c(V.isIntersecting)})},C=new IntersectionObserver(j,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let v=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Wo(u,v),onBlur:Wo(h,w),onMouseEnter:Wo(p,v),onMouseLeave:Wo(m,w),onTouchStart:Wo(x,v)}]:[!1,y,{}]}function Wo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wE({page:t,...e}){let{router:n}=$w(),r=A.useMemo(()=>zw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(jE,{page:t,matches:r,...e}):null}function SE(t){let{manifest:e,routeModules:n}=Ww(),[r,s]=A.useState([]);return A.useEffect(()=>{let o=!1;return fE(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function jE({page:t,matches:e,...n}){let r=Pi(),{manifest:s,routeModules:o}=Ww(),{basename:c}=$w(),{loaderData:u,matches:h}=yE(),p=A.useMemo(()=>Z1(t,e,h,s,r,"data"),[t,e,h,s,r]),m=A.useMemo(()=>Z1(t,e,h,s,r,"assets"),[t,e,h,s,r]),x=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(e.forEach(O=>{let V=s.routes[O.route.id];!V||!V.hasLoader||(!p.some(q=>q.route.id===O.route.id)&&O.route.id in u&&o[O.route.id]?.shouldRevalidate||V.hasClientLoader?j=!0:w.add(O.route.id))}),w.size===0)return[];let C=bE(t,c);return j&&w.size>0&&C.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[c,u,r,s,p,e,t,o]),y=A.useMemo(()=>hE(m,s),[m,s]),v=SE(m);return A.createElement(A.Fragment,null,x.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:j})=>A.createElement("link",{key:w,...j})))}function NE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yw&&(window.__reactRouterVersion="7.6.3")}catch{}function kE({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=c5({window:n,v5Compat:!0}));let s=r.current,[o,c]=A.useState({action:s.action,location:s.location}),u=A.useCallback(h=>{A.startTransition(()=>c(h))},[c]);return A.useLayoutEffect(()=>s.listen(u),[s,u]),A.createElement(eE,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:u,target:h,to:p,preventScrollReset:m,viewTransition:x,...y},v){let{basename:w}=A.useContext(ir),j=typeof p=="string"&&Kw.test(p),C,O=!1;if(typeof p=="string"&&j&&(C=p,Yw))try{let R=new URL(window.location.href),E=p.startsWith("//")?new URL(R.protocol+p):new URL(p),H=$r(E.pathname,w);E.origin===R.origin&&H!=null?p=H+E.search+E.hash:O=!0}catch{tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=L5(p,{relative:s}),[q,Q,z]=vE(r,y),B=TE(p,{replace:c,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:x});function _(R){e&&e(R),R.defaultPrevented||B(R)}let I=A.createElement("a",{...y,...z,href:C||V,onClick:O||o?e:_,ref:NE(v,Q),target:h,"data-discover":!j&&n==="render"?"true":void 0});return q&&!j?A.createElement(A.Fragment,null,I,A.createElement(wE,{page:V})):I});yt.displayName="Link";var jt=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:u,children:h,...p},m){let x=_l(c,{relative:p.relative}),y=Pi(),v=A.useContext(Vu),{navigator:w,basename:j}=A.useContext(ir),C=v!=null&&DE(x)&&u===!0,O=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,V=y.pathname,q=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(V=V.toLowerCase(),q=q?q.toLowerCase():null,O=O.toLowerCase()),q&&j&&(q=$r(q,j)||q);const Q=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let z=V===O||!s&&V.startsWith(O)&&V.charAt(Q)==="/",B=q!=null&&(q===O||!s&&q.startsWith(O)&&q.charAt(O.length)==="/"),_={isActive:z,isPending:B,isTransitioning:C},I=z?e:void 0,R;typeof r=="function"?R=r(_):R=[r,z?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(_):o;return A.createElement(yt,{...p,"aria-current":I,className:R,ref:m,style:E,to:c,viewTransition:u},typeof h=="function"?h(_):h)});jt.displayName="NavLink";var EE=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=Cd,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:x,...y},v)=>{let w=ME(),j=RE(u,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&Kw.test(u),V=q=>{if(h&&h(q),q.defaultPrevented)return;q.preventDefault();let Q=q.nativeEvent.submitter,z=Q?.getAttribute("formmethod")||c;w(Q||q.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:o,relative:p,preventScrollReset:m,viewTransition:x})};return A.createElement("form",{ref:v,method:C,action:j,onSubmit:r?h:V,...y,"data-discover":!O&&t==="render"?"true":void 0})});EE.displayName="Form";function CE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(t){let e=A.useContext(Ha);return st(e,CE(t)),e}function TE(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=Rt(),h=Pi(),p=_l(t,{relative:o});return A.useCallback(m=>{if(aE(m,e)){m.preventDefault();let x=n!==void 0?n:yl(h)===yl(p);u(t,{replace:x,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[h,u,p,n,r,e,t,s,o,c])}var OE=0,AE=()=>`__${String(++OE)}__`;function ME(){let{router:t}=Gw("useSubmit"),{basename:e}=A.useContext(ir),n=Q5();return A.useCallback(async(r,s={})=>{let{action:o,method:c,encType:u,formData:h,body:p}=cE(r,e);if(s.navigate===!1){let m=s.fetcherKey||AE();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function RE(t,{relative:e}={}){let{basename:n}=A.useContext(ir),r=A.useContext(Yn);st(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={..._l(t||".",{relative:e})},c=Pi();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Fr([n,o.pathname])),yl(o)}function DE(t,e={}){let n=A.useContext(Hw);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gw("useViewTransitionState"),s=_l(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=$r(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=$r(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vd(s.pathname,c)!=null||Vd(s.pathname,o)!=null}[...xE];var _E=_w();const zE=qu(_E);let LE={data:""},PE=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||LE,BE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HE=/\/\*[^]*?\*\/|  +/g,ev=/\n+/g,ji=(t,e)=>{let n="",r="",s="";for(let o in t){let c=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+c+";":r+=o[1]=="f"?ji(c,o):o+"{"+ji(c,o[1]=="k"?"":e)+"}":typeof c=="object"?r+=ji(c,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ji.p?ji.p(o,c):o+":"+c+";")}return n+(e&&s?e+"{"+s+"}":s)+r},zr={},Qw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Qw(t[n]);return e}return t},IE=(t,e,n,r,s)=>{let o=Qw(t),c=zr[o]||(zr[o]=(h=>{let p=0,m=11;for(;p<h.length;)m=101*m+h.charCodeAt(p++)>>>0;return"go"+m})(o));if(!zr[c]){let h=o!==t?t:(p=>{let m,x,y=[{}];for(;m=BE.exec(p.replace(HE,""));)m[4]?y.shift():m[3]?(x=m[3].replace(ev," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][m[1]]=m[2].replace(ev," ").trim();return y[0]})(t);zr[c]=ji(s?{["@keyframes "+c]:h}:h,n?"":"."+c)}let u=n&&zr.g?zr.g:null;return n&&(zr.g=zr[c]),((h,p,m,x)=>{x?p.data=p.data.replace(x,h):p.data.indexOf(h)===-1&&(p.data=m?h+p.data:p.data+h)})(zr[c],e,r,u),c},UE=(t,e,n)=>t.reduce((r,s,o)=>{let c=e[o];if(c&&c.call){let u=c(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":ji(u,""):u===!1?"":u}return r+s+(c??"")},"");function Wu(t){let e=this||{},n=t.call?t(e.p):t;return IE(n.unshift?n.raw?UE(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,PE(e.target),e.g,e.o,e.k)}let Jw,Km,Gm;Wu.bind({g:1});let Wr=Wu.bind({k:1});function FE(t,e,n,r){ji.p=e,Jw=t,Km=n,Gm=r}function Bi(t,e){let n=this||{};return function(){let r=arguments;function s(o,c){let u=Object.assign({},o),h=u.className||s.className;n.p=Object.assign({theme:Km&&Km()},u),n.o=/ *go\d+/.test(h),u.className=Wu.apply(n,r)+(h?" "+h:"");let p=t;return t[0]&&(p=u.as||t,delete u.as),Gm&&p[0]&&Gm(u),Jw(p,u)}return s}}var qE=t=>typeof t=="function",$d=(t,e)=>qE(t)?t(e):t,VE=(()=>{let t=0;return()=>(++t).toString()})(),Xw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$E=20,Zw=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,$E)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return Zw(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Od=[],fs={toasts:[],pausedAt:void 0},Ms=t=>{fs=Zw(fs,t),Od.forEach(e=>{e(fs)})},WE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},YE=(t={})=>{let[e,n]=A.useState(fs),r=A.useRef(fs);A.useEffect(()=>(r.current!==fs&&n(fs),Od.push(n),()=>{let o=Od.indexOf(n);o>-1&&Od.splice(o,1)}),[]);let s=e.toasts.map(o=>{var c,u,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((c=t[o.type])==null?void 0:c.removeDelay)||t?.removeDelay,duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||t?.duration||WE[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...e,toasts:s}},KE=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||VE()}),zl=t=>(e,n)=>{let r=KE(e,t,n);return Ms({type:2,toast:r}),r.id},Ht=(t,e)=>zl("blank")(t,e);Ht.error=zl("error");Ht.success=zl("success");Ht.loading=zl("loading");Ht.custom=zl("custom");Ht.dismiss=t=>{Ms({type:3,toastId:t})};Ht.remove=t=>Ms({type:4,toastId:t});Ht.promise=(t,e,n)=>{let r=Ht.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?$d(e.success,s):void 0;return o?Ht.success(o,{id:r,...n,...n?.success}):Ht.dismiss(r),s}).catch(s=>{let o=e.error?$d(e.error,s):void 0;o?Ht.error(o,{id:r,...n,...n?.error}):Ht.dismiss(r)}),t};var GE=(t,e)=>{Ms({type:1,toast:{id:t,height:e}})},QE=()=>{Ms({type:5,time:Date.now()})},ll=new Map,JE=1e3,XE=(t,e=JE)=>{if(ll.has(t))return;let n=setTimeout(()=>{ll.delete(t),Ms({type:4,toastId:t})},e);ll.set(t,n)},ZE=t=>{let{toasts:e,pausedAt:n}=YE(t);A.useEffect(()=>{if(n)return;let o=Date.now(),c=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(h<0){u.visible&&Ht.dismiss(u.id);return}return setTimeout(()=>Ht.dismiss(u.id),h)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[e,n]);let r=A.useCallback(()=>{n&&Ms({type:6,time:Date.now()})},[n]),s=A.useCallback((o,c)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:p}=c||{},m=e.filter(v=>(v.position||p)===(o.position||p)&&v.height),x=m.findIndex(v=>v.id===o.id),y=m.filter((v,w)=>w<x&&v.visible).length;return m.filter(v=>v.visible).slice(...u?[y+1]:[0,y]).reduce((v,w)=>v+(w.height||0)+h,0)},[e]);return A.useEffect(()=>{e.forEach(o=>{if(o.dismissed)XE(o.id,o.removeDelay);else{let c=ll.get(o.id);c&&(clearTimeout(c),ll.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:GE,startPause:QE,endPause:r,calculateOffset:s}}},eC=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tC=Wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nC=Wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rC=Bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iC=Wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sC=Bi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iC} 1s linear infinite;
`,aC=Wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oC=Wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lC=Bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cC=Bi("div")`
  position: absolute;
`,dC=Bi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uC=Wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fC=Bi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hC=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(fC,null,e):e:n==="blank"?null:A.createElement(dC,null,A.createElement(sC,{...r}),n!=="loading"&&A.createElement(cC,null,n==="error"?A.createElement(rC,{...r}):A.createElement(lC,{...r})))},pC=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mC=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gC="0%{opacity:0;} 100%{opacity:1;}",xC="0%{opacity:1;} 100%{opacity:0;}",bC=Bi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yC=Bi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vC=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Xw()?[gC,xC]:[pC(n),mC(n)];return{animation:e?`${Wr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wC=A.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?vC(t.position||e||"top-center",t.visible):{opacity:0},o=A.createElement(hC,{toast:t}),c=A.createElement(yC,{...t.ariaProps},$d(t.message,t));return A.createElement(bC,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:o,message:c}):A.createElement(A.Fragment,null,o,c))});FE(A.createElement);var SC=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let o=A.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;r(t,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:o,className:e,style:n},s)},jC=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},NC=Wu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ud=16,kC=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:h}=ZE(n);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ud,left:ud,right:ud,bottom:ud,pointerEvents:"none",...o},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(p=>{let m=p.position||e,x=h.calculateOffset(p,{reverseOrder:t,gutter:r,defaultPosition:e}),y=jC(m,x);return A.createElement(SC,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?NC:"",style:y},p.type==="custom"?$d(p.message,p):s?s(p):A.createElement(wC,{toast:p,position:m}))}))},Mt=Ht;const mr=t=>Ht.success(t),Ye=t=>Ht.error(t),EC=t=>Ht(t),Fp=JSON.parse(localStorage.getItem("alfauser")),CC=()=>window.location.href="/",TC=()=>{if(!Fp){window.location.href="/login";return}Fp.role==="admin"?window.location.href="/admin":Fp.role==="seller"&&(window.location.href="/seller")},OC=()=>a.jsxs("div",{className:"mobile-bottom-bar",style:{display:"block"},children:[a.jsxs("button",{className:"bar-btn",onClick:CC,children:[a.jsx("span",{className:"icon",children:a.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M3 10.5L12 4L21 10.5V20C21 20.55 20.55 21 20 21H4C3.45 21 3 20.55 3 20V10.5Z",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsx("span",{className:"bar-label",children:"Home"})]}),a.jsxs("button",{className:"bar-btn",onClick:()=>Ye("This service is not available in your region. Please contact Support."),children:[a.jsx("span",{className:"icon",children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"6.5",cy:"6.5",r:"3.5",stroke:"#374151",strokeWidth:"2"}),a.jsx("circle",{cx:"17.5",cy:"6.5",r:"3.5",stroke:"#374151",strokeWidth:"2"}),a.jsx("circle",{cx:"12",cy:"17.5",r:"3.5",stroke:"#374151",strokeWidth:"2"})]})}),a.jsx("span",{className:"bar-label",children:"Categories"})]}),a.jsxs("button",{className:"bar-btn",onClick:()=>Ye("This service is not available in your region. Please contact Support."),children:[a.jsx("span",{className:"icon",children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M6 6H21L20 14H7L6 6Z",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"9",cy:"20",r:"1",fill:"#374151"}),a.jsx("circle",{cx:"18",cy:"20",r:"1",fill:"#374151"})]})}),a.jsx("span",{className:"bar-label",children:"Cart"})]}),a.jsxs("button",{className:"bar-btn",onClick:TC,children:[a.jsx("span",{className:"icon",children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"8",r:"4",stroke:"#374151",strokeWidth:"2"}),a.jsx("path",{d:"M4 20C4 16.6863 7.13401 14 11 14H13C16.866 14 20 16.6863 20 20",stroke:"#374151",strokeWidth:"2"})]})}),a.jsx("span",{className:"bar-label",children:"User"})]}),a.jsxs("button",{className:"bar-btn",onClick:()=>Ye("This service is not available in your region. Please contact Support."),children:[a.jsx("span",{className:"icon",children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M18 16V11C18 7.68629 15.3137 5 12 5C8.68629 5 6 7.68629 6 11V16L4 18V19H20V18L18 16Z",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"21",r:"1",fill:"#374151"})]})}),a.jsx("span",{className:"bar-label",children:"Info"})]})]}),gr=Object.create(null);gr.open="0";gr.close="1";gr.ping="2";gr.pong="3";gr.message="4";gr.upgrade="5";gr.noop="6";const Ad=Object.create(null);Object.keys(gr).forEach(t=>{Ad[gr[t]]=t});const Qm={type:"error",data:"parser error"},eS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tS=typeof ArrayBuffer=="function",nS=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Yg=({type:t,data:e},n,r)=>eS&&e instanceof Blob?n?r(e):tv(e,r):tS&&(e instanceof ArrayBuffer||nS(e))?n?r(e):tv(new Blob([e]),r):r(gr[t]+(e||"")),tv=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function nv(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let qp;function AC(t,e){if(eS&&t.data instanceof Blob)return t.data.arrayBuffer().then(nv).then(e);if(tS&&(t.data instanceof ArrayBuffer||nS(t.data)))return e(nv(t.data));Yg(t,!1,n=>{qp||(qp=new TextEncoder),e(qp.encode(n))})}const rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<rv.length;t++)rl[rv.charCodeAt(t)]=t;const MC=t=>{let e=t.length*.75,n=t.length,r,s=0,o,c,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),m=new Uint8Array(p);for(r=0;r<n;r+=4)o=rl[t.charCodeAt(r)],c=rl[t.charCodeAt(r+1)],u=rl[t.charCodeAt(r+2)],h=rl[t.charCodeAt(r+3)],m[s++]=o<<2|c>>4,m[s++]=(c&15)<<4|u>>2,m[s++]=(u&3)<<6|h&63;return p},RC=typeof ArrayBuffer=="function",Kg=(t,e)=>{if(typeof t!="string")return{type:"message",data:rS(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:DC(t.substring(1),e)}:Ad[n]?t.length>1?{type:Ad[n],data:t.substring(1)}:{type:Ad[n]}:Qm},DC=(t,e)=>{if(RC){const n=MC(t);return rS(n,e)}else return{base64:!0,data:t}},rS=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},iS="",_C=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((o,c)=>{Yg(o,!1,u=>{r[c]=u,++s===n&&e(r.join(iS))})})},zC=(t,e)=>{const n=t.split(iS),r=[];for(let s=0;s<n.length;s++){const o=Kg(n[s],e);if(r.push(o),o.type==="error")break}return r};function LC(){return new TransformStream({transform(t,e){AC(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Vp;function fd(t){return t.reduce((e,n)=>e+n.length,0)}function hd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function PC(t,e){Vp||(Vp=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(c,u){for(n.push(c);;){if(r===0){if(fd(n)<1)break;const h=hd(n,1);o=(h[0]&128)===128,s=h[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(fd(n)<2)break;const h=hd(n,2);s=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(r===2){if(fd(n)<8)break;const h=hd(n,8),p=new DataView(h.buffer,h.byteOffset,h.length),m=p.getUint32(0);if(m>Math.pow(2,21)-1){u.enqueue(Qm);break}s=m*Math.pow(2,32)+p.getUint32(4),r=3}else{if(fd(n)<s)break;const h=hd(n,s);u.enqueue(Kg(o?h:Vp.decode(h),e)),r=0}if(s===0||s>t){u.enqueue(Qm);break}}}})}const sS=4;function Nt(t){if(t)return BC(t)}function BC(t){for(var e in Nt.prototype)t[e]=Nt.prototype[e];return t}Nt.prototype.on=Nt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Nt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Nt.prototype.off=Nt.prototype.removeListener=Nt.prototype.removeAllListeners=Nt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Nt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};Nt.prototype.emitReserved=Nt.prototype.emit;Nt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Nt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Yu=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),qn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),HC="arraybuffer";function aS(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const IC=qn.setTimeout,UC=qn.clearTimeout;function Ku(t,e){e.useNativeTimers?(t.setTimeoutFn=IC.bind(qn),t.clearTimeoutFn=UC.bind(qn)):(t.setTimeoutFn=qn.setTimeout.bind(qn),t.clearTimeoutFn=qn.clearTimeout.bind(qn))}const FC=1.33;function qC(t){return typeof t=="string"?VC(t):Math.ceil((t.byteLength||t.size)*FC)}function VC(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function oS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function $C(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function WC(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class YC extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Gg extends Nt{constructor(e){super(),this.writable=!1,Ku(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new YC(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Kg(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=$C(e);return n.length?"?"+n:""}}class KC extends Gg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};zC(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_C(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=oS()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let lS=!1;try{lS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const GC=lS;function QC(){}class JC extends KC{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Ca=class Md extends Nt{constructor(e,n,r){super(),this.createRequest=e,Ku(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=aS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Md.requestsCount++,Md.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=QC,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Md.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ca.requestsCount=0;Ca.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",iv);else if(typeof addEventListener=="function"){const t="onpagehide"in qn?"pagehide":"unload";addEventListener(t,iv,!1)}}function iv(){for(let t in Ca.requests)Ca.requests.hasOwnProperty(t)&&Ca.requests[t].abort()}const XC=function(){const t=cS({xdomain:!1});return t&&t.responseType!==null}();class ZC extends JC{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=XC&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ca(cS,this.uri(),e)}}function cS(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||GC))return new XMLHttpRequest}catch{}if(!e)try{return new qn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class eT extends Gg{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=dS?{}:aS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Yg(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}s&&Yu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=oS()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const $p=qn.WebSocket||qn.MozWebSocket;let tT=class extends eT{createSocket(e,n,r){return dS?new $p(e,n,r):n?new $p(e,n):new $p(e)}doWrite(e,n){this.ws.send(n)}};class nT extends Gg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=PC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=LC();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const o=()=>{r.read().then(({done:u,value:h})=>{u||(this.onPacket(h),o())}).catch(u=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Yu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const rT={websocket:tT,webtransport:nT,polling:ZC},iT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=iT.exec(t||""),o={},c=14;for(;c--;)o[sT[c]]=s[c]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=aT(o,o.path),o.queryKey=oT(o,o.query),o}function aT(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oT(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}const Xm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Rd=[];Xm&&addEventListener("offline",()=>{Rd.forEach(t=>t())},!1);class Oi extends Nt{constructor(e,n){if(super(),this.binaryType=HC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Jm(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Jm(n.host).host);Ku(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=WC(this.opts.query)),Xm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Rd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=sS,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=qC(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Yu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Oi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Xm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Rd.indexOf(this._offlineEventListener);r!==-1&&Rd.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Oi.protocol=sS;class lT extends Oi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Oi.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!r)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Oi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,m(),n.close(),n=null)}const c=x=>{const y=new Error("probe error: "+x);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function u(){c("transport closed")}function h(){c("socket closed")}function p(x){n&&x.name!==n.name&&o()}const m=()=>{n.removeListener("open",s),n.removeListener("error",c),n.removeListener("close",u),this.off("close",h),this.off("upgrading",p)};n.once("open",s),n.once("error",c),n.once("close",u),this.once("close",h),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let cT=class extends lT{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>rT[s]).filter(s=>!!s)),super(e,r)}};function dT(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Jm(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const uT=typeof ArrayBuffer=="function",fT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,uS=Object.prototype.toString,hT=typeof Blob=="function"||typeof Blob<"u"&&uS.call(Blob)==="[object BlobConstructor]",pT=typeof File=="function"||typeof File<"u"&&uS.call(File)==="[object FileConstructor]";function Qg(t){return uT&&(t instanceof ArrayBuffer||fT(t))||hT&&t instanceof Blob||pT&&t instanceof File}function Dd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Dd(t[n]))return!0;return!1}if(Qg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Dd(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Dd(t[n]))return!0;return!1}function mT(t){const e=[],n=t.data,r=t;return r.data=Zm(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Zm(t,e){if(!t)return t;if(Qg(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Zm(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Zm(t[r],e));return n}return t}function gT(t,e){return t.data=eg(t.data,e),delete t.attachments,t}function eg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=eg(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=eg(t[n],e));return t}const xT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bT=5;var He;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(He||(He={}));class yT{constructor(e){this.replacer=e}encode(e){return(e.type===He.EVENT||e.type===He.ACK)&&Dd(e)?this.encodeAsBinary({type:e.type===He.EVENT?He.BINARY_EVENT:He.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===He.BINARY_EVENT||e.type===He.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=mT(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function sv(t){return Object.prototype.toString.call(t)==="[object Object]"}class Jg extends Nt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===He.BINARY_EVENT;r||n.type===He.BINARY_ACK?(n.type=r?He.EVENT:He.ACK,this.reconstructor=new vT(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Qg(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(He[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===He.BINARY_EVENT||r.type===He.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const c=e.substring(o,n);if(c!=Number(c)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(c)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const c=e.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(Jg.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case He.CONNECT:return sv(n);case He.DISCONNECT:return n===void 0;case He.CONNECT_ERROR:return typeof n=="string"||sv(n);case He.EVENT:case He.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&xT.indexOf(n[0])===-1);case He.ACK:case He.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class vT{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=gT(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const wT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jg,Encoder:yT,get PacketType(){return He},protocol:bT},Symbol.toStringTag,{value:"Module"}));function Jn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const ST=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fS extends Nt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Jn(e,"open",this.onopen.bind(this)),Jn(e,"packet",this.onpacket.bind(this)),Jn(e,"error",this.onerror.bind(this)),Jn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,o;if(ST.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const c={type:He.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,x=n.pop();this._registerAckCallback(m,x),c.id=m}const u=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,h=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},s),c=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...n){return new Promise((r,s)=>{const o=(c,u)=>c?s(c):r(u);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:He.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case He.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case He.EVENT:case He.BINARY_EVENT:this.onevent(e);break;case He.ACK:case He.BINARY_ACK:this.onack(e);break;case He.DISCONNECT:this.ondisconnect();break;case He.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:He.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:He.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Ua(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ua.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Ua.prototype.reset=function(){this.attempts=0};Ua.prototype.setMin=function(t){this.ms=t};Ua.prototype.setMax=function(t){this.max=t};Ua.prototype.setJitter=function(t){this.jitter=t};class tg extends Nt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ku(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ua({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||wT;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new cT(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Jn(n,"open",function(){r.onopen(),e&&e()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},c=Jn(n,"error",o);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(s),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Jn(e,"ping",this.onping.bind(this)),Jn(e,"data",this.ondata.bind(this)),Jn(e,"error",this.onerror.bind(this)),Jn(e,"close",this.onclose.bind(this)),Jn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Yu(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new fS(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Yo={};function _d(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=dT(t,e.path||"/socket.io"),r=n.source,s=n.id,o=n.path,c=Yo[s]&&o in Yo[s].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let h;return u?h=new tg(r,e):(Yo[s]||(Yo[s]=new tg(r,e)),h=Yo[s]),n.query&&!e.query&&(e.query=n.queryKey),h.socket(n.path,e)}Object.assign(_d,{Manager:tg,Socket:fS,io:_d,connect:_d});let Bt=null,Wp=0;const Yp=5,hS=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));if(!t||!t.token)return console.error(" Cannot initialize socket: user not authenticated"),null;Bt&&(console.log(" Disconnecting existing socket before creating new one"),Bt.disconnect(),Bt=null);let e="https://secure-celebration-production.up.railway.app/";return e.endsWith("/api")&&(e=e.substring(0,e.length-4)),console.log(" Initializing new socket connection to:",e),Bt=_d(e,{auth:{token:t.token},reconnection:!0,reconnectionAttempts:Yp,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"],forceNew:!0,withCredentials:!0,extraHeaders:{Authorization:`Bearer ${t.token}`}}),Bt.on("connect",()=>{console.log(" Socket connected successfully with ID:",Bt.id),console.log(" User:",t.name,"ID:",t._id),Wp=0}),Bt.on("connect_error",n=>{console.error(" Socket connection error:",n.message),Wp++,Wp>=Yp&&console.error(` Failed to connect after ${Yp} attempts`)}),Bt.on("error",n=>{console.error(" Socket error:",n)}),Bt.on("disconnect",n=>{console.log(" Socket disconnected:",n)}),Bt.on("ping",()=>{Bt.emit("pong")}),Bt},jT=()=>{Bt&&(console.log(" Manually disconnecting socket"),Bt.disconnect(),Bt=null)},ka=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return!t||!t.token?(console.warn(" User not authenticated, cannot get socket"),null):!Bt||!Bt.connected?(console.log(" Socket not available or disconnected, initializing new connection"),hS()):(console.log(" Returning existing connected socket"),Bt)};var pS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},av=an.createContext&&an.createContext(pS),NT=["attr","size","title"];function kT(t,e){if(t==null)return{};var n=ET(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ET(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function ov(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ov(Object(n),!0).forEach(function(r){CT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CT(t,e,n){return e=TT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TT(t){var e=OT(t,"string");return typeof e=="symbol"?e:e+""}function OT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mS(t){return t&&t.map((e,n)=>an.createElement(e.tag,Yd({key:n},e.attr),mS(e.child)))}function pe(t){return e=>an.createElement(AT,Wd({attr:Yd({},t.attr)},e),mS(t.child))}function AT(t){var e=n=>{var{attr:r,size:s,title:o}=t,c=kT(t,NT),u=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),an.createElement("svg",Wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:Yd(Yd({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&an.createElement("title",null,o),t.children)};return av!==void 0?an.createElement(av.Consumer,null,n=>e(n)):e(pS)}function MT(t){return pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function RT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function DT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function _T(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 72.96l54.77 54.76a132.036 132.036 0 0 0 72.71 37.06l76.71 12.15c27.51 4.36 55.7-.11 80.53-12.76l69.13-35.21a132.273 132.273 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function zT(t){return pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function LT(t){return pe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function PT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(t)}function BT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(t)}function HT(t){return pe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function IT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function UT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function FT(t){return pe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function lv(t){return pe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function qT(t){return pe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(t)}function VT(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function $T(t){return pe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function WT(t){return pe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}const YT=[{to:"/privacy-policy",icon:a.jsx($T,{}),label:"Privacy Policy"},{to:"/terms-and-conditions",icon:a.jsx(LT,{}),label:"Terms & Conditions"},{to:"/cookies-policy",icon:a.jsx(_T,{}),label:"Cookies Policy"},{to:"/risk-disclosure",icon:a.jsx(zT,{}),label:"Risk Disclosure"}],Fa=()=>a.jsxs("footer",{style:{background:"linear-gradient(135deg, #f472b6 0%, #6366f1 60%, #fbbf24 100%)",color:"#fff",padding:"48px 0 0 0",marginTop:"40px",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.08,background:'url("https://www.transparenttextures.com/patterns/diamond-upholstery.png") repeat',pointerEvents:"none",zIndex:0}}),a.jsxs("div",{className:"container",style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",position:"relative",zIndex:1},children:[a.jsxs("div",{className:"row",style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:32},children:[a.jsxs("div",{className:"col",style:{flex:"1 1 220px",minWidth:220},children:[a.jsx("h3",{style:{fontWeight:800,fontSize:28,marginBottom:12,color:"#fbbf24",letterSpacing:1},children:"wolverine house"}),a.jsxs("p",{style:{color:"#cbd5e1",fontSize:14,marginBottom:0},children:["- Your gateway to smarter shopping and a better life.",a.jsx("br",{})," - Where great deals meet everyday living.",a.jsx("br",{})," - Buy better. Live brighter.",a.jsx("br",{})," - Smart choices, seamless shopping, simple life.",a.jsx("br",{})," - Redefining how you shopand how you live."]})]}),a.jsxs("div",{className:"col",style:{flex:"1 1 220px",minWidth:220},children:[a.jsx("h5",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#fbbf24"},children:"Legal"}),a.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:YT.map(t=>a.jsx("li",{style:{marginBottom:10},children:a.jsxs(yt,{to:t.to,style:{color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",gap:8,fontSize:16},children:[t.icon," ",t.label]})},t.to))})]}),a.jsxs("div",{className:"col",style:{flex:"1 1 220px",minWidth:220},children:[a.jsx("h5",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#fbbf24"},children:"Contact Us"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,color:"#cbd5e1",fontSize:16},children:[a.jsxs("li",{style:{marginBottom:10,display:"flex",alignItems:"center",gap:8},children:[a.jsx(HT,{})," 123 Main St, New York, NY, USA"]}),a.jsxs("li",{style:{marginBottom:10,display:"flex",alignItems:"center",gap:8},children:[a.jsx(IT,{})," +1(323)652-8958"]})]})]})]}),a.jsx("div",{style:{borderTop:"1px solid #475569",marginTop:32,padding:"16px 0",textAlign:"center",color:"#cbd5e1",fontSize:15},children:" 2015 wolverinehouse. All rights reserved."})]})]}),KT=""+new URL("ecommerce-KhcjV3hB.png",import.meta.url).href;function GT(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function cv(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function dv(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function Xg(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function QT(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"},child:[]}]})(t)}function gS(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"},child:[]}]})(t)}function JT(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"},child:[]}]})(t)}function uv(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function xS(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function bS(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(t)}const Kp=""+new URL("f1-CppjuiRW.jpg",import.meta.url).href,fv=""+new URL("f2-hUhmzM3f.jpg",import.meta.url).href,hv=""+new URL("f3-COxbxR95.jpg",import.meta.url).href,pv=""+new URL("f5-94IY3jXO.jpg",import.meta.url).href,mv=""+new URL("f6-C5xYsxhv.jpg",import.meta.url).href,XT=""+new URL("f7-Di_A4UQH.jpg",import.meta.url).href,ZT=""+new URL("b10-Di7c6bZC.jpg",import.meta.url).href,gv=""+new URL("bn1-CuQzvBFq.jpeg",import.meta.url).href,e6=""+new URL("bn3-C0cTObyg.jpeg",import.meta.url).href,t6=""+new URL("bn4-BMMRBRlD.jpeg",import.meta.url).href,n6=""+new URL("partners-CcEunwbT.jpeg",import.meta.url).href;var Gp={},Qp={},Ko={},Jp={},xv;function r6(){return xv||(xv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(Jp)),Jp}var Xp,bv;function i6(){if(bv)return Xp;bv=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h=typeof cd=="object"&&cd&&cd.Object===Object&&cd,p=typeof self=="object"&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),x=Object.prototype,y=x.toString,v=Math.max,w=Math.min,j=function(){return m.Date.now()};function C(z,B,_){var I,R,E,H,$,M,T=0,te=!1,U=!1,N=!0;if(typeof z!="function")throw new TypeError(t);B=Q(B)||0,O(_)&&(te=!!_.leading,U="maxWait"in _,E=U?v(Q(_.maxWait)||0,B):E,N="trailing"in _?!!_.trailing:N);function le(fe){var be=I,Ce=R;return I=R=void 0,T=fe,H=z.apply(Ce,be),H}function W(fe){return T=fe,$=setTimeout(L,B),te?le(fe):H}function S(fe){var be=fe-M,Ce=fe-T,_e=B-be;return U?w(_e,E-Ce):_e}function P(fe){var be=fe-M,Ce=fe-T;return M===void 0||be>=B||be<0||U&&Ce>=E}function L(){var fe=j();if(P(fe))return K(fe);$=setTimeout(L,S(fe))}function K(fe){return $=void 0,N&&I?le(fe):(I=R=void 0,H)}function Z(){$!==void 0&&clearTimeout($),T=0,I=M=R=$=void 0}function oe(){return $===void 0?H:K(j())}function ie(){var fe=j(),be=P(fe);if(I=arguments,R=this,M=fe,be){if($===void 0)return W(M);if(U)return $=setTimeout(L,B),le(M)}return $===void 0&&($=setTimeout(L,B)),H}return ie.cancel=Z,ie.flush=oe,ie}function O(z){var B=typeof z;return!!z&&(B=="object"||B=="function")}function V(z){return!!z&&typeof z=="object"}function q(z){return typeof z=="symbol"||V(z)&&y.call(z)==n}function Q(z){if(typeof z=="number")return z;if(q(z))return e;if(O(z)){var B=typeof z.valueOf=="function"?z.valueOf():z;z=O(B)?B+"":B}if(typeof z!="string")return z===0?z:+z;z=z.replace(r,"");var _=o.test(z);return _||c.test(z)?u(z.slice(2),_?2:8):s.test(z)?e:+z}return Xp=C,Xp}var Zp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var yv;function Gu(){return yv||(yv=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(o=s(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var u in o)e.call(o,u)&&o[u]&&(c=s(c,u));return c}function s(o,c){return c?o?o+" "+c:o+c:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Zp)),Zp.exports}var he={},em={},vv;function yS(){return vv||(vv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Wn());function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(em)),em}var wv;function Ll(){if(wv)return he;wv=1,Object.defineProperty(he,"__esModule",{value:!0}),he.checkSpecKeys=he.checkNavigable=he.changeSlide=he.canUseDOM=he.canGoNext=void 0,he.clamp=p,he.extractObject=void 0,he.filterSettings=le,he.validSettings=he.swipeStart=he.swipeMove=he.swipeEnd=he.slidesOnRight=he.slidesOnLeft=he.slideHandler=he.siblingDirection=he.safePreventDefault=he.lazyStartIndex=he.lazySlidesOnRight=he.lazySlidesOnLeft=he.lazyEndIndex=he.keyHandler=he.initializedState=he.getWidth=he.getTrackLeft=he.getTrackCSS=he.getTrackAnimateCSS=he.getTotalSlides=he.getSwipeDirection=he.getSlideCount=he.getRequiredLazySlides=he.getPreClones=he.getPostClones=he.getOnDemandLazySlides=he.getNavigableIndexes=he.getHeight=void 0;var t=n(Wn()),e=n(yS());function n(W){return W&&W.__esModule?W:{default:W}}function r(W){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},r(W)}function s(W,S){var P=Object.keys(W);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(W);S&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(W,K).enumerable})),P.push.apply(P,L)}return P}function o(W){for(var S=1;S<arguments.length;S++){var P=arguments[S]!=null?arguments[S]:{};S%2?s(Object(P),!0).forEach(function(L){c(W,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(P)):s(Object(P)).forEach(function(L){Object.defineProperty(W,L,Object.getOwnPropertyDescriptor(P,L))})}return W}function c(W,S,P){return S=u(S),S in W?Object.defineProperty(W,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):W[S]=P,W}function u(W){var S=h(W,"string");return r(S)=="symbol"?S:String(S)}function h(W,S){if(r(W)!="object"||!W)return W;var P=W[Symbol.toPrimitive];if(P!==void 0){var L=P.call(W,S);if(r(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(W)}function p(W,S,P){return Math.max(S,Math.min(W,P))}var m=he.safePreventDefault=function(S){var P=["onTouchStart","onTouchMove","onWheel"];P.includes(S._reactName)||S.preventDefault()},x=he.getOnDemandLazySlides=function(S){for(var P=[],L=y(S),K=v(S),Z=L;Z<K;Z++)S.lazyLoadedList.indexOf(Z)<0&&P.push(Z);return P};he.getRequiredLazySlides=function(S){for(var P=[],L=y(S),K=v(S),Z=L;Z<K;Z++)P.push(Z);return P};var y=he.lazyStartIndex=function(S){return S.currentSlide-w(S)},v=he.lazyEndIndex=function(S){return S.currentSlide+j(S)},w=he.lazySlidesOnLeft=function(S){return S.centerMode?Math.floor(S.slidesToShow/2)+(parseInt(S.centerPadding)>0?1:0):0},j=he.lazySlidesOnRight=function(S){return S.centerMode?Math.floor((S.slidesToShow-1)/2)+1+(parseInt(S.centerPadding)>0?1:0):S.slidesToShow},C=he.getWidth=function(S){return S&&S.offsetWidth||0},O=he.getHeight=function(S){return S&&S.offsetHeight||0},V=he.getSwipeDirection=function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L,K,Z,oe;return L=S.startX-S.curX,K=S.startY-S.curY,Z=Math.atan2(K,L),oe=Math.round(Z*180/Math.PI),oe<0&&(oe=360-Math.abs(oe)),oe<=45&&oe>=0||oe<=360&&oe>=315?"left":oe>=135&&oe<=225?"right":P===!0?oe>=35&&oe<=135?"up":"down":"vertical"},q=he.canGoNext=function(S){var P=!0;return S.infinite||(S.centerMode&&S.currentSlide>=S.slideCount-1||S.slideCount<=S.slidesToShow||S.currentSlide>=S.slideCount-S.slidesToShow)&&(P=!1),P};he.extractObject=function(S,P){var L={};return P.forEach(function(K){return L[K]=S[K]}),L},he.initializedState=function(S){var P=t.default.Children.count(S.children),L=S.listRef,K=Math.ceil(C(L)),Z=S.trackRef&&S.trackRef.node,oe=Math.ceil(C(Z)),ie;if(S.vertical)ie=K;else{var fe=S.centerMode&&parseInt(S.centerPadding)*2;typeof S.centerPadding=="string"&&S.centerPadding.slice(-1)==="%"&&(fe*=K/100),ie=Math.ceil((K-fe)/S.slidesToShow)}var be=L&&O(L.querySelector('[data-index="0"]')),Ce=be*S.slidesToShow,_e=S.currentSlide===void 0?S.initialSlide:S.currentSlide;S.rtl&&S.currentSlide===void 0&&(_e=P-1-S.initialSlide);var Ue=S.lazyLoadedList||[],Fe=x(o(o({},S),{},{currentSlide:_e,lazyLoadedList:Ue}));Ue=Ue.concat(Fe);var Be={slideCount:P,slideWidth:ie,listWidth:K,trackWidth:oe,currentSlide:_e,slideHeight:be,listHeight:Ce,lazyLoadedList:Ue};return S.autoplaying===null&&S.autoplay&&(Be.autoplaying="playing"),Be},he.slideHandler=function(S){var P=S.waitForAnimate,L=S.animating,K=S.fade,Z=S.infinite,oe=S.index,ie=S.slideCount,fe=S.lazyLoad,be=S.currentSlide,Ce=S.centerMode,_e=S.slidesToScroll,Ue=S.slidesToShow,Fe=S.useCSS,Be=S.lazyLoadedList;if(P&&L)return{};var Me=oe,qe,mt,Ne,lt={},gt={},vt=Z?oe:p(oe,0,ie-1);if(K){if(!Z&&(oe<0||oe>=ie))return{};oe<0?Me=oe+ie:oe>=ie&&(Me=oe-ie),fe&&Be.indexOf(Me)<0&&(Be=Be.concat(Me)),lt={animating:!0,currentSlide:Me,lazyLoadedList:Be,targetSlide:Me},gt={animating:!1,targetSlide:Me}}else qe=Me,Me<0?(qe=Me+ie,Z?ie%_e!==0&&(qe=ie-ie%_e):qe=0):!q(S)&&Me>be?Me=qe=be:Ce&&Me>=ie?(Me=Z?ie:ie-1,qe=Z?0:ie-1):Me>=ie&&(qe=Me-ie,Z?ie%_e!==0&&(qe=0):qe=ie-Ue),!Z&&Me+Ue>=ie&&(qe=ie-Ue),mt=E(o(o({},S),{},{slideIndex:Me})),Ne=E(o(o({},S),{},{slideIndex:qe})),Z||(mt===Ne&&(Me=qe),mt=Ne),fe&&(Be=Be.concat(x(o(o({},S),{},{currentSlide:Me})))),Fe?(lt={animating:!0,currentSlide:qe,trackStyle:R(o(o({},S),{},{left:mt})),lazyLoadedList:Be,targetSlide:vt},gt={animating:!1,currentSlide:qe,trackStyle:I(o(o({},S),{},{left:Ne})),swipeLeft:null,targetSlide:vt}):lt={currentSlide:qe,trackStyle:I(o(o({},S),{},{left:Ne})),lazyLoadedList:Be,targetSlide:vt};return{state:lt,nextState:gt}},he.changeSlide=function(S,P){var L,K,Z,oe,ie,fe=S.slidesToScroll,be=S.slidesToShow,Ce=S.slideCount,_e=S.currentSlide,Ue=S.targetSlide,Fe=S.lazyLoad,Be=S.infinite;if(oe=Ce%fe!==0,L=oe?0:(Ce-_e)%fe,P.message==="previous")Z=L===0?fe:be-L,ie=_e-Z,Fe&&!Be&&(K=_e-Z,ie=K===-1?Ce-1:K),Be||(ie=Ue-fe);else if(P.message==="next")Z=L===0?fe:L,ie=_e+Z,Fe&&!Be&&(ie=(_e+fe)%Ce+L),Be||(ie=Ue+fe);else if(P.message==="dots")ie=P.index*P.slidesToScroll;else if(P.message==="children"){if(ie=P.index,Be){var Me=T(o(o({},S),{},{targetSlide:ie}));ie>P.currentSlide&&Me==="left"?ie=ie-Ce:ie<P.currentSlide&&Me==="right"&&(ie=ie+Ce)}}else P.message==="index"&&(ie=Number(P.index));return ie},he.keyHandler=function(S,P,L){return S.target.tagName.match("TEXTAREA|INPUT|SELECT")||!P?"":S.keyCode===37?L?"next":"previous":S.keyCode===39?L?"previous":"next":""},he.swipeStart=function(S,P,L){return S.target.tagName==="IMG"&&m(S),!P||!L&&S.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:S.touches?S.touches[0].pageX:S.clientX,startY:S.touches?S.touches[0].pageY:S.clientY,curX:S.touches?S.touches[0].pageX:S.clientX,curY:S.touches?S.touches[0].pageY:S.clientY}}},he.swipeMove=function(S,P){var L=P.scrolling,K=P.animating,Z=P.vertical,oe=P.swipeToSlide,ie=P.verticalSwiping,fe=P.rtl,be=P.currentSlide,Ce=P.edgeFriction,_e=P.edgeDragged,Ue=P.onEdge,Fe=P.swiped,Be=P.swiping,Me=P.slideCount,qe=P.slidesToScroll,mt=P.infinite,Ne=P.touchObject,lt=P.swipeEvent,gt=P.listHeight,vt=P.listWidth;if(!L){if(K)return m(S);Z&&oe&&ie&&m(S);var Dt,yr={},Ui=E(P);Ne.curX=S.touches?S.touches[0].pageX:S.clientX,Ne.curY=S.touches?S.touches[0].pageY:S.clientY,Ne.swipeLength=Math.round(Math.sqrt(Math.pow(Ne.curX-Ne.startX,2)));var Gl=Math.round(Math.sqrt(Math.pow(Ne.curY-Ne.startY,2)));if(!ie&&!Be&&Gl>10)return{scrolling:!0};ie&&(Ne.swipeLength=Gl);var Fi=(fe?-1:1)*(Ne.curX>Ne.startX?1:-1);ie&&(Fi=Ne.curY>Ne.startY?1:-1);var qi=Math.ceil(Me/qe),ct=V(P.touchObject,ie),dn=Ne.swipeLength;return mt||(be===0&&(ct==="right"||ct==="down")||be+1>=qi&&(ct==="left"||ct==="up")||!q(P)&&(ct==="left"||ct==="up"))&&(dn=Ne.swipeLength*Ce,_e===!1&&Ue&&(Ue(ct),yr.edgeDragged=!0)),!Fe&&lt&&(lt(ct),yr.swiped=!0),Z?Dt=Ui+dn*(gt/vt)*Fi:fe?Dt=Ui-dn*Fi:Dt=Ui+dn*Fi,ie&&(Dt=Ui+dn*Fi),yr=o(o({},yr),{},{touchObject:Ne,swipeLeft:Dt,trackStyle:I(o(o({},P),{},{left:Dt}))}),Math.abs(Ne.curX-Ne.startX)<Math.abs(Ne.curY-Ne.startY)*.8||Ne.swipeLength>10&&(yr.swiping=!0,m(S)),yr}},he.swipeEnd=function(S,P){var L=P.dragging,K=P.swipe,Z=P.touchObject,oe=P.listWidth,ie=P.touchThreshold,fe=P.verticalSwiping,be=P.listHeight,Ce=P.swipeToSlide,_e=P.scrolling,Ue=P.onSwipe,Fe=P.targetSlide,Be=P.currentSlide,Me=P.infinite;if(!L)return K&&m(S),{};var qe=fe?be/ie:oe/ie,mt=V(Z,fe),Ne={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(_e||!Z.swipeLength)return Ne;if(Z.swipeLength>qe){m(S),Ue&&Ue(mt);var lt,gt,vt=Me?Be:Fe;switch(mt){case"left":case"up":gt=vt+B(P),lt=Ce?z(P,gt):gt,Ne.currentDirection=0;break;case"right":case"down":gt=vt-B(P),lt=Ce?z(P,gt):gt,Ne.currentDirection=1;break;default:lt=vt}Ne.triggerSlideHandler=lt}else{var Dt=E(P);Ne.trackStyle=R(o(o({},P),{},{left:Dt}))}return Ne};var Q=he.getNavigableIndexes=function(S){for(var P=S.infinite?S.slideCount*2:S.slideCount,L=S.infinite?S.slidesToShow*-1:0,K=S.infinite?S.slidesToShow*-1:0,Z=[];L<P;)Z.push(L),L=K+S.slidesToScroll,K+=Math.min(S.slidesToScroll,S.slidesToShow);return Z},z=he.checkNavigable=function(S,P){var L=Q(S),K=0;if(P>L[L.length-1])P=L[L.length-1];else for(var Z in L){if(P<L[Z]){P=K;break}K=L[Z]}return P},B=he.getSlideCount=function(S){var P=S.centerMode?S.slideWidth*Math.floor(S.slidesToShow/2):0;if(S.swipeToSlide){var L,K=S.listRef,Z=K.querySelectorAll&&K.querySelectorAll(".slick-slide")||[];if(Array.from(Z).every(function(fe){if(S.vertical){if(fe.offsetTop+O(fe)/2>S.swipeLeft*-1)return L=fe,!1}else if(fe.offsetLeft-P+C(fe)/2>S.swipeLeft*-1)return L=fe,!1;return!0}),!L)return 0;var oe=S.rtl===!0?S.slideCount-S.currentSlide:S.currentSlide,ie=Math.abs(L.dataset.index-oe)||1;return ie}else return S.slidesToScroll},_=he.checkSpecKeys=function(S,P){return P.reduce(function(L,K){return L&&S.hasOwnProperty(K)},!0)?null:console.error("Keys Missing:",S)},I=he.getTrackCSS=function(S){_(S,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var P,L,K=S.slideCount+2*S.slidesToShow;S.vertical?L=K*S.slideHeight:P=M(S)*S.slideWidth;var Z={opacity:1,transition:"",WebkitTransition:""};if(S.useTransform){var oe=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",ie=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",fe=S.vertical?"translateY("+S.left+"px)":"translateX("+S.left+"px)";Z=o(o({},Z),{},{WebkitTransform:oe,transform:ie,msTransform:fe})}else S.vertical?Z.top=S.left:Z.left=S.left;return S.fade&&(Z={opacity:1}),P&&(Z.width=P),L&&(Z.height=L),window&&!window.addEventListener&&window.attachEvent&&(S.vertical?Z.marginTop=S.left+"px":Z.marginLeft=S.left+"px"),Z},R=he.getTrackAnimateCSS=function(S){_(S,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var P=I(S);return S.useTransform?(P.WebkitTransition="-webkit-transform "+S.speed+"ms "+S.cssEase,P.transition="transform "+S.speed+"ms "+S.cssEase):S.vertical?P.transition="top "+S.speed+"ms "+S.cssEase:P.transition="left "+S.speed+"ms "+S.cssEase,P},E=he.getTrackLeft=function(S){if(S.unslick)return 0;_(S,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var P=S.slideIndex,L=S.trackRef,K=S.infinite,Z=S.centerMode,oe=S.slideCount,ie=S.slidesToShow,fe=S.slidesToScroll,be=S.slideWidth,Ce=S.listWidth,_e=S.variableWidth,Ue=S.slideHeight,Fe=S.fade,Be=S.vertical,Me=0,qe,mt,Ne=0;if(Fe||S.slideCount===1)return 0;var lt=0;if(K?(lt=-H(S),oe%fe!==0&&P+fe>oe&&(lt=-(P>oe?ie-(P-oe):oe%fe)),Z&&(lt+=parseInt(ie/2))):(oe%fe!==0&&P+fe>oe&&(lt=ie-oe%fe),Z&&(lt=parseInt(ie/2))),Me=lt*be,Ne=lt*Ue,Be?qe=P*Ue*-1+Ne:qe=P*be*-1+Me,_e===!0){var gt,vt=L&&L.node;if(gt=P+H(S),mt=vt&&vt.childNodes[gt],qe=mt?mt.offsetLeft*-1:0,Z===!0){gt=K?P+H(S):P,mt=vt&&vt.children[gt],qe=0;for(var Dt=0;Dt<gt;Dt++)qe-=vt&&vt.children[Dt]&&vt.children[Dt].offsetWidth;qe-=parseInt(S.centerPadding),qe+=mt&&(Ce-mt.offsetWidth)/2}}return qe},H=he.getPreClones=function(S){return S.unslick||!S.infinite?0:S.variableWidth?S.slideCount:S.slidesToShow+(S.centerMode?1:0)},$=he.getPostClones=function(S){return S.unslick||!S.infinite?0:S.slideCount},M=he.getTotalSlides=function(S){return S.slideCount===1?1:H(S)+S.slideCount+$(S)},T=he.siblingDirection=function(S){return S.targetSlide>S.currentSlide?S.targetSlide>S.currentSlide+te(S)?"left":"right":S.targetSlide<S.currentSlide-U(S)?"right":"left"},te=he.slidesOnRight=function(S){var P=S.slidesToShow,L=S.centerMode,K=S.rtl,Z=S.centerPadding;if(L){var oe=(P-1)/2+1;return parseInt(Z)>0&&(oe+=1),K&&P%2===0&&(oe+=1),oe}return K?0:P-1},U=he.slidesOnLeft=function(S){var P=S.slidesToShow,L=S.centerMode,K=S.rtl,Z=S.centerPadding;if(L){var oe=(P-1)/2+1;return parseInt(Z)>0&&(oe+=1),!K&&P%2===0&&(oe+=1),oe}return K?P-1:0};he.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var N=he.validSettings=Object.keys(e.default);function le(W){return N.reduce(function(S,P){return W.hasOwnProperty(P)&&(S[P]=W[P]),S},{})}return he}var Go={},Sv;function s6(){if(Sv)return Go;Sv=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.Track=void 0;var t=r(Wn()),e=r(Gu()),n=Ll();function r(R){return R&&R.__esModule?R:{default:R}}function s(R){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(R)}function o(){return o=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var H=arguments[E];for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(R[$]=H[$])}return R},o.apply(this,arguments)}function c(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function u(R,E){for(var H=0;H<E.length;H++){var $=E[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,q($.key),$)}}function h(R,E,H){return E&&u(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&m(R,E)}function m(R,E){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,M){return $.__proto__=M,$},m(R,E)}function x(R){var E=w();return function(){var $=j(R),M;if(E){var T=j(this).constructor;M=Reflect.construct($,arguments,T)}else M=$.apply(this,arguments);return y(this,M)}}function y(R,E){if(E&&(s(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(R)}function v(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function w(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!R})()}function j(R){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},j(R)}function C(R,E){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);E&&($=$.filter(function(M){return Object.getOwnPropertyDescriptor(R,M).enumerable})),H.push.apply(H,$)}return H}function O(R){for(var E=1;E<arguments.length;E++){var H=arguments[E]!=null?arguments[E]:{};E%2?C(Object(H),!0).forEach(function($){V(R,$,H[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(H)):C(Object(H)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(H,$))})}return R}function V(R,E,H){return E=q(E),E in R?Object.defineProperty(R,E,{value:H,enumerable:!0,configurable:!0,writable:!0}):R[E]=H,R}function q(R){var E=Q(R,"string");return s(E)=="symbol"?E:String(E)}function Q(R,E){if(s(R)!="object"||!R)return R;var H=R[Symbol.toPrimitive];if(H!==void 0){var $=H.call(R,E);if(s($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var z=function(E){var H,$,M,T,te;E.rtl?te=E.slideCount-1-E.index:te=E.index,M=te<0||te>=E.slideCount,E.centerMode?(T=Math.floor(E.slidesToShow/2),$=(te-E.currentSlide)%E.slideCount===0,te>E.currentSlide-T-1&&te<=E.currentSlide+T&&(H=!0)):H=E.currentSlide<=te&&te<E.currentSlide+E.slidesToShow;var U;E.targetSlide<0?U=E.targetSlide+E.slideCount:E.targetSlide>=E.slideCount?U=E.targetSlide-E.slideCount:U=E.targetSlide;var N=te===U;return{"slick-slide":!0,"slick-active":H,"slick-center":$,"slick-cloned":M,"slick-current":N}},B=function(E){var H={};return(E.variableWidth===void 0||E.variableWidth===!1)&&(H.width=E.slideWidth),E.fade&&(H.position="relative",E.vertical?H.top=-E.index*parseInt(E.slideHeight):H.left=-E.index*parseInt(E.slideWidth),H.opacity=E.currentSlide===E.index?1:0,H.zIndex=E.currentSlide===E.index?999:998,E.useCSS&&(H.transition="opacity "+E.speed+"ms "+E.cssEase+", visibility "+E.speed+"ms "+E.cssEase)),H},_=function(E,H){return E.key||H},I=function(E){var H,$=[],M=[],T=[],te=t.default.Children.count(E.children),U=(0,n.lazyStartIndex)(E),N=(0,n.lazyEndIndex)(E);return t.default.Children.forEach(E.children,function(le,W){var S,P={message:"children",index:W,slidesToScroll:E.slidesToScroll,currentSlide:E.currentSlide};!E.lazyLoad||E.lazyLoad&&E.lazyLoadedList.indexOf(W)>=0?S=le:S=t.default.createElement("div",null);var L=B(O(O({},E),{},{index:W})),K=S.props.className||"",Z=z(O(O({},E),{},{index:W}));if($.push(t.default.cloneElement(S,{key:"original"+_(S,W),"data-index":W,className:(0,e.default)(Z,K),tabIndex:"-1","aria-hidden":!Z["slick-active"],style:O(O({outline:"none"},S.props.style||{}),L),onClick:function(fe){S.props&&S.props.onClick&&S.props.onClick(fe),E.focusOnSelect&&E.focusOnSelect(P)}})),E.infinite&&E.fade===!1){var oe=te-W;oe<=(0,n.getPreClones)(E)&&(H=-oe,H>=U&&(S=le),Z=z(O(O({},E),{},{index:H})),M.push(t.default.cloneElement(S,{key:"precloned"+_(S,H),"data-index":H,tabIndex:"-1",className:(0,e.default)(Z,K),"aria-hidden":!Z["slick-active"],style:O(O({},S.props.style||{}),L),onClick:function(fe){S.props&&S.props.onClick&&S.props.onClick(fe),E.focusOnSelect&&E.focusOnSelect(P)}}))),H=te+W,H<N&&(S=le),Z=z(O(O({},E),{},{index:H})),T.push(t.default.cloneElement(S,{key:"postcloned"+_(S,H),"data-index":H,tabIndex:"-1",className:(0,e.default)(Z,K),"aria-hidden":!Z["slick-active"],style:O(O({},S.props.style||{}),L),onClick:function(fe){S.props&&S.props.onClick&&S.props.onClick(fe),E.focusOnSelect&&E.focusOnSelect(P)}}))}}),E.rtl?M.concat($,T).reverse():M.concat($,T)};return Go.Track=function(R){p(H,R);var E=x(H);function H(){var $;c(this,H);for(var M=arguments.length,T=new Array(M),te=0;te<M;te++)T[te]=arguments[te];return $=E.call.apply(E,[this].concat(T)),V(v($),"node",null),V(v($),"handleRef",function(U){$.node=U}),$}return h(H,[{key:"render",value:function(){var M=I(this.props),T=this.props,te=T.onMouseEnter,U=T.onMouseOver,N=T.onMouseLeave,le={onMouseEnter:te,onMouseOver:U,onMouseLeave:N};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},le),M)}}]),H}(t.default.PureComponent),Go}var Qo={},jv;function a6(){if(jv)return Qo;jv=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},t(z)}Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.Dots=void 0;var e=s(Wn()),n=s(Gu()),r=Ll();function s(z){return z&&z.__esModule?z:{default:z}}function o(z,B){var _=Object.keys(z);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(z);B&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(z,R).enumerable})),_.push.apply(_,I)}return _}function c(z){for(var B=1;B<arguments.length;B++){var _=arguments[B]!=null?arguments[B]:{};B%2?o(Object(_),!0).forEach(function(I){u(z,I,_[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(_)):o(Object(_)).forEach(function(I){Object.defineProperty(z,I,Object.getOwnPropertyDescriptor(_,I))})}return z}function u(z,B,_){return B=x(B),B in z?Object.defineProperty(z,B,{value:_,enumerable:!0,configurable:!0,writable:!0}):z[B]=_,z}function h(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")}function p(z,B){for(var _=0;_<B.length;_++){var I=B[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(z,x(I.key),I)}}function m(z,B,_){return B&&p(z.prototype,B),Object.defineProperty(z,"prototype",{writable:!1}),z}function x(z){var B=y(z,"string");return t(B)=="symbol"?B:String(B)}function y(z,B){if(t(z)!="object"||!z)return z;var _=z[Symbol.toPrimitive];if(_!==void 0){var I=_.call(z,B);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function v(z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(B&&B.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),B&&w(z,B)}function w(z,B){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},w(z,B)}function j(z){var B=V();return function(){var I=q(z),R;if(B){var E=q(this).constructor;R=Reflect.construct(I,arguments,E)}else R=I.apply(this,arguments);return C(this,R)}}function C(z,B){if(B&&(t(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(z)}function O(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function V(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!z})()}function q(z){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},q(z)}var Q=function(B){var _;return B.infinite?_=Math.ceil(B.slideCount/B.slidesToScroll):_=Math.ceil((B.slideCount-B.slidesToShow)/B.slidesToScroll)+1,_};return Qo.Dots=function(z){v(_,z);var B=j(_);function _(){return h(this,_),B.apply(this,arguments)}return m(_,[{key:"clickHandler",value:function(R,E){E.preventDefault(),this.props.clickHandler(R)}},{key:"render",value:function(){for(var R=this.props,E=R.onMouseEnter,H=R.onMouseOver,$=R.onMouseLeave,M=R.infinite,T=R.slidesToScroll,te=R.slidesToShow,U=R.slideCount,N=R.currentSlide,le=Q({slideCount:U,slidesToScroll:T,slidesToShow:te,infinite:M}),W={onMouseEnter:E,onMouseOver:H,onMouseLeave:$},S=[],P=0;P<le;P++){var L=(P+1)*T-1,K=M?L:(0,r.clamp)(L,0,U-1),Z=K-(T-1),oe=M?Z:(0,r.clamp)(Z,0,U-1),ie=(0,n.default)({"slick-active":M?N>=oe&&N<=K:N===oe}),fe={message:"dots",index:P,slidesToScroll:T,currentSlide:N},be=this.clickHandler.bind(this,fe);S=S.concat(e.default.createElement("li",{key:P,className:ie},e.default.cloneElement(this.props.customPaging(P),{onClick:be})))}return e.default.cloneElement(this.props.appendDots(S),c({className:this.props.dotsClass},W))}}]),_}(e.default.PureComponent),Qo}var cs={},Nv;function o6(){if(Nv)return cs;Nv=1;function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},t(z)}Object.defineProperty(cs,"__esModule",{value:!0}),cs.PrevArrow=cs.NextArrow=void 0;var e=s(Wn()),n=s(Gu()),r=Ll();function s(z){return z&&z.__esModule?z:{default:z}}function o(){return o=Object.assign?Object.assign.bind():function(z){for(var B=1;B<arguments.length;B++){var _=arguments[B];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(z[I]=_[I])}return z},o.apply(this,arguments)}function c(z,B){var _=Object.keys(z);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(z);B&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(z,R).enumerable})),_.push.apply(_,I)}return _}function u(z){for(var B=1;B<arguments.length;B++){var _=arguments[B]!=null?arguments[B]:{};B%2?c(Object(_),!0).forEach(function(I){h(z,I,_[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(_)):c(Object(_)).forEach(function(I){Object.defineProperty(z,I,Object.getOwnPropertyDescriptor(_,I))})}return z}function h(z,B,_){return B=y(B),B in z?Object.defineProperty(z,B,{value:_,enumerable:!0,configurable:!0,writable:!0}):z[B]=_,z}function p(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")}function m(z,B){for(var _=0;_<B.length;_++){var I=B[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(z,y(I.key),I)}}function x(z,B,_){return B&&m(z.prototype,B),Object.defineProperty(z,"prototype",{writable:!1}),z}function y(z){var B=v(z,"string");return t(B)=="symbol"?B:String(B)}function v(z,B){if(t(z)!="object"||!z)return z;var _=z[Symbol.toPrimitive];if(_!==void 0){var I=_.call(z,B);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function w(z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(B&&B.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),B&&j(z,B)}function j(z,B){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},j(z,B)}function C(z){var B=q();return function(){var I=Q(z),R;if(B){var E=Q(this).constructor;R=Reflect.construct(I,arguments,E)}else R=I.apply(this,arguments);return O(this,R)}}function O(z,B){if(B&&(t(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(z)}function V(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function q(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!z})()}function Q(z){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},Q(z)}return cs.PrevArrow=function(z){w(_,z);var B=C(_);function _(){return p(this,_),B.apply(this,arguments)}return x(_,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-prev":!0},E=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(R["slick-disabled"]=!0,E=null);var H={key:"0","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},M;return this.props.prevArrow?M=e.default.cloneElement(this.props.prevArrow,u(u({},H),$)):M=e.default.createElement("button",o({key:"0",type:"button"},H)," ","Previous"),M}}]),_}(e.default.PureComponent),cs.NextArrow=function(z){w(_,z);var B=C(_);function _(){return p(this,_),B.apply(this,arguments)}return x(_,[{key:"clickHandler",value:function(R,E){E&&E.preventDefault(),this.props.clickHandler(R,E)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-next":!0},E=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(R["slick-disabled"]=!0,E=null);var H={key:"1","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:E},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},M;return this.props.nextArrow?M=e.default.cloneElement(this.props.nextArrow,u(u({},H),$)):M=e.default.createElement("button",o({key:"1",type:"button"},H)," ","Next"),M}}]),_}(e.default.PureComponent),cs}var vS=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var c=o[s];n.call(r,c[1],c[0])}},e}()}(),ng=typeof window<"u"&&typeof document<"u"&&window.document===document,Kd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),l6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Kd):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),c6=2;function d6(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&u()}function c(){l6(o)}function u(){var h=Date.now();if(n){if(h-s<c6)return;r=!0}else n=!0,r=!1,setTimeout(c,e);s=h}return u}var u6=20,f6=["top","right","bottom","left","width","height","size","weight"],h6=typeof MutationObserver<"u",p6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=d6(this.refresh.bind(this),u6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ng||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ng||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=f6.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),wS=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},Aa=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Kd},SS=Qu(0,0,0,0);function Gd(t){return parseFloat(t)||0}function kv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+Gd(o)},0)}function m6(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],c=t["padding-"+o];n[o]=Gd(c)}return n}function g6(t){var e=t.getBBox();return Qu(0,0,e.width,e.height)}function x6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return SS;var r=Aa(t).getComputedStyle(t),s=m6(r),o=s.left+s.right,c=s.top+s.bottom,u=Gd(r.width),h=Gd(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+o)!==e&&(u-=kv(r,"left","right")+o),Math.round(h+c)!==n&&(h-=kv(r,"top","bottom")+c)),!y6(t)){var p=Math.round(u+o)-e,m=Math.round(h+c)-n;Math.abs(p)!==1&&(u-=p),Math.abs(m)!==1&&(h-=m)}return Qu(s.left,s.top,u,h)}var b6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Aa(t).SVGGraphicsElement}:function(t){return t instanceof Aa(t).SVGElement&&typeof t.getBBox=="function"}}();function y6(t){return t===Aa(t).document.documentElement}function v6(t){return ng?b6(t)?g6(t):x6(t):SS}function w6(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(o.prototype);return wS(c,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),c}function Qu(t,e,n,r){return{x:t,y:e,width:n,height:r}}var S6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qu(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=v6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),j6=function(){function t(e,n){var r=w6(n);wS(this,{target:e,contentRect:r})}return t}(),N6=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new vS,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Aa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new S6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Aa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new j6(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),jS=typeof WeakMap<"u"?new WeakMap:new vS,NS=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=p6.getInstance(),r=new N6(e,n,this);jS.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){NS.prototype[t]=function(){var e;return(e=jS.get(this))[t].apply(e,arguments)}});var k6=function(){return typeof Kd.ResizeObserver<"u"?Kd.ResizeObserver:NS}();const E6=Object.freeze(Object.defineProperty({__proto__:null,default:k6},Symbol.toStringTag,{value:"Module"})),C6=X4(E6);var Ev;function T6(){if(Ev)return Ko;Ev=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.InnerSlider=void 0;var t=p(Wn()),e=p(r6()),n=p(i6()),r=p(Gu()),s=Ll(),o=s6(),c=a6(),u=o6(),h=p(C6);function p(M){return M&&M.__esModule?M:{default:M}}function m(M){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},m(M)}function x(){return x=Object.assign?Object.assign.bind():function(M){for(var T=1;T<arguments.length;T++){var te=arguments[T];for(var U in te)Object.prototype.hasOwnProperty.call(te,U)&&(M[U]=te[U])}return M},x.apply(this,arguments)}function y(M,T){if(M==null)return{};var te=v(M,T),U,N;if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(M);for(N=0;N<le.length;N++)U=le[N],!(T.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(M,U)&&(te[U]=M[U])}return te}function v(M,T){if(M==null)return{};var te={},U=Object.keys(M),N,le;for(le=0;le<U.length;le++)N=U[le],!(T.indexOf(N)>=0)&&(te[N]=M[N]);return te}function w(M,T){var te=Object.keys(M);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(M);T&&(U=U.filter(function(N){return Object.getOwnPropertyDescriptor(M,N).enumerable})),te.push.apply(te,U)}return te}function j(M){for(var T=1;T<arguments.length;T++){var te=arguments[T]!=null?arguments[T]:{};T%2?w(Object(te),!0).forEach(function(U){E(M,U,te[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(te)):w(Object(te)).forEach(function(U){Object.defineProperty(M,U,Object.getOwnPropertyDescriptor(te,U))})}return M}function C(M,T){if(!(M instanceof T))throw new TypeError("Cannot call a class as a function")}function O(M,T){for(var te=0;te<T.length;te++){var U=T[te];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(M,H(U.key),U)}}function V(M,T,te){return T&&O(M.prototype,T),Object.defineProperty(M,"prototype",{writable:!1}),M}function q(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(T&&T.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),T&&Q(M,T)}function Q(M,T){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,N){return U.__proto__=N,U},Q(M,T)}function z(M){var T=I();return function(){var U=R(M),N;if(T){var le=R(this).constructor;N=Reflect.construct(U,arguments,le)}else N=U.apply(this,arguments);return B(this,N)}}function B(M,T){if(T&&(m(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(M)}function _(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function I(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!M})()}function R(M){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},R(M)}function E(M,T,te){return T=H(T),T in M?Object.defineProperty(M,T,{value:te,enumerable:!0,configurable:!0,writable:!0}):M[T]=te,M}function H(M){var T=$(M,"string");return m(T)=="symbol"?T:String(T)}function $(M,T){if(m(M)!="object"||!M)return M;var te=M[Symbol.toPrimitive];if(te!==void 0){var U=te.call(M,T);if(m(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(M)}return Ko.InnerSlider=function(M){q(te,M);var T=z(te);function te(U){var N;C(this,te),N=T.call(this,U),E(_(N),"listRefHandler",function(W){return N.list=W}),E(_(N),"trackRefHandler",function(W){return N.track=W}),E(_(N),"adaptHeight",function(){if(N.props.adaptiveHeight&&N.list){var W=N.list.querySelector('[data-index="'.concat(N.state.currentSlide,'"]'));N.list.style.height=(0,s.getHeight)(W)+"px"}}),E(_(N),"componentDidMount",function(){if(N.props.onInit&&N.props.onInit(),N.props.lazyLoad){var W=(0,s.getOnDemandLazySlides)(j(j({},N.props),N.state));W.length>0&&(N.setState(function(P){return{lazyLoadedList:P.lazyLoadedList.concat(W)}}),N.props.onLazyLoad&&N.props.onLazyLoad(W))}var S=j({listRef:N.list,trackRef:N.track},N.props);N.updateState(S,!0,function(){N.adaptHeight(),N.props.autoplay&&N.autoPlay("update")}),N.props.lazyLoad==="progressive"&&(N.lazyLoadTimer=setInterval(N.progressiveLazyLoad,1e3)),N.ro=new h.default(function(){N.state.animating?(N.onWindowResized(!1),N.callbackTimers.push(setTimeout(function(){return N.onWindowResized()},N.props.speed))):N.onWindowResized()}),N.ro.observe(N.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(P){P.onfocus=N.props.pauseOnFocus?N.onSlideFocus:null,P.onblur=N.props.pauseOnFocus?N.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",N.onWindowResized):window.attachEvent("onresize",N.onWindowResized)}),E(_(N),"componentWillUnmount",function(){N.animationEndCallback&&clearTimeout(N.animationEndCallback),N.lazyLoadTimer&&clearInterval(N.lazyLoadTimer),N.callbackTimers.length&&(N.callbackTimers.forEach(function(W){return clearTimeout(W)}),N.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",N.onWindowResized):window.detachEvent("onresize",N.onWindowResized),N.autoplayTimer&&clearInterval(N.autoplayTimer),N.ro.disconnect()}),E(_(N),"componentDidUpdate",function(W){if(N.checkImagesLoad(),N.props.onReInit&&N.props.onReInit(),N.props.lazyLoad){var S=(0,s.getOnDemandLazySlides)(j(j({},N.props),N.state));S.length>0&&(N.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(S)}}),N.props.onLazyLoad&&N.props.onLazyLoad(S))}N.adaptHeight();var P=j(j({listRef:N.list,trackRef:N.track},N.props),N.state),L=N.didPropsChange(W);L&&N.updateState(P,L,function(){N.state.currentSlide>=t.default.Children.count(N.props.children)&&N.changeSlide({message:"index",index:t.default.Children.count(N.props.children)-N.props.slidesToShow,currentSlide:N.state.currentSlide}),N.props.autoplay?N.autoPlay("update"):N.pause("paused")})}),E(_(N),"onWindowResized",function(W){N.debouncedResize&&N.debouncedResize.cancel(),N.debouncedResize=(0,n.default)(function(){return N.resizeWindow(W)},50),N.debouncedResize()}),E(_(N),"resizeWindow",function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=!!(N.track&&N.track.node);if(S){var P=j(j({listRef:N.list,trackRef:N.track},N.props),N.state);N.updateState(P,W,function(){N.props.autoplay?N.autoPlay("update"):N.pause("paused")}),N.setState({animating:!1}),clearTimeout(N.animationEndCallback),delete N.animationEndCallback}}),E(_(N),"updateState",function(W,S,P){var L=(0,s.initializedState)(W);W=j(j(j({},W),L),{},{slideIndex:L.currentSlide});var K=(0,s.getTrackLeft)(W);W=j(j({},W),{},{left:K});var Z=(0,s.getTrackCSS)(W);(S||t.default.Children.count(N.props.children)!==t.default.Children.count(W.children))&&(L.trackStyle=Z),N.setState(L,P)}),E(_(N),"ssrInit",function(){if(N.props.variableWidth){var W=0,S=0,P=[],L=(0,s.getPreClones)(j(j(j({},N.props),N.state),{},{slideCount:N.props.children.length})),K=(0,s.getPostClones)(j(j(j({},N.props),N.state),{},{slideCount:N.props.children.length}));N.props.children.forEach(function(mt){P.push(mt.props.style.width),W+=mt.props.style.width});for(var Z=0;Z<L;Z++)S+=P[P.length-1-Z],W+=P[P.length-1-Z];for(var oe=0;oe<K;oe++)W+=P[oe];for(var ie=0;ie<N.state.currentSlide;ie++)S+=P[ie];var fe={width:W+"px",left:-S+"px"};if(N.props.centerMode){var be="".concat(P[N.state.currentSlide],"px");fe.left="calc(".concat(fe.left," + (100% - ").concat(be,") / 2 ) ")}return{trackStyle:fe}}var Ce=t.default.Children.count(N.props.children),_e=j(j(j({},N.props),N.state),{},{slideCount:Ce}),Ue=(0,s.getPreClones)(_e)+(0,s.getPostClones)(_e)+Ce,Fe=100/N.props.slidesToShow*Ue,Be=100/Ue,Me=-Be*((0,s.getPreClones)(_e)+N.state.currentSlide)*Fe/100;N.props.centerMode&&(Me+=(100-Be*Fe/100)/2);var qe={width:Fe+"%",left:Me+"%"};return{slideWidth:Be+"%",trackStyle:qe}}),E(_(N),"checkImagesLoad",function(){var W=N.list&&N.list.querySelectorAll&&N.list.querySelectorAll(".slick-slide img")||[],S=W.length,P=0;Array.prototype.forEach.call(W,function(L){var K=function(){return++P&&P>=S&&N.onWindowResized()};if(!L.onclick)L.onclick=function(){return L.parentNode.focus()};else{var Z=L.onclick;L.onclick=function(oe){Z(oe),L.parentNode.focus()}}L.onload||(N.props.lazyLoad?L.onload=function(){N.adaptHeight(),N.callbackTimers.push(setTimeout(N.onWindowResized,N.props.speed))}:(L.onload=K,L.onerror=function(){K(),N.props.onLazyLoadError&&N.props.onLazyLoadError()}))})}),E(_(N),"progressiveLazyLoad",function(){for(var W=[],S=j(j({},N.props),N.state),P=N.state.currentSlide;P<N.state.slideCount+(0,s.getPostClones)(S);P++)if(N.state.lazyLoadedList.indexOf(P)<0){W.push(P);break}for(var L=N.state.currentSlide-1;L>=-(0,s.getPreClones)(S);L--)if(N.state.lazyLoadedList.indexOf(L)<0){W.push(L);break}W.length>0?(N.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(W)}}),N.props.onLazyLoad&&N.props.onLazyLoad(W)):N.lazyLoadTimer&&(clearInterval(N.lazyLoadTimer),delete N.lazyLoadTimer)}),E(_(N),"slideHandler",function(W){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=N.props,L=P.asNavFor,K=P.beforeChange,Z=P.onLazyLoad,oe=P.speed,ie=P.afterChange,fe=N.state.currentSlide,be=(0,s.slideHandler)(j(j(j({index:W},N.props),N.state),{},{trackRef:N.track,useCSS:N.props.useCSS&&!S})),Ce=be.state,_e=be.nextState;if(Ce){K&&K(fe,Ce.currentSlide);var Ue=Ce.lazyLoadedList.filter(function(Fe){return N.state.lazyLoadedList.indexOf(Fe)<0});Z&&Ue.length>0&&Z(Ue),!N.props.waitForAnimate&&N.animationEndCallback&&(clearTimeout(N.animationEndCallback),ie&&ie(fe),delete N.animationEndCallback),N.setState(Ce,function(){L&&N.asNavForIndex!==W&&(N.asNavForIndex=W,L.innerSlider.slideHandler(W)),_e&&(N.animationEndCallback=setTimeout(function(){var Fe=_e.animating,Be=y(_e,["animating"]);N.setState(Be,function(){N.callbackTimers.push(setTimeout(function(){return N.setState({animating:Fe})},10)),ie&&ie(Ce.currentSlide),delete N.animationEndCallback})},oe))})}}),E(_(N),"changeSlide",function(W){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=j(j({},N.props),N.state),L=(0,s.changeSlide)(P,W);if(!(L!==0&&!L)&&(S===!0?N.slideHandler(L,S):N.slideHandler(L),N.props.autoplay&&N.autoPlay("update"),N.props.focusOnSelect)){var K=N.list.querySelectorAll(".slick-current");K[0]&&K[0].focus()}}),E(_(N),"clickHandler",function(W){N.clickable===!1&&(W.stopPropagation(),W.preventDefault()),N.clickable=!0}),E(_(N),"keyHandler",function(W){var S=(0,s.keyHandler)(W,N.props.accessibility,N.props.rtl);S!==""&&N.changeSlide({message:S})}),E(_(N),"selectHandler",function(W){N.changeSlide(W)}),E(_(N),"disableBodyScroll",function(){var W=function(P){P=P||window.event,P.preventDefault&&P.preventDefault(),P.returnValue=!1};window.ontouchmove=W}),E(_(N),"enableBodyScroll",function(){window.ontouchmove=null}),E(_(N),"swipeStart",function(W){N.props.verticalSwiping&&N.disableBodyScroll();var S=(0,s.swipeStart)(W,N.props.swipe,N.props.draggable);S!==""&&N.setState(S)}),E(_(N),"swipeMove",function(W){var S=(0,s.swipeMove)(W,j(j(j({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));S&&(S.swiping&&(N.clickable=!1),N.setState(S))}),E(_(N),"swipeEnd",function(W){var S=(0,s.swipeEnd)(W,j(j(j({},N.props),N.state),{},{trackRef:N.track,listRef:N.list,slideIndex:N.state.currentSlide}));if(S){var P=S.triggerSlideHandler;delete S.triggerSlideHandler,N.setState(S),P!==void 0&&(N.slideHandler(P),N.props.verticalSwiping&&N.enableBodyScroll())}}),E(_(N),"touchEnd",function(W){N.swipeEnd(W),N.clickable=!0}),E(_(N),"slickPrev",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"previous"})},0))}),E(_(N),"slickNext",function(){N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"next"})},0))}),E(_(N),"slickGoTo",function(W){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W=Number(W),isNaN(W))return"";N.callbackTimers.push(setTimeout(function(){return N.changeSlide({message:"index",index:W,currentSlide:N.state.currentSlide},S)},0))}),E(_(N),"play",function(){var W;if(N.props.rtl)W=N.state.currentSlide-N.props.slidesToScroll;else if((0,s.canGoNext)(j(j({},N.props),N.state)))W=N.state.currentSlide+N.props.slidesToScroll;else return!1;N.slideHandler(W)}),E(_(N),"autoPlay",function(W){N.autoplayTimer&&clearInterval(N.autoplayTimer);var S=N.state.autoplaying;if(W==="update"){if(S==="hovered"||S==="focused"||S==="paused")return}else if(W==="leave"){if(S==="paused"||S==="focused")return}else if(W==="blur"&&(S==="paused"||S==="hovered"))return;N.autoplayTimer=setInterval(N.play,N.props.autoplaySpeed+50),N.setState({autoplaying:"playing"})}),E(_(N),"pause",function(W){N.autoplayTimer&&(clearInterval(N.autoplayTimer),N.autoplayTimer=null);var S=N.state.autoplaying;W==="paused"?N.setState({autoplaying:"paused"}):W==="focused"?(S==="hovered"||S==="playing")&&N.setState({autoplaying:"focused"}):S==="playing"&&N.setState({autoplaying:"hovered"})}),E(_(N),"onDotsOver",function(){return N.props.autoplay&&N.pause("hovered")}),E(_(N),"onDotsLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),E(_(N),"onTrackOver",function(){return N.props.autoplay&&N.pause("hovered")}),E(_(N),"onTrackLeave",function(){return N.props.autoplay&&N.state.autoplaying==="hovered"&&N.autoPlay("leave")}),E(_(N),"onSlideFocus",function(){return N.props.autoplay&&N.pause("focused")}),E(_(N),"onSlideBlur",function(){return N.props.autoplay&&N.state.autoplaying==="focused"&&N.autoPlay("blur")}),E(_(N),"render",function(){var W=(0,r.default)("slick-slider",N.props.className,{"slick-vertical":N.props.vertical,"slick-initialized":!0}),S=j(j({},N.props),N.state),P=(0,s.extractObject)(S,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),L=N.props.pauseOnHover;P=j(j({},P),{},{onMouseEnter:L?N.onTrackOver:null,onMouseLeave:L?N.onTrackLeave:null,onMouseOver:L?N.onTrackOver:null,focusOnSelect:N.props.focusOnSelect&&N.clickable?N.selectHandler:null});var K;if(N.props.dots===!0&&N.state.slideCount>=N.props.slidesToShow){var Z=(0,s.extractObject)(S,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),oe=N.props.pauseOnDotsHover;Z=j(j({},Z),{},{clickHandler:N.changeSlide,onMouseEnter:oe?N.onDotsLeave:null,onMouseOver:oe?N.onDotsOver:null,onMouseLeave:oe?N.onDotsLeave:null}),K=t.default.createElement(c.Dots,Z)}var ie,fe,be=(0,s.extractObject)(S,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);be.clickHandler=N.changeSlide,N.props.arrows&&(ie=t.default.createElement(u.PrevArrow,be),fe=t.default.createElement(u.NextArrow,be));var Ce=null;N.props.vertical&&(Ce={height:N.state.listHeight});var _e=null;N.props.vertical===!1?N.props.centerMode===!0&&(_e={padding:"0px "+N.props.centerPadding}):N.props.centerMode===!0&&(_e={padding:N.props.centerPadding+" 0px"});var Ue=j(j({},Ce),_e),Fe=N.props.touchMove,Be={className:"slick-list",style:Ue,onClick:N.clickHandler,onMouseDown:Fe?N.swipeStart:null,onMouseMove:N.state.dragging&&Fe?N.swipeMove:null,onMouseUp:Fe?N.swipeEnd:null,onMouseLeave:N.state.dragging&&Fe?N.swipeEnd:null,onTouchStart:Fe?N.swipeStart:null,onTouchMove:N.state.dragging&&Fe?N.swipeMove:null,onTouchEnd:Fe?N.touchEnd:null,onTouchCancel:N.state.dragging&&Fe?N.swipeEnd:null,onKeyDown:N.props.accessibility?N.keyHandler:null},Me={className:W,dir:"ltr",style:N.props.style};return N.props.unslick&&(Be={className:"slick-list"},Me={className:W}),t.default.createElement("div",Me,N.props.unslick?"":ie,t.default.createElement("div",x({ref:N.listRefHandler},Be),t.default.createElement(o.Track,x({ref:N.trackRefHandler},P),N.props.children)),N.props.unslick?"":fe,N.props.unslick?"":K)}),N.list=null,N.track=null,N.state=j(j({},e.default),{},{currentSlide:N.props.initialSlide,targetSlide:N.props.initialSlide?N.props.initialSlide:0,slideCount:t.default.Children.count(N.props.children)}),N.callbackTimers=[],N.clickable=!0,N.debouncedResize=null;var le=N.ssrInit();return N.state=j(j({},N.state),le),N}return V(te,[{key:"didPropsChange",value:function(N){for(var le=!1,W=0,S=Object.keys(this.props);W<S.length;W++){var P=S[W];if(!N.hasOwnProperty(P)){le=!0;break}if(!(m(N[P])==="object"||typeof N[P]=="function"||isNaN(N[P]))&&N[P]!==this.props[P]){le=!0;break}}return le||t.default.Children.count(this.props.children)!==t.default.Children.count(N.children)}}]),te}(t.default.Component),Ko}var tm,Cv;function O6(){if(Cv)return tm;Cv=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return tm=t,tm}var nm,Tv;function A6(){if(Tv)return nm;Tv=1;var t=O6(),e=function(s){var o=/[height|width]$/;return o.test(s)},n=function(s){var o="",c=Object.keys(s);return c.forEach(function(u,h){var p=s[u];u=t(u),e(u)&&typeof p=="number"&&(p=p+"px"),p===!0?o+=u:p===!1?o+="not "+u:o+="("+u+": "+p+")",h<c.length-1&&(o+=" and ")}),o},r=function(s){var o="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(c,u){o+=n(c),u<s.length-1&&(o+=", ")}),o):n(s)};return nm=r,nm}var rm,Ov;function M6(){if(Ov)return rm;Ov=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},rm=t,rm}var im,Av;function kS(){if(Av)return im;Av=1;function t(r,s){var o=0,c=r.length,u;for(o;o<c&&(u=s(r[o],o),u!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return im={isFunction:n,isArray:e,each:t},im}var sm,Mv;function R6(){if(Mv)return sm;Mv=1;var t=M6(),e=kS().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(c){o.mql=c.currentTarget||c,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,c){if(o.equals(r))return o.destroy(),!s.splice(c,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},sm=n,sm}var am,Rv;function D6(){if(Rv)return am;Rv=1;var t=R6(),e=kS(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(c,u,h){var p=this.queries,m=h&&this.browserIsIncapable;return p[c]||(p[c]=new t(c,m)),r(u)&&(u={match:u}),s(u)||(u=[u]),n(u,function(x){r(x)&&(x={match:x}),p[c].addHandler(x)}),this},unregister:function(c,u){var h=this.queries[c];return h&&(u?h.removeHandler(u):(h.clear(),delete this.queries[c])),this}},am=o,am}var om,Dv;function _6(){if(Dv)return om;Dv=1;var t=D6();return om=new t,om}var _v;function z6(){return _v||(_v=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=c(Wn()),n=T6(),r=c(A6()),s=c(yS()),o=Ll();function c(R){return R&&R.__esModule?R:{default:R}}function u(R){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(R)}function h(){return h=Object.assign?Object.assign.bind():function(R){for(var E=1;E<arguments.length;E++){var H=arguments[E];for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(R[$]=H[$])}return R},h.apply(this,arguments)}function p(R,E){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);E&&($=$.filter(function(M){return Object.getOwnPropertyDescriptor(R,M).enumerable})),H.push.apply(H,$)}return H}function m(R){for(var E=1;E<arguments.length;E++){var H=arguments[E]!=null?arguments[E]:{};E%2?p(Object(H),!0).forEach(function($){z(R,$,H[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(H)):p(Object(H)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(H,$))})}return R}function x(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function y(R,E){for(var H=0;H<E.length;H++){var $=E[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,B($.key),$)}}function v(R,E,H){return E&&y(R.prototype,E),Object.defineProperty(R,"prototype",{writable:!1}),R}function w(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&j(R,E)}function j(R,E){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,M){return $.__proto__=M,$},j(R,E)}function C(R){var E=q();return function(){var $=Q(R),M;if(E){var T=Q(this).constructor;M=Reflect.construct($,arguments,T)}else M=$.apply(this,arguments);return O(this,M)}}function O(R,E){if(E&&(u(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(R)}function V(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function q(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!R})()}function Q(R){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Q(R)}function z(R,E,H){return E=B(E),E in R?Object.defineProperty(R,E,{value:H,enumerable:!0,configurable:!0,writable:!0}):R[E]=H,R}function B(R){var E=_(R,"string");return u(E)=="symbol"?E:String(E)}function _(R,E){if(u(R)!="object"||!R)return R;var H=R[Symbol.toPrimitive];if(H!==void 0){var $=H.call(R,E);if(u($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(R)}var I=(0,o.canUseDOM)()&&_6();t.default=function(R){w(H,R);var E=C(H);function H($){var M;return x(this,H),M=E.call(this,$),z(V(M),"innerSliderRefHandler",function(T){return M.innerSlider=T}),z(V(M),"slickPrev",function(){return M.innerSlider.slickPrev()}),z(V(M),"slickNext",function(){return M.innerSlider.slickNext()}),z(V(M),"slickGoTo",function(T){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return M.innerSlider.slickGoTo(T,te)}),z(V(M),"slickPause",function(){return M.innerSlider.pause("paused")}),z(V(M),"slickPlay",function(){return M.innerSlider.autoPlay("play")}),M.state={breakpoint:null},M._responsiveMediaHandlers=[],M}return v(H,[{key:"media",value:function(M,T){I.register(M,T),this._responsiveMediaHandlers.push({query:M,handler:T})}},{key:"componentDidMount",value:function(){var M=this;if(this.props.responsive){var T=this.props.responsive.map(function(U){return U.breakpoint});T.sort(function(U,N){return U-N}),T.forEach(function(U,N){var le;N===0?le=(0,r.default)({minWidth:0,maxWidth:U}):le=(0,r.default)({minWidth:T[N-1]+1,maxWidth:U}),(0,o.canUseDOM)()&&M.media(le,function(){M.setState({breakpoint:U})})});var te=(0,r.default)({minWidth:T.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(te,function(){M.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(M){I.unregister(M.query,M.handler)})}},{key:"render",value:function(){var M=this,T,te;this.state.breakpoint?(te=this.props.responsive.filter(function(oe){return oe.breakpoint===M.state.breakpoint}),T=te[0].settings==="unslick"?"unslick":m(m(m({},s.default),this.props),te[0].settings)):T=m(m({},s.default),this.props),T.centerMode&&(T.slidesToScroll>1,T.slidesToScroll=1),T.fade&&(T.slidesToShow>1,T.slidesToScroll>1,T.slidesToShow=1,T.slidesToScroll=1);var U=e.default.Children.toArray(this.props.children);U=U.filter(function(oe){return typeof oe=="string"?!!oe.trim():!!oe}),T.variableWidth&&(T.rows>1||T.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),T.variableWidth=!1);for(var N=[],le=null,W=0;W<U.length;W+=T.rows*T.slidesPerRow){for(var S=[],P=W;P<W+T.rows*T.slidesPerRow;P+=T.slidesPerRow){for(var L=[],K=P;K<P+T.slidesPerRow&&(T.variableWidth&&U[K].props.style&&(le=U[K].props.style.width),!(K>=U.length));K+=1)L.push(e.default.cloneElement(U[K],{key:100*W+10*P+K,tabIndex:-1,style:{width:"".concat(100/T.slidesPerRow,"%"),display:"inline-block"}}));S.push(e.default.createElement("div",{key:10*W+P},L))}T.variableWidth?N.push(e.default.createElement("div",{key:W,style:{width:le}},S)):N.push(e.default.createElement("div",{key:W},S))}if(T==="unslick"){var Z="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Z},U)}else N.length<=T.slidesToShow&&!T.infinite&&(T.unslick=!0);return e.default.createElement(n.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(T)),N)}}]),H}(e.default.Component)}(Qp)),Qp}var zv;function L6(){return zv||(zv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(z6());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(Gp)),Gp}var P6=L6();const Jo=qu(P6);function B6(){const[t,e]=A.useState(18),[n,r]=A.useState(""),[s,o]=A.useState("");var c={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500},u={dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:900,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:2}}]};const[h,p]=A.useState([]),[m,x]=A.useState(""),[y,v]=A.useState(!1),[w,j]=A.useState(!1),[C,O]=A.useState(!1),[V,q]=A.useState(""),Q=T=>{T.preventDefault(),j(!0)},z=T=>{if(T.preventDefault(),!m.trim()){q("Type product first"),O(!0);return}h.some(U=>U.name?.toLowerCase()===m.trim().toLowerCase())||(q("This product is not found in your region."),O(!0)),v(!0)},B=()=>j(!1),_=()=>{O(!1),q("")},I=Rt();A.useEffect(()=>{fetch("https://backvolverine.vercel.app/api/products",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"}).then(te=>{if(!te.ok)throw console.error("API Error:",te.status),new Error(`Failed to fetch: ${te.status}`);return te.json()}).then(te=>p(te)).catch(te=>{console.error("Fetch error:",te),p([])})},[]);const R=JSON.parse(localStorage.getItem("alfauser")),E=R?.token,H=()=>{localStorage.removeItem("alfauser"),I("/login")},$=h;let M;if($.length===0)M=[];else if($.length<20){const T=Math.ceil(20/$.length);M=Array.from({length:T},()=>[...$]).flat().sort(()=>Math.random()-.5).slice(0,20)}else M=[...$].sort(()=>Math.random()-.5);return a.jsxs("div",{className:"main-landing-page",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f8fafc 60%, #a7f3d0 100%)",minHeight:"100vh",padding:0,margin:0},children:[a.jsxs("div",{className:"navbar-container",children:[a.jsxs("div",{className:"logo",children:[a.jsx("img",{src:KT,alt:"E-Commerce Logo"}),a.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"bold"},children:"Wolverine House"})]}),E?a.jsxs("div",{className:"links",children:[a.jsxs(yt,{className:"button",to:R?.role==="admin"?"/admin":"/seller",title:"Dashboard",children:[a.jsx("span",{role:"img","aria-label":"dashboard",children:a.jsx(GT,{})})," ","Dashboard"]}),a.jsxs("button",{className:"button",onClick:H,title:"Logout",children:[a.jsx(Xg,{})," Logout"]})]}):a.jsxs("div",{className:"links",children:[a.jsxs(yt,{className:"button",to:"/login",children:[" ",a.jsx(dv,{})," Login"]}),a.jsxs(yt,{className:"button",to:"/signup",children:[" ",a.jsx(dv,{})," Register"]})]})]}),a.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(90deg, #f8fafc 60%, #f0f4fa 100%)",padding:"8px 0 8px 0",boxShadow:"0 2px 12px rgba(30,41,59,0.04)"},children:a.jsxs("form",{style:{display:"flex",width:"100%",maxWidth:480,background:"linear-gradient(90deg, #fff 60%, #f8fafc 100%)",borderRadius:18,boxShadow:"0 2px 12px rgba(30,41,59,0.10)",padding:"6px 10px",border:"1.5px solid #e0e7ee"},onSubmit:z,children:[a.jsx("input",{type:"text",value:m,onChange:T=>x(T.target.value),placeholder:" Search products by name...",style:{flex:1,padding:"10px 18px",borderRadius:14,border:"none",fontSize:"1rem",fontWeight:600,background:"linear-gradient(90deg, #f8fafc 60%, #f0f4fa 100%)",color:"#1e293b",outline:"none"}}),a.jsx("button",{type:"submit",style:{marginLeft:10,padding:"0 28px",borderRadius:14,border:"none",background:"linear-gradient(90deg, #e11d48 60%, #fbbf24 100%)",color:"#fff",fontWeight:700,fontSize:"1rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(13,110,253,0.07)",letterSpacing:1,transition:"background 0.18s"},children:"Search"})]})}),w&&a.jsx("div",{className:"modal show",style:{display:"block",background:"rgba(0,0,0,0.4)"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Notice"}),a.jsx("button",{type:"button",className:"btn-close",onClick:B})]}),a.jsx("div",{className:"modal-body",children:"Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"Close"})})]})})}),C&&a.jsx("div",{className:"modal show",style:{display:"block",background:"rgba(0,0,0,0.4)"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Product Search"}),a.jsx("button",{type:"button",className:"btn-close",onClick:_})]}),a.jsx("div",{className:"modal-body",children:V}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:_,children:"Close"})})]})})}),a.jsxs("div",{className:"main-content",children:[a.jsx("div",{className:"slider-wrapper",children:a.jsxs(Jo,{...c,children:[a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:Kp,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:fv,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:hv,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:pv,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:mv,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:gv,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:Kp,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:e6,alt:""})}),a.jsx("div",{className:"image-wrapper",children:a.jsx("img",{src:ZT,alt:""})})]})}),a.jsxs("div",{className:"add-section",style:{background:"linear-gradient(90deg, #fbbf24 0%, #f472b6 100%)",borderRadius:18,boxShadow:"0 2px 12px rgba(251,191,36,0.10)",padding:"32px 0",margin:"32px 0",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[a.jsx("img",{src:t6,alt:"Selected Headphones",style:{width:"100%",maxWidth:320,borderRadius:16,boxShadow:"0 2px 12px rgba(30,41,59,0.08)"}}),a.jsxs("div",{className:"text",style:{fontWeight:900,fontSize:"clamp(1.3rem, 3vw, 2.2rem)",color:"#1e293b",letterSpacing:1},children:["Grab up to ",a.jsx("span",{style:{color:"#e11d48"},children:"50% off"})," on"," ",a.jsx("br",{}),a.jsx("span",{style:{color:"#fbbf24",background:"#1e293b",borderRadius:8,padding:"2px 12px",marginLeft:4},children:"Selected Footwars"}),"."]})]}),a.jsx("div",{className:"banner-main",children:a.jsx("img",{src:gv,alt:""})}),a.jsx("h2",{className:"main-title",children:"Newest"}),a.jsx("div",{className:"product-slider-section",children:a.jsx(Jo,{...u,children:h.filter(T=>T.category?.toLowerCase()==="newest").map(T=>a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})},T._id||T.id))})}),a.jsxs("div",{className:"product-grid-section",children:[a.jsx("div",{className:"row row-cols-2 row-cols-md-3 row-cols-lg-3",children:M.filter(T=>T.category?.toLowerCase()==="newest").slice(0,t).map(T=>a.jsx("div",{className:"col mb-4",children:a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card ",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})})},T._id||T.id))}),t<M.filter(T=>T.category?.toLowerCase()==="newest").length&&a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:a.jsx("button",{className:"btn btn-secondary",style:{padding:"10px 30px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem"},onClick:()=>e(T=>Math.min(T+9,M.filter(te=>te.category?.toLowerCase()==="newest").length)),children:"Load More Products"})})]}),a.jsx("div",{className:"banner-main",children:a.jsx("img",{src:Kp,alt:""})}),a.jsx("h2",{className:"main-title",children:"Popular"}),a.jsx("div",{className:"product-slider-section",children:a.jsx(Jo,{...u,children:h.filter(T=>T.category?.toLowerCase()==="popular").map(T=>a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})},T._id||T.id))})}),a.jsxs("div",{className:"product-grid-section",children:[a.jsx("div",{className:"row row-cols-2 row-cols-md-3 row-cols-lg-3",children:M.filter(T=>T.category?.toLowerCase()==="popular").slice(0,t).map(T=>a.jsx("div",{className:"col mb-4",children:a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card ",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})})},T._id||T.id))}),t<M.filter(T=>T.category?.toLowerCase()==="popular").length&&a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:a.jsx("button",{className:"btn btn-secondary",style:{padding:"10px 30px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem"},onClick:()=>e(T=>Math.min(T+9,M.filter(te=>te.category?.toLowerCase()==="popular").length)),children:"Load More Products"})})]}),a.jsx("div",{className:"banner-main",children:a.jsx("img",{src:fv,alt:""})}),a.jsx("h2",{className:"main-title",children:"Most Selling"}),a.jsx("div",{className:"product-slider-section",children:a.jsx(Jo,{...u,children:h.filter(T=>T.category?.toLowerCase()==="most selling").map(T=>a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})},T._id||T.id))})}),a.jsxs("div",{className:"product-grid-section",children:[a.jsx("div",{className:"row row-cols-2 row-cols-md-3 row-cols-lg-3",children:M.filter(T=>T.category?.toLowerCase()==="most selling").slice(0,t).map(T=>a.jsx("div",{className:"col mb-4",children:a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})})},T._id||T.id))}),t<M.filter(T=>T.category?.toLowerCase()==="most selling").length&&a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:a.jsx("button",{className:"btn btn-secondary",style:{padding:"10px 30px",borderRadius:"8px",fontWeight:"600",fontSize:"1rem"},onClick:()=>e(T=>Math.min(T+9,M.filter(te=>te.category?.toLowerCase()==="most selling").length)),children:"Load More Products"})})]}),a.jsx("div",{className:"banner-main",children:a.jsx("img",{src:hv,alt:""})}),a.jsx("div",{className:"product-slider-section",children:a.jsx(Jo,{...u,children:h?.map(T=>a.jsx("div",{className:"product-slider-card",children:a.jsx(yt,{to:`/product/${T._id||T.id}`,style:{textDecoration:"none",color:"inherit",cursor:"pointer"},children:a.jsxs("div",{className:"card product-fixed-card",children:[a.jsx("div",{className:"image",children:a.jsx("img",{src:T.image||T.imageUrl,className:"card-img-top",alt:T.name})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title product-title-2lines",title:T.name,children:T.name}),a.jsxs("p",{className:"card-text product-desc-small",children:[T.description?.split(" ").slice(0,10).join(" "),T.description?.split(" ").length>10?"...":""]}),a.jsx("p",{className:"card-text category",children:T.category}),a.jsx("p",{className:"card-text fw-bold",children:T.discountedPrice&&T.discountedPrice<T.price?a.jsxs("span",{style:{color:"#e11d48",fontWeight:700},children:["Price: $",T.discountedPrice]}):a.jsxs(a.Fragment,{children:["$",T.price]})}),a.jsx("button",{className:"btn btn-primary product-btn-smaller",onClick:Q,children:"Buy Now"})]})]})})},T._id||T.id))})}),a.jsxs("div",{className:"bottom-add",children:[a.jsx("h2",{className:"main-title",children:"Avail Our Discounts"}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-12 col-md-6",children:a.jsx("div",{className:"image",children:a.jsx("img",{src:mv,alt:"Sale Banner 1"})})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsx("div",{className:"image",children:a.jsx("img",{src:XT,alt:"Sale Banner 2"})})})]})]}),a.jsx("div",{className:"banner-main",children:a.jsx("img",{src:pv,alt:""})}),a.jsx("h2",{className:"main-title",children:"Our Partners"}),a.jsx("div",{className:"partners",children:a.jsx("img",{src:n6,alt:"Our Partners"})}),a.jsx("style",{children:`
        .product-slider-section {
          margin-bottom: 32px;
        }
        .product-slider-card {
          padding: 8px;
        }
        .product-fixed-card {
          border-radius: 14px;
          box-shadow: 0 2px 12px rgba(30,41,59,0.08);
          overflow: hidden;
          min-height: 360px;
          max-height: 360px;
          display: flex;
          flex-direction: column;
          min-height: 220px;
  
    border-radius: 8px;
        }
        .product-fixed-card .card-img-top {
          border-radius: 10px;
          height: 120px;
          object-fit: contain;
          background: #f6f7fb;
        }
        .product-fixed-card .card-body {
          padding: 10px 10px 0 10px;
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: flex-start;
        }
        .product-title-2lines {
          font-size: 1.05rem;
          font-weight: 700;
          margin-bottom: 2px;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: normal;
          min-height: 2.6em;
          max-height: 2.6em;
        }
        .product-fixed-card .card-text.product-desc-small {
          font-size: 0.85rem;
          margin-bottom: 1px;
        }
        .product-fixed-card .category {
          font-size: 0.8rem;
          color: #64748b;
          margin-bottom: 1px;
        }
        .product-fixed-card .fw-bold {
          margin-bottom: 2px;
        }
        .product-btn-smaller {
          font-size: 0.85rem;
          padding: 5px 0;
          border-radius: 7px;
          margin-top: auto;
          margin-bottom: 10px;
          width: 100%;
          display: block;
        }
        @media (max-width: 900px) {
          .product-title-2lines {
            font-size: 0.95rem;
          }
          .product-fixed-card .card-text.product-desc-small {
            font-size: 0.75rem;
          }
          .product-fixed-card {
            min-height: 260px;
            max-height: 260px;
          }
          .product-fixed-card .card-img-top {
            height: 80px;
          }
          .product-btn-smaller {
            font-size: 0.75rem;
            padding: 4px 0;
            margin-bottom: 10px;
          }
        }
        @media (max-width: 760px) {
          .product-slider-card {
            padding: 2px;
          }
          .product-fixed-card {
  min-height: 220px;
  max-height: 240px;
  border-radius: 8px;
}
         .product-fixed-card .card-img-top {
    height: auto;
    max-height: 100px;
    width: 100%;
    object-fit: contain; /* Use contain instead of cover to avoid cropping */
    border-radius: 6px;
    background: #f6f7fb;
  }
            .slick-next{
            right:-18px;
            }
            .slick-prev{
            left:-18px;}
            .main-landing-page .main-content .main-title {
            font-size: 18px;}
          .product-title-2lines {
            font-size: 0.7rem;
            min-height: 1.2em;
            max-height: 2.5em;
            -webkit-line-clamp: 2;
            margin-bottom: 1px;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: normal;
            font-size: 0.85rem;
  min-height: 2em;
  max-height: 2.5em;
          }
          .product-fixed-card .card-text.product-desc-small {
            font-size: 0.6rem;
            margin-bottom: 0.5px;
            display:none;
            font-size: 0.7rem;
  display: block;
          }
          .product-fixed-card .category {
            font-size: 0.6rem;
            margin-bottom: 0.5px;
          }
          .product-fixed-card .fw-bold {
            margin-bottom: 1px;
          }
          .product-btn-smaller {
            font-size: 0.6rem;
            padding: 3px 0;
            margin-bottom: 5px;
            display: block;
          }
           .product-grid-section .product-fixed-card .card-img-top {
  height: auto;
  max-height: 120px;
  width: 100%;
  object-fit: contain;
  background: #f6f7fb;
}
.product-fixed-card .card-body {
  padding: 12px;
}
  .product-fixed-card .image {
  width: 100%;
  height: 100px; /* Adjust to match max-height of img */
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}
        }
      `})]}),a.jsx(Fa,{})]})}const ES=""+new URL("ecommerce1-DqJxeNE2.png",import.meta.url).href;function CS(t,e){return function(){return t.apply(e,arguments)}}const{toString:H6}=Object.prototype,{getPrototypeOf:Zg}=Object,{iterator:Ju,toStringTag:TS}=Symbol,Xu=(t=>e=>{const n=H6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sr=t=>(t=t.toLowerCase(),e=>Xu(e)===t),Zu=t=>e=>typeof e===t,{isArray:qa}=Array,vl=Zu("undefined");function I6(t){return t!==null&&!vl(t)&&t.constructor!==null&&!vl(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OS=sr("ArrayBuffer");function U6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OS(t.buffer),e}const F6=Zu("string"),xn=Zu("function"),AS=Zu("number"),ef=t=>t!==null&&typeof t=="object",q6=t=>t===!0||t===!1,zd=t=>{if(Xu(t)!=="object")return!1;const e=Zg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(TS in t)&&!(Ju in t)},V6=sr("Date"),$6=sr("File"),W6=sr("Blob"),Y6=sr("FileList"),K6=t=>ef(t)&&xn(t.pipe),G6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=Xu(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},Q6=sr("URLSearchParams"),[J6,X6,Z6,eO]=["ReadableStream","Request","Response","Headers"].map(sr),tO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),qa(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let u;for(r=0;r<c;r++)u=o[r],e.call(null,t[u],u,t)}}function MS(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RS=t=>!vl(t)&&t!==hs;function rg(){const{caseless:t}=RS(this)&&this||{},e={},n=(r,s)=>{const o=t&&MS(e,s)||s;zd(e[o])&&zd(r)?e[o]=rg(e[o],r):zd(r)?e[o]=rg({},r):qa(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Pl(arguments[r],n);return e}const nO=(t,e,n,{allOwnKeys:r}={})=>(Pl(e,(s,o)=>{n&&xn(s)?t[o]=CS(s,n):t[o]=s},{allOwnKeys:r}),t),rO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iO=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sO=(t,e,n,r)=>{let s,o,c;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)c=s[o],(!r||r(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&Zg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oO=t=>{if(!t)return null;if(qa(t))return t;let e=t.length;if(!AS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Zg(Uint8Array)),cO=(t,e)=>{const r=(t&&t[Ju]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},dO=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uO=sr("HTMLFormElement"),fO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hO=sr("RegExp"),DS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Pl(n,(s,o)=>{let c;(c=e(s,o,t))!==!1&&(r[o]=c||s)}),Object.defineProperties(t,r)},pO=t=>{DS(t,(e,n)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mO=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return qa(t)?r(t):r(String(t).split(e)),n},gO=()=>{},xO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bO(t){return!!(t&&xn(t.append)&&t[TS]==="FormData"&&t[Ju])}const yO=t=>{const e=new Array(10),n=(r,s)=>{if(ef(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=qa(r)?[]:{};return Pl(r,(c,u)=>{const h=n(c,s+1);!vl(h)&&(o[u]=h)}),e[s]=void 0,o}}return r};return n(t,0)},vO=sr("AsyncFunction"),wO=t=>t&&(ef(t)||xn(t))&&xn(t.then)&&xn(t.catch),_S=((t,e)=>t?setImmediate:e?((n,r)=>(hs.addEventListener("message",({source:s,data:o})=>{s===hs&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),hs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(hs.postMessage)),SO=typeof queueMicrotask<"u"?queueMicrotask.bind(hs):typeof process<"u"&&process.nextTick||_S,jO=t=>t!=null&&xn(t[Ju]),re={isArray:qa,isArrayBuffer:OS,isBuffer:I6,isFormData:G6,isArrayBufferView:U6,isString:F6,isNumber:AS,isBoolean:q6,isObject:ef,isPlainObject:zd,isReadableStream:J6,isRequest:X6,isResponse:Z6,isHeaders:eO,isUndefined:vl,isDate:V6,isFile:$6,isBlob:W6,isRegExp:hO,isFunction:xn,isStream:K6,isURLSearchParams:Q6,isTypedArray:lO,isFileList:Y6,forEach:Pl,merge:rg,extend:nO,trim:tO,stripBOM:rO,inherits:iO,toFlatObject:sO,kindOf:Xu,kindOfTest:sr,endsWith:aO,toArray:oO,forEachEntry:cO,matchAll:dO,isHTMLForm:uO,hasOwnProperty:Lv,hasOwnProp:Lv,reduceDescriptors:DS,freezeMethods:pO,toObjectSet:mO,toCamelCase:fO,noop:gO,toFiniteNumber:xO,findKey:MS,global:hs,isContextDefined:RS,isSpecCompliantForm:bO,toJSONObject:yO,isAsyncFn:vO,isThenable:wO,setImmediate:_S,asap:SO,isIterable:jO};function Te(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const zS=Te.prototype,LS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LS[t]={value:t}});Object.defineProperties(Te,LS);Object.defineProperty(zS,"isAxiosError",{value:!0});Te.from=(t,e,n,r,s,o)=>{const c=Object.create(zS);return re.toFlatObject(t,c,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Te.call(c,t.message,e,n,r,s),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const NO=null;function ig(t){return re.isPlainObject(t)||re.isArray(t)}function PS(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function Pv(t,e,n){return t?t.concat(e).map(function(s,o){return s=PS(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function kO(t){return re.isArray(t)&&!t.some(ig)}const EO=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function tf(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!re.isUndefined(C[j])});const r=n.metaTokens,s=n.visitor||m,o=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(re.isDate(w))return w.toISOString();if(re.isBoolean(w))return w.toString();if(!h&&re.isBlob(w))throw new Te("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(w)||re.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,j,C){let O=w;if(w&&!C&&typeof w=="object"){if(re.endsWith(j,"{}"))j=r?j:j.slice(0,-2),w=JSON.stringify(w);else if(re.isArray(w)&&kO(w)||(re.isFileList(w)||re.endsWith(j,"[]"))&&(O=re.toArray(w)))return j=PS(j),O.forEach(function(q,Q){!(re.isUndefined(q)||q===null)&&e.append(c===!0?Pv([j],Q,o):c===null?j:j+"[]",p(q))}),!1}return ig(w)?!0:(e.append(Pv(C,j,o),p(w)),!1)}const x=[],y=Object.assign(EO,{defaultVisitor:m,convertValue:p,isVisitable:ig});function v(w,j){if(!re.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(w),re.forEach(w,function(O,V){(!(re.isUndefined(O)||O===null)&&s.call(e,O,re.isString(V)?V.trim():V,j,y))===!0&&v(O,j?j.concat(V):[V])}),x.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Bv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function e0(t,e){this._pairs=[],t&&tf(t,this,e)}const BS=e0.prototype;BS.append=function(e,n){this._pairs.push([e,n])};BS.toString=function(e){const n=e?function(r){return e.call(this,r,Bv)}:Bv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function CO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HS(t,e,n){if(!e)return t;const r=n&&n.encode||CO;re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=re.isURLSearchParams(e)?e.toString():new e0(e,n).toString(r),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Hv{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const IS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TO=typeof URLSearchParams<"u"?URLSearchParams:e0,OO=typeof FormData<"u"?FormData:null,AO=typeof Blob<"u"?Blob:null,MO={isBrowser:!0,classes:{URLSearchParams:TO,FormData:OO,Blob:AO},protocols:["http","https","file","blob","url","data"]},t0=typeof window<"u"&&typeof document<"u",sg=typeof navigator=="object"&&navigator||void 0,RO=t0&&(!sg||["ReactNative","NativeScript","NS"].indexOf(sg.product)<0),DO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_O=t0&&window.location.href||"http://localhost",zO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t0,hasStandardBrowserEnv:RO,hasStandardBrowserWebWorkerEnv:DO,navigator:sg,origin:_O},Symbol.toStringTag,{value:"Module"})),en={...zO,...MO};function LO(t,e){return tf(t,new en.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return en.isNode&&re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function PO(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BO(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function US(t){function e(n,r,s,o){let c=n[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=o>=n.length;return c=!c&&re.isArray(s)?s.length:c,h?(re.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!u):((!s[c]||!re.isObject(s[c]))&&(s[c]=[]),e(n,r,s[c],o)&&re.isArray(s[c])&&(s[c]=BO(s[c])),!u)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(r,s)=>{e(PO(r),s,n,0)}),n}return null}function HO(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Bl={transitional:IS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(US(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LO(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return tf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),HO(e)):e}],transformResponse:[function(e){const n=this.transitional||Bl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?Te.from(u,Te.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Bl.headers[t]={}});const IO=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UO=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!n||e[n]&&IO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Iv=Symbol("internals");function Xo(t){return t&&String(t).trim().toLowerCase()}function Ld(t){return t===!1||t==null?t:re.isArray(t)?t.map(Ld):String(t)}function FO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const qO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lm(t,e,n,r,s){if(re.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function VO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $O(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,c){return this[r].call(this,e,s,o,c)},configurable:!0})})}let bn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(u,h,p){const m=Xo(h);if(!m)throw new Error("header name must be a non-empty string");const x=re.findKey(s,m);(!x||s[x]===void 0||p===!0||p===void 0&&s[x]!==!1)&&(s[x||h]=Ld(u))}const c=(u,h)=>re.forEach(u,(p,m)=>o(p,m,h));if(re.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(re.isString(e)&&(e=e.trim())&&!qO(e))c(UO(e),n);else if(re.isObject(e)&&re.isIterable(e)){let u={},h,p;for(const m of e){if(!re.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[p=m[0]]=(h=u[p])?re.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}c(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Xo(e),e){const r=re.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return FO(s);if(re.isFunction(n))return n.call(this,s,r);if(re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xo(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||lm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(c){if(c=Xo(c),c){const u=re.findKey(r,c);u&&(!n||lm(r,r[u],u,n))&&(delete r[u],s=!0)}}return re.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||lm(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return re.forEach(this,(s,o)=>{const c=re.findKey(r,o);if(c){n[c]=Ld(s),delete n[o];return}const u=e?VO(o):String(o).trim();u!==o&&delete n[o],n[u]=Ld(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Iv]=this[Iv]={accessors:{}}).accessors,s=this.prototype;function o(c){const u=Xo(c);r[u]||($O(s,c),r[u]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});re.freezeMethods(bn);function cm(t,e){const n=this||Bl,r=e||n,s=bn.from(r.headers);let o=r.data;return re.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function FS(t){return!!(t&&t.__CANCEL__)}function Va(t,e,n){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(Va,Te,{__CANCEL__:!0});function qS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function WO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function YO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),m=r[o];c||(c=p),n[s]=h,r[s]=p;let x=o,y=0;for(;x!==s;)y+=n[x++],x=x%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),p-c<e)return;const v=m&&p-m;return v?Math.round(y*1e3/v):void 0}}function KO(t,e){let n=0,r=1e3/e,s,o;const c=(p,m=Date.now())=>{n=m,s=null,o&&(clearTimeout(o),o=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),x=m-n;x>=r?c(p,m):(s=p,o||(o=setTimeout(()=>{o=null,c(s)},r-x)))},()=>s&&c(s)]}const Qd=(t,e,n=3)=>{let r=0;const s=YO(50,250);return KO(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,h=c-r,p=s(h),m=c<=u;r=c;const x={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:p||void 0,estimated:p&&u&&m?(u-c)/p:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(x)},n)},Uv=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Fv=t=>(...e)=>re.asap(()=>t(...e)),GO=en.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,en.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,QO=en.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const c=[t+"="+encodeURIComponent(e)];re.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),re.isString(r)&&c.push("path="+r),re.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function VS(t,e,n){let r=!JO(e);return t&&(r||n==!1)?XO(t,e):e}const qv=t=>t instanceof bn?{...t}:t;function ks(t,e){e=e||{};const n={};function r(p,m,x,y){return re.isPlainObject(p)&&re.isPlainObject(m)?re.merge.call({caseless:y},p,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function s(p,m,x,y){if(re.isUndefined(m)){if(!re.isUndefined(p))return r(void 0,p,x,y)}else return r(p,m,x,y)}function o(p,m){if(!re.isUndefined(m))return r(void 0,m)}function c(p,m){if(re.isUndefined(m)){if(!re.isUndefined(p))return r(void 0,p)}else return r(void 0,m)}function u(p,m,x){if(x in e)return r(p,m);if(x in t)return r(void 0,p)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(p,m,x)=>s(qv(p),qv(m),x,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(m){const x=h[m]||s,y=x(t[m],e[m],m);re.isUndefined(y)&&x!==u||(n[m]=y)}),n}const $S=t=>{const e=ks({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:u}=e;e.headers=c=bn.from(c),e.url=HS(VS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(re.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[p,...m]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...m].join("; "))}}if(en.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&GO(e.url))){const p=s&&o&&QO.read(o);p&&c.set(s,p)}return e},ZO=typeof XMLHttpRequest<"u",eA=ZO&&function(t){return new Promise(function(n,r){const s=$S(t);let o=s.data;const c=bn.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:p}=s,m,x,y,v,w;function j(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function O(){if(!C)return;const q=bn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:q,config:t,request:C};qS(function(_){n(_),j()},function(_){r(_),j()},z),C=null}"onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(r(new Te("Request aborted",Te.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let Q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||IS;s.timeoutErrorMessage&&(Q=s.timeoutErrorMessage),r(new Te(Q,z.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,C)),C=null},o===void 0&&c.setContentType(null),"setRequestHeader"in C&&re.forEach(c.toJSON(),function(Q,z){C.setRequestHeader(z,Q)}),re.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),u&&u!=="json"&&(C.responseType=s.responseType),p&&([y,w]=Qd(p,!0),C.addEventListener("progress",y)),h&&C.upload&&([x,v]=Qd(h),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(m=q=>{C&&(r(!q||q.type?new Va(null,t,C):q),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const V=WO(s.url);if(V&&en.protocols.indexOf(V)===-1){r(new Te("Unsupported protocol "+V+":",Te.ERR_BAD_REQUEST,t));return}C.send(o||null)})},tA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(p){if(!s){s=!0,u();const m=p instanceof Error?p:this.reason;r.abort(m instanceof Te?m:new Va(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,o(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),t=null)};t.forEach(p=>p.addEventListener("abort",o));const{signal:h}=r;return h.unsubscribe=()=>re.asap(u),h}},nA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},rA=async function*(t,e){for await(const n of iA(t))yield*nA(n,e)},iA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Vv=(t,e,n,r)=>{const s=rA(t,e);let o=0,c,u=h=>{c||(c=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:p,value:m}=await s.next();if(p){u(),h.close();return}let x=m.byteLength;if(n){let y=o+=x;n(y)}h.enqueue(new Uint8Array(m))}catch(p){throw u(p),p}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},nf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WS=nf&&typeof ReadableStream=="function",sA=nf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),YS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aA=WS&&YS(()=>{let t=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),$v=64*1024,ag=WS&&YS(()=>re.isReadableStream(new Response("").body)),Jd={stream:ag&&(t=>t.body)};nf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jd[e]&&(Jd[e]=re.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})})(new Response);const oA=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(en.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await sA(t)).byteLength},lA=async(t,e)=>{const n=re.toFiniteNumber(t.getContentLength());return n??oA(e)},cA=nf&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:c,onDownloadProgress:u,onUploadProgress:h,responseType:p,headers:m,withCredentials:x="same-origin",fetchOptions:y}=$S(t);p=p?(p+"").toLowerCase():"text";let v=tA([s,o&&o.toAbortSignal()],c),w;const j=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let C;try{if(h&&aA&&n!=="get"&&n!=="head"&&(C=await lA(m,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(re.isFormData(r)&&(B=z.headers.get("content-type"))&&m.setContentType(B),z.body){const[_,I]=Uv(C,Qd(Fv(h)));r=Vv(z.body,$v,_,I)}}re.isString(x)||(x=x?"include":"omit");const O="credentials"in Request.prototype;w=new Request(e,{...y,signal:v,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:O?x:void 0});let V=await fetch(w,y);const q=ag&&(p==="stream"||p==="response");if(ag&&(u||q&&j)){const z={};["status","statusText","headers"].forEach(R=>{z[R]=V[R]});const B=re.toFiniteNumber(V.headers.get("content-length")),[_,I]=u&&Uv(B,Qd(Fv(u),!0))||[];V=new Response(Vv(V.body,$v,_,()=>{I&&I(),j&&j()}),z)}p=p||"text";let Q=await Jd[re.findKey(Jd,p)||"text"](V,t);return!q&&j&&j(),await new Promise((z,B)=>{qS(z,B,{data:Q,headers:bn.from(V.headers),status:V.status,statusText:V.statusText,config:t,request:w})})}catch(O){throw j&&j(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,t,w),{cause:O.cause||O}):Te.from(O,O&&O.code,t,w)}}),og={http:NO,xhr:eA,fetch:cA};re.forEach(og,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Wv=t=>`- ${t}`,dA=t=>re.isFunction(t)||t===null||t===!1,KS={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let c;if(r=n,!dA(n)&&(r=og[(c=String(n)).toLowerCase()],r===void 0))throw new Te(`Unknown adapter '${c}'`);if(r)break;s[c||"#"+o]=r}if(!r){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(Wv).join(`
`):" "+Wv(o[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:og};function dm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Va(null,t)}function Yv(t){return dm(t),t.headers=bn.from(t.headers),t.data=cm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KS.getAdapter(t.adapter||Bl.adapter)(t).then(function(r){return dm(t),r.data=cm.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return FS(r)||(dm(t),r&&r.response&&(r.response.data=cm.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const GS="1.10.0",rf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Kv={};rf.transitional=function(e,n,r){function s(o,c){return"[Axios v"+GS+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,u)=>{if(e===!1)throw new Te(s(c," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!Kv[c]&&(Kv[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,c,u):!0}};rf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uA(t,e,n){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],c=e[o];if(c){const u=t[o],h=u===void 0||c(u,o,t);if(h!==!0)throw new Te("option "+o+" must be "+h,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const Pd={assertOptions:uA,validators:rf},ur=Pd.validators;let bs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Hv,response:new Hv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Pd.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),s!=null&&(re.isFunction(s)?n.paramsSerializer={serialize:s}:Pd.assertOptions(s,{encode:ur.function,serialize:ur.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pd.assertOptions(n,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&re.merge(o.common,o[n.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=bn.concat(c,o);const u=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(h=h&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let m,x=0,y;if(!h){const w=[Yv.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,p),y=w.length,m=Promise.resolve(n);x<y;)m=m.then(w[x++],w[x++]);return m}y=u.length;let v=n;for(x=0;x<y;){const w=u[x++],j=u[x++];try{v=w(v)}catch(C){j.call(this,C);break}}try{m=Yv.call(this,v)}catch(w){return Promise.reject(w)}for(x=0,y=p.length;x<y;)m=m.then(p[x++],p[x++]);return m}getUri(e){e=ks(this.defaults,e);const n=VS(e.baseURL,e.url,e.allowAbsoluteUrls);return HS(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){bs.prototype[e]=function(n,r){return this.request(ks(r||{},{method:e,url:n,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(r){return function(o,c,u){return this.request(ks(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}bs.prototype[e]=n(),bs.prototype[e+"Form"]=n(!0)});let fA=class QS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(u=>{r.subscribe(u),o=u}).then(s);return c.cancel=function(){r.unsubscribe(o)},c},e(function(o,c,u){r.reason||(r.reason=new Va(o,c,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new QS(function(s){e=s}),cancel:e}}};function hA(t){return function(n){return t.apply(null,n)}}function pA(t){return re.isObject(t)&&t.isAxiosError===!0}const lg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lg).forEach(([t,e])=>{lg[e]=t});function JS(t){const e=new bs(t),n=CS(bs.prototype.request,e);return re.extend(n,bs.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return JS(ks(t,s))},n}const ge=JS(Bl);ge.Axios=bs;ge.CanceledError=Va;ge.CancelToken=fA;ge.isCancel=FS;ge.VERSION=GS;ge.toFormData=tf;ge.AxiosError=Te;ge.Cancel=ge.CanceledError;ge.all=function(e){return Promise.all(e)};ge.spread=hA;ge.isAxiosError=pA;ge.mergeConfig=ks;ge.AxiosHeaders=bn;ge.formToJSON=t=>US(re.isHTMLForm(t)?new FormData(t):t);ge.getAdapter=KS.getAdapter;ge.HttpStatusCode=lg;ge.default=ge;const{Axios:$7,AxiosError:W7,CanceledError:Y7,isCancel:K7,CancelToken:G7,VERSION:Q7,all:J7,Cancel:X7,isAxiosError:Z7,spread:eP,toFormData:tP,AxiosHeaders:nP,HttpStatusCode:rP,formToJSON:iP,getAdapter:sP,mergeConfig:aP}=ge,XS="https://backvolverine.vercel.app/api",mA=async({name:t,email:e,password:n,phone:r,shopName:s,identity:o})=>{try{return(await ge.post(`${XS}/auth/signup`,{name:t,email:e,password:n,phone:r,shopName:s,identity:o})).data}catch(c){throw c.response?.data||{message:"Signup failed"}}},gA=async(t,e,n)=>{try{const r=await ge.post(`${XS}/auth/login`,{email:t,password:e,loginVerificationCode:n});return r.data&&r.data.user&&localStorage.setItem("alfauser",JSON.stringify(r.data.user)),r.data}catch(r){throw r.response?.data||{message:"Login failed"}}};function xA(){const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,o]=A.useState(""),[c,u]=A.useState(""),h=Rt(),p=A.useRef(!1),m=A.useRef(!1);A.useEffect(()=>{if(m.current||p.current)return;m.current=!0;const y=JSON.parse(localStorage.getItem("alfauser"));if(y){const v=y?.role?.toString().trim().toLowerCase();v==="admin"?window.location.replace("/admin"):v==="seller"&&y.approved&&window.location.replace("/seller")}},[]);const x=async y=>{y.preventDefault(),u(""),p.current=!0;try{const v=await gA(t,n,s),w=v.user||v;w.role?.toString().trim().toLowerCase()==="admin"?(localStorage.setItem("alfauser",JSON.stringify(w)),window.location.href="/admin"):w.role?.toString().trim().toLowerCase()==="seller"?w.approved?(localStorage.setItem("alfauser",JSON.stringify(w)),window.location.href="/seller"):(u("Pending approval from admin. Please wait."),localStorage.removeItem("alfauser")):(u("Invalid role or user data"),localStorage.removeItem("alfauser"))}catch(v){u(v.message||"Login failed")}finally{p.current=!1}};return a.jsx("div",{className:"login-page",children:a.jsxs("div",{className:"inner",children:[a.jsx(yt,{to:"/",className:"logo",children:a.jsx("img",{src:ES,alt:"E-commerce Logo"})}),a.jsx("h2",{className:"mb-4",children:"Login"}),c&&a.jsxs("div",{className:"alert alert-danger",children:[c," ",a.jsx("button",{style:{textDecoration:"none",color:"#111",fontWeight:"700",fontSize:"14px"},className:"btn btn-link p-0 ms-2",onClick:()=>h("/"),children:"Visit Website"})]}),a.jsxs("form",{onSubmit:x,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",value:t,onChange:y=>e(y.target.value),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",value:n,onChange:y=>r(y.target.value),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label",children:"Login Verification Code"}),a.jsx("input",{type:"text",className:"form-control",value:s,onChange:y=>o(y.target.value),placeholder:"Enter code if required"}),a.jsx("small",{className:"text-muted",children:"Ask admin for your login code if required."})]}),a.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"}),a.jsx("div",{className:"dont-have-account mt-3",children:a.jsxs("p",{children:["Don't have an account?  ",a.jsx(yt,{to:"/signup",children:"Sign Up"})," "]})})]})]})})}const bA=()=>{const[t,e]=A.useState({name:"",email:"",password:"",phone:"",shopName:"",identity:""}),[n,r]=A.useState("Id card"),[s,o]=A.useState(!1),[c,u]=A.useState(""),[h,p]=A.useState(!1),[m,x]=A.useState({email:"",phone:"",authCode:""}),[y,v]=A.useState(""),w=Q=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q),j=Q=>/^\+\d{12}$/.test(Q),C=Q=>{const{name:z,value:B}=Q.target;let _="";z==="email"&&B?w(B)||(_="Please enter a valid email address"):z==="phone"&&B?j(B)||(_="Please enter a valid phone number (+ followed by 12 digits)"):z==="authCode"&&B&&B!=="786488934"&&(_=` Accountability Matters  Protecting Customer Trust

If you dont have an invitation code, youll be required to pay a security deposit of  $30,000us dollars. This payment acts as a guarantee that you will uphold our trust and follow all rules and regulations.

 If you enter using an invitation code, youll skip the depositbut the person who gave you the code is held responsible for your conduct. If you violate our rules, strict action will be taken against the code provider as well.

Lets keep the system fair and secure for everyone!`,Ye(_)),x(I=>({...I,[z]:z==="authCode"?"":_}))},O=Q=>{e({...t,[Q.target.name]:Q.target.value})},V=async Q=>{const z=Q.target.files[0];if(!z)return;const B=new FileReader;B.onloadend=()=>{e(_=>({..._,identity:B.result}))},B.readAsDataURL(z)},q=async Q=>{Q.preventDefault();let z=!1;const B={email:"",phone:"",authCode:""};if(w(t.email)||(B.email="Please enter a valid email address",z=!0),j(t.phone)||(B.phone="Please enter a valid phone number (+ followed by 12 digits)",z=!0),(!y||y!=="786488934")&&(B.authCode="",z=!0,Ye(` Accountability Matters  Protecting Customer Trust

If you dont have an invitation code, youll be required to pay a security deposit of  $30,000us dollars. This payment acts as a guarantee that you will uphold our trust and follow all rules and regulations.

 If you enter using an invitation code, youll skip the depositbut the person who gave you the code is held responsible for your conduct. If you violate our rules, strict action will be taken against the code provider as well.

Lets keep the system fair and secure for everyone!`)),z){x(B);return}p(!0),u(""),x({email:"",phone:"",authCode:""});try{const _={...t,phone:t.phone};await mA(_),o(!0)}catch(_){u(_?.response?.data?.message||_?.message||"Signup failed")}finally{p(!1)}};return s?a.jsxs("div",{className:"signup-success",children:[a.jsx("h2",{children:"Signup Successful!"}),a.jsx("p",{children:"Please wait for the approval process"}),a.jsx(yt,{to:"/",className:"button",children:"Visit Website"})]}):a.jsx("div",{className:"login-page",children:a.jsxs("div",{className:"inner large",children:[a.jsx(yt,{to:"/",className:"logo",children:a.jsx("img",{src:ES,alt:"E-commerce Logo"})}),a.jsx("h2",{children:"Sign Up"}),a.jsxs("form",{onSubmit:q,className:"signup-form",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Name"}),a.jsx("input",{type:"text",name:"name",placeholder:"Name",value:t.name,onChange:O,required:!0})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Email"}),a.jsx("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:O,onBlur:C,required:!0,style:{borderColor:m.email?"red":""}}),m.email&&a.jsx("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:m.email})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Password"}),a.jsx("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:O,required:!0})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Phone"}),a.jsx("div",{className:"phone",children:a.jsx("input",{type:"text",name:"phone",placeholder:"+123456789012",maxLength:"13",value:t.phone,onChange:O,onBlur:C,required:!0})}),m.phone&&a.jsx("div",{style:{color:"red",fontSize:"12px",marginTop:"5px"},children:m.phone})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"authCode",children:"Invitation Code"}),a.jsx("input",{type:"text",name:"authCode",placeholder:"Enter Invitation code",value:y,onChange:Q=>v(Q.target.value),onBlur:C})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Shop Name"}),a.jsx("input",{type:"text",name:"shopName",placeholder:"Shop Name",value:t.shopName,onChange:O})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Select ID Proof"}),a.jsxs("select",{value:n,onChange:Q=>r(Q.target.value),style:{width:"100%",padding:"8px",marginBottom:"10px"},children:[a.jsx("option",{value:"Id card",children:"Id card"}),a.jsx("option",{value:"Passport",children:"Passport"}),a.jsx("option",{value:"Driving License",children:"Driving License"}),a.jsx("option",{value:"Social Security Card",children:"Social Security Card"})]})]}),a.jsxs("div",{className:"col-12 col-md-6",children:[a.jsxs("label",{children:[n," image (required):"]}),a.jsx("input",{type:"file",accept:"image/*",onChange:V,required:!0})]}),a.jsxs("div",{className:"col-12 col-md-12",children:[a.jsx("button",{className:"btn-primary",type:"submit",disabled:h,children:h?"Signing up...":"Sign Up"}),c&&a.jsx("div",{className:"error-message",children:c})]})]}),a.jsx("div",{className:"col-12 col-md-12",children:a.jsx("div",{className:"dont-have-account mt-3",children:a.jsxs("p",{children:["Already have an account? ",a.jsx("a",{href:"/login",children:"Login"})]})})})]})]})})},yA=()=>{const t=Rt();return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #fbbf24 0%, #f8fafc 100%)",padding:"0",margin:0},children:[a.jsxs("div",{style:{width:"100%",background:"linear-gradient(90deg, #1e293b 0%, #334155 100%)",color:"#fff",padding:"24px 0 20px 0",marginBottom:32,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 2px 12px rgba(30,41,59,0.06)",flexDirection:"row",gap:16},children:[a.jsx("button",{onClick:()=>t("/"),style:{background:"#fbbf24",color:"#1e293b",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(30,41,59,0.10)",transition:"background 0.2s",zIndex:2,marginRight:12,marginLeft:12,position:"static",transform:"none",marginBottom:0},children:" Back"}),a.jsx("span",{style:{fontWeight:900,fontSize:"clamp(1.2rem, 4vw, 2.1rem)",letterSpacing:1,textAlign:"center",flex:1,marginLeft:0},children:"Privacy Policy"}),a.jsx("style",{children:`
          @media (max-width: 600px) {
            .policy-header-flex {
              flex-direction: column !important;
              align-items: stretch !important;
              gap: 8px !important;
              padding: 16px 0 12px 0 !important;
            }
            .policy-header-flex span {
              font-size: 1.1rem !important;
              margin-left: 0 !important;
            }
            .policy-header-flex button {
              margin-bottom: 4px !important;
            }
          }
        `})]}),a.jsxs("div",{style:{maxWidth:800,margin:"0 auto",background:"#fff",borderRadius:20,boxShadow:"0 4px 32px rgba(30,41,59,0.10)",padding:"clamp(20px, 5vw, 48px)",fontSize:"clamp(1rem, 2vw, 1.15rem)",lineHeight:1.7,color:"#334155",marginBottom:40},children:[a.jsxs("p",{style:{fontSize:"clamp(1.1rem, 2vw, 1.25rem)",marginBottom:20},children:["At ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"wolverine house"}),", your privacy is our top priority. We are committed to protecting your personal information and your right to privacy."]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Information We Collect"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"Personal identification information (Name, email address, phone number, etc.)"}),a.jsx("li",{children:"Order and payment details"}),a.jsx("li",{children:"Usage data and cookies"})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"How We Use Your Information"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"To process orders and manage your account"}),a.jsx("li",{children:"To improve our website and services"}),a.jsx("li",{children:"To communicate with you about offers and updates"})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Your Rights"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"Access, update, or delete your personal information"}),a.jsx("li",{children:"Opt-out of marketing communications"}),a.jsx("li",{children:"Request data portability"})]}),a.jsxs("p",{style:{marginTop:32},children:["For any questions or requests regarding your privacy, please contact us at ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"support@wolverine house.com"}),"."]})]}),a.jsx(Fa,{})]})},vA=()=>{const t=Rt();return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #fbbf24 0%, #f8fafc 100%)",padding:0,margin:0},children:[a.jsxs("div",{style:{width:"100%",background:"linear-gradient(90deg, #1e293b 0%, #334155 100%)",color:"#fff",padding:"24px 0 20px 0",marginBottom:32,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 2px 12px rgba(30,41,59,0.06)",flexDirection:"row",gap:16},children:[a.jsx("button",{onClick:()=>t("/"),style:{background:"#fbbf24",color:"#1e293b",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(30,41,59,0.10)",transition:"background 0.2s",zIndex:2,marginRight:12,marginLeft:12,position:"static",transform:"none",marginBottom:0},children:" Back"}),a.jsx("span",{style:{fontWeight:900,fontSize:"clamp(1.2rem, 4vw, 2.1rem)",letterSpacing:1,textAlign:"center",flex:1,marginLeft:0},children:"Terms & Conditions"}),a.jsx("style",{children:`
          @media (max-width: 600px) {
            .policy-header-flex {
              flex-direction: column !important;
              align-items: stretch !important;
              gap: 8px !important;
              padding: 16px 0 12px 0 !important;
            }
            .policy-header-flex span {
              font-size: 1.1rem !important;
              margin-left: 0 !important;
            }
            .policy-header-flex button {
              margin-bottom: 4px !important;
            }
          }
        `})]}),a.jsxs("div",{style:{maxWidth:800,margin:"0 auto",background:"#fff",borderRadius:20,boxShadow:"0 4px 32px rgba(30,41,59,0.10)",padding:"clamp(20px, 5vw, 48px)",fontSize:"clamp(1rem, 2vw, 1.15rem)",lineHeight:1.7,color:"#334155",marginBottom:40},children:[a.jsxs("p",{style:{fontSize:"clamp(1.1rem, 2vw, 1.25rem)",marginBottom:20},children:["Welcome to ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"wolverine house"}),". By accessing or using our website, you agree to be bound by these terms and conditions."]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Use of Our Service"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"You must be at least 18 years old to use our services."}),a.jsx("li",{children:"All information provided must be accurate and up to date."}),a.jsx("li",{children:"Do not misuse our services or attempt unauthorized access."})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Orders & Payments"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"All orders are subject to acceptance and availability."}),a.jsx("li",{children:"Prices and availability are subject to change without notice."}),a.jsx("li",{children:"We reserve the right to refuse or cancel any order."})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Limitation of Liability"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"wolverine house is not liable for any indirect, incidental, or consequential damages."}),a.jsx("li",{children:"Our liability is limited to the maximum extent permitted by law."})]}),a.jsxs("p",{style:{marginTop:32},children:["For any questions regarding these terms, please contact us at ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"support@wolverine house.com"}),"."]})]}),a.jsx(Fa,{})]})},wA=()=>{const t=Rt();return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #fbbf24 0%, #f8fafc 100%)",padding:0,margin:0},children:[a.jsxs("div",{style:{width:"100%",background:"linear-gradient(90deg, #1e293b 0%, #334155 100%)",color:"#fff",padding:"24px 0 20px 0",marginBottom:32,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 2px 12px rgba(30,41,59,0.06)",flexDirection:"row",gap:16},children:[a.jsx("button",{onClick:()=>t("/"),style:{background:"#fbbf24",color:"#1e293b",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(30,41,59,0.10)",transition:"background 0.2s",zIndex:2,marginRight:12,marginLeft:12,position:"static",transform:"none",marginBottom:0},children:" Back"}),a.jsx("span",{style:{fontWeight:900,fontSize:"clamp(1.2rem, 4vw, 2.1rem)",letterSpacing:1,textAlign:"center",flex:1,marginLeft:0},children:"Cookies Policy"}),a.jsx("style",{children:`
          @media (max-width: 600px) {
            .policy-header-flex {
              flex-direction: column !important;
              align-items: stretch !important;
              gap: 8px !important;
              padding: 16px 0 12px 0 !important;
            }
            .policy-header-flex span {
              font-size: 1.1rem !important;
              margin-left: 0 !important;
            }
            .policy-header-flex button {
              margin-bottom: 4px !important;
            }
          }
        `})]}),a.jsxs("div",{style:{maxWidth:800,margin:"0 auto",background:"#fff",borderRadius:20,boxShadow:"0 4px 32px rgba(30,41,59,0.10)",padding:"clamp(20px, 5vw, 48px)",fontSize:"clamp(1rem, 2vw, 1.15rem)",lineHeight:1.7,color:"#334155",marginBottom:40},children:[a.jsxs("p",{style:{fontSize:"clamp(1.1rem, 2vw, 1.25rem)",marginBottom:20},children:[a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"wolverine house"})," uses cookies to enhance your browsing experience and provide personalized services."]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"What Are Cookies?"}),a.jsx("p",{style:{marginBottom:20},children:"Cookies are small text files stored on your device to help us remember your preferences and improve site functionality."}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"How We Use Cookies"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"To remember your login and preferences"}),a.jsx("li",{children:"To analyze site traffic and usage"}),a.jsx("li",{children:"To provide relevant offers and content"})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Managing Cookies"}),a.jsx("p",{style:{marginBottom:20},children:"You can control cookies through your browser settings. Disabling cookies may affect your experience on our site."}),a.jsxs("p",{style:{marginTop:32},children:["For more information, contact us at ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"support@wolverine house.com"}),"."]})]}),a.jsx(Fa,{})]})},SA=()=>{const t=Rt();return a.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #fbbf24 0%, #f8fafc 100%)",padding:0,margin:0},children:[a.jsxs("div",{style:{width:"100%",background:"linear-gradient(90deg, #1e293b 0%, #334155 100%)",color:"#fff",padding:"24px 0 20px 0",marginBottom:32,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 2px 12px rgba(30,41,59,0.06)",flexDirection:"row",gap:16},children:[a.jsx("button",{onClick:()=>t("/"),style:{background:"#fbbf24",color:"#1e293b",border:"none",borderRadius:8,padding:"8px 20px",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(30,41,59,0.10)",transition:"background 0.2s",zIndex:2,marginRight:12,marginLeft:12,position:"static",transform:"none",marginBottom:0},children:" Back"}),a.jsx("span",{style:{fontWeight:900,fontSize:"clamp(1.2rem, 4vw, 2.1rem)",letterSpacing:1,textAlign:"center",flex:1,marginLeft:0},children:"Risk Disclosure"}),a.jsx("style",{children:`
          @media (max-width: 600px) {
            .policy-header-flex {
              flex-direction: column !important;
              align-items: stretch !important;
              gap: 8px !important;
              padding: 16px 0 12px 0 !important;
            }
            .policy-header-flex span {
              font-size: 1.1rem !important;
              margin-left: 0 !important;
            }
            .policy-header-flex button {
              margin-bottom: 4px !important;
            }
          }
        `})]}),a.jsxs("div",{style:{maxWidth:800,margin:"0 auto",background:"#fff",borderRadius:20,boxShadow:"0 4px 32px rgba(30,41,59,0.10)",padding:"clamp(20px, 5vw, 48px)",fontSize:"clamp(1rem, 2vw, 1.15rem)",lineHeight:1.7,color:"#334155",marginBottom:40},children:[a.jsxs("p",{style:{fontSize:"clamp(1.1rem, 2vw, 1.25rem)",marginBottom:20},children:["At ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"wolverine house"}),", we strive to provide a safe and reliable shopping experience. However, all online activities carry certain risks."]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"General Risks"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"Product availability and pricing may change without notice."}),a.jsx("li",{children:"There is a risk of delayed deliveries due to unforeseen circumstances."}),a.jsx("li",{children:"Online transactions may be subject to technical issues or security risks."})]}),a.jsx("h2",{style:{color:"#fbbf24",fontWeight:700,fontSize:"clamp(1.2rem, 2vw, 1.5rem)",marginTop:32},children:"Your Responsibilities"}),a.jsxs("ul",{style:{marginBottom:20,marginLeft:24},children:[a.jsx("li",{children:"Keep your account information secure."}),a.jsx("li",{children:"Review product details and policies before making a purchase."}),a.jsx("li",{children:"Contact us immediately if you suspect any unauthorized activity."})]}),a.jsxs("p",{style:{marginTop:32},children:["For questions or concerns, please reach out to ",a.jsx("span",{style:{color:"#fbbf24",fontWeight:700},children:"support@wolverine house.com"}),"."]})]}),a.jsx(Fa,{})]})};function jA(){Rt();const[t,e]=A.useState(!1),n=()=>{localStorage.removeItem("alfauser"),window.location.href="/login"},r=()=>{e(!t)},s=()=>{e(!1)};return a.jsxs("div",{className:"dashboard-main",children:[a.jsxs("div",{className:"mobile-header d-md-none",children:[a.jsx("button",{className:"hamburger-btn",onClick:r,"aria-label":"Toggle navigation",children:t?a.jsx(xS,{size:24}):a.jsx(bS,{size:24})}),a.jsx("h4",{className:"mobile-title mb-0",children:"Admin Dashboard"})]}),t&&a.jsx("div",{className:"sidebar-overlay d-md-none",onClick:s}),a.jsxs("div",{className:`side-bar ${t?"sidebar-open":""}`,children:[a.jsxs("nav",{className:"nav nav-pills mb-4",children:[a.jsx(jt,{className:"nav-link",to:"/admin",onClick:s,children:"Dashboard"}),a.jsx(jt,{className:"nav-link",to:"/admin/products",onClick:s,children:"Products"}),a.jsx(jt,{className:"nav-link",to:"/admin/chat",onClick:s,children:"Messages"}),a.jsx(jt,{className:"nav-link",to:"/admin/users",onClick:s,children:"Users"}),a.jsx(jt,{className:"nav-link",to:"/admin/orders",onClick:s,children:"Orders"}),a.jsx(jt,{className:"nav-link",to:"/admin/faqs",onClick:s,children:"FAQs"}),a.jsx(jt,{className:"nav-link",to:"/admin/deposits",onClick:s,children:"Deposits"}),a.jsx(jt,{className:"nav-link",to:"/admin/create-order",onClick:s,children:"Create Order"}),a.jsx(jt,{className:"nav-link",to:"/admin/create-product",onClick:s,children:"Create Product"})]}),a.jsxs("div",{className:"admin-header",children:[a.jsxs("button",{className:"button",onClick:n,children:[" ",a.jsx(Xg,{})," Logout"]}),a.jsxs(yt,{className:"button",to:"/",children:[" ",a.jsx(gS,{})," Visit Website"]})]})]}),a.jsx("div",{className:"main-content",children:a.jsx(Vw,{})}),a.jsx("style",{jsx:!0,children:`
        .mobile-header {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          height: 60px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          padding: 0 20px;
          z-index: 1030;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .hamburger-btn {
          background: none;
          border: none;
          color: white;
          font-size: 1.5rem;
          margin-right: 15px;
          cursor: pointer;
          padding: 8px;
          border-radius: 4px;
          transition: background-color 0.3s ease;
        }

        .hamburger-btn:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }

        .mobile-title {
          font-weight: 600;
          font-size: 1.1rem;
        }

        .sidebar-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 1040;
          backdrop-filter: blur(2px);
        }

        @media (max-width: 767.98px) {
          .dashboard-main {
            padding-top: 60px;
          }

          .side-bar {
            position: fixed !important;
            top: 60px;
            left: -100%;
            width: 280px;
            height: calc(100vh - 60px);
            background: white;
            z-index: 1050;
            transition: left 0.3s ease;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
          }

          .side-bar.sidebar-open {
            left: 0;
          }

          .main-content {
            margin-left: 0 !important;
            width: 100% !important;
          }

          .nav-pills .nav-link {
            padding: 12px 20px;
            margin: 2px 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
          }

          .nav-pills .nav-link:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
          }

          .nav-pills .nav-link.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
          }

          .admin-header {
            position: sticky;
            bottom: 0;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 15px 10px;
          }

          .admin-header .button {
            width: 100%;
            margin: 5px 0;
            padding: 10px;
            font-size: 0.9rem;
          }
        }

        @media (min-width: 768px) {
          .mobile-header {
            display: none !important;
          }
          
          .sidebar-overlay {
            display: none !important;
          }
        }
      `})]})}function NA(){Rt();const[t,e]=A.useState(!1),n=()=>{localStorage.removeItem("alfauser"),window.location.href="/login"},r=()=>{e(!t)},s=()=>{e(!1)};return a.jsxs("div",{className:"dashboard-main",children:[a.jsxs("div",{className:"mobile-header d-md-none",children:[a.jsx("button",{className:"hamburger-btn",onClick:r,"aria-label":"Toggle navigation",children:t?a.jsx(xS,{size:24}):a.jsx(bS,{size:24})}),a.jsx("h4",{className:"mobile-title mb-0",children:"Seller Dashboard"})]}),t&&a.jsx("div",{className:"sidebar-overlay d-md-none",onClick:s}),a.jsxs("div",{className:`side-bar ${t?"sidebar-open":""}`,children:[a.jsxs("nav",{className:"nav nav-pills mb-4",children:[a.jsx(jt,{className:"nav-link",to:"/seller",onClick:s,children:"Dashboard"}),a.jsx(jt,{className:"nav-link",to:"/seller/manage-products",onClick:s,children:"Add Your Products"}),a.jsx(jt,{className:"nav-link",to:"/seller/orders",onClick:s,children:"Orders"}),a.jsx(jt,{className:"nav-link",to:"/seller/manage-products",onClick:s,children:"Manage Products"}),a.jsx(jt,{className:"nav-link",to:"/seller/payment-methods",onClick:s,children:"Money Withdraw"}),a.jsx(jt,{className:"nav-link",to:"/seller/shop-settings",onClick:s,children:"Shop Settings"}),a.jsx(jt,{className:"nav-link",to:"/seller/my-profile",onClick:s,children:"My Profile"}),a.jsx(jt,{className:"nav-link",to:"/seller/faqs",onClick:s,children:"FAQs & Help"}),a.jsx(jt,{className:"nav-link",to:"/seller/deposits",onClick:s,children:"Deposit Information"}),a.jsx(jt,{className:"nav-link",to:"/seller/chat",onClick:s,children:"Contact Support"})]}),a.jsxs("div",{className:"admin-header",children:[a.jsxs("button",{className:"button",onClick:n,children:[" ",a.jsx(Xg,{})," Logout"]}),a.jsxs(yt,{className:"button",to:"/",children:[" ",a.jsx(gS,{})," Visit Website"]})]})]}),a.jsx("div",{className:"main-content",children:a.jsx(Vw,{})}),a.jsx("style",{jsx:!0,children:`
        .mobile-header {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          height: 60px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          padding: 0 20px;
          z-index: 1030;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .hamburger-btn {
          background: none;
          border: none;
          color: white;
          font-size: 1.5rem;
          margin-right: 15px;
          cursor: pointer;
          padding: 8px;
          border-radius: 4px;
          transition: background-color 0.3s ease;
        }

        .hamburger-btn:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }

        .mobile-title {
          font-weight: 600;
          font-size: 1.1rem;
        }

        .sidebar-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 1040;
          backdrop-filter: blur(2px);
        }

        @media (max-width: 767.98px) {
          .dashboard-main {
            padding-top: 60px;
          }

          .side-bar {
            position: fixed !important;
            top: 60px;
            left: -100%;
            width: 280px;
            height: calc(100vh - 60px);
            background: white;
            z-index: 1050;
            transition: left 0.3s ease;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
          }

          .side-bar.sidebar-open {
            left: 0;
          }

          .main-content {
            margin-left: 0 !important;
            width: 100% !important;
          }

          .nav-pills .nav-link {
            padding: 12px 20px;
            margin: 2px 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
          }

          .nav-pills .nav-link:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
          }

          .nav-pills .nav-link.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
          }

          .admin-header {
            position: sticky;
            bottom: 0;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            padding: 15px 10px;
          }

          .admin-header .button {
            width: 100%;
            margin: 5px 0;
            padding: 10px;
            font-size: 0.9rem;
          }
        }

        @media (min-width: 768px) {
          .mobile-header {
            display: none !important;
          }
          
          .sidebar-overlay {
            display: none !important;
          }
        }
      `})]})}const kA="https://backvolverine.vercel.app/api";function EA(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,o]=A.useState(""),c=async()=>{r(!0);try{const u=await ge.get(`${kA}/products`);e(u.data)}catch{o("Failed to fetch products")}finally{r(!1)}};return A.useEffect(()=>{c()},[]),n?a.jsx("div",{children:"Loading products..."}):s?a.jsx("div",{children:s}):a.jsxs("div",{children:[a.jsx("h4",{children:"Product List"}),a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Price"}),a.jsx("th",{children:"Discounted Price"}),a.jsx("th",{children:"Image"})]})}),a.jsx("tbody",{children:t.map(u=>a.jsxs("tr",{children:[a.jsx("td",{children:u.name?.substring(0,30)||u.title?.substring(0,30)}),a.jsxs("td",{children:["$",u.price]}),a.jsxs("td",{children:["$",u.discountedPrice||u.discountPrice||"-"]}),a.jsx("td",{children:u.image||u.imageUrl?a.jsx("img",{src:u.image||u.imageUrl,alt:u.name,style:{width:60,height:60,objectFit:"cover"}}):"No Image"})]},u._id||u.id))})]})})]})}function CA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function TA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},child:[]},{tag:"path",attr:{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},child:[]}]})(t)}function OA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function cg(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function Gv(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function n0(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function AA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function r0(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function MA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Xd(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function i0(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function RA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function ZS(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function dg(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function um(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function DA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function _A(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function zA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"4",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"20",x2:"5",y2:"20"},child:[]},{tag:"line",attr:{x1:"15",y1:"4",x2:"9",y2:"20"},child:[]}]})(t)}function LA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function PA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function BA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function HA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(t)}function IA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"},child:[]},{tag:"polyline",attr:{points:"20 10 14 10 14 4"},child:[]},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(t)}function UA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function ej(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function FA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function s0(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function sf(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function qA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function a0(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Qv(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function VA(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"},child:[]},{tag:"line",attr:{x1:"4",y1:"21",x2:"20",y2:"21"},child:[]}]})(t)}function $A(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function Jv(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function wl(t){return pe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Yr="https://backvolverine.vercel.app/api",nr=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return console.log("OrderService: Getting auth header for user:",{userId:t?._id,role:t?.role,hasToken:!!t?.token}),t?.token?{Authorization:`Bearer ${t.token}`}:{}},WA=async t=>{try{console.log("OrderService: Creating order with data:",t),console.log("OrderService: Auth header:",nr());const e=await ge.post(`${Yr}/orders`,t,{headers:nr()});return console.log("OrderService: Order created successfully:",e.data),e.data}catch(e){throw console.error("OrderService: Error creating order:",e),console.error("OrderService: Error response:",e.response?.data),console.error("OrderService: Error status:",e.response?.status),e}},o0=async()=>{try{return(await ge.get(`${Yr}/orders`,{headers:nr()})).data}catch(t){throw console.error("Error fetching orders:",t),t}},Zd=async t=>{try{return(await ge.get(`${Yr}/orders/${t}`,{headers:nr()})).data}catch(e){throw console.error("Error fetching order:",e),e}},YA=async(t,e)=>{try{return(await ge.put(`${Yr}/orders/${t}`,e,{headers:nr()})).data}catch(n){throw console.error("Error updating order:",n),n}},KA=async(t,e)=>{try{console.log("OrderService: Updating order status:",{orderId:t,status:e}),console.log("OrderService: Auth header:",nr());const n=await ge.post(`${Yr}/orders/${t}/status`,{status:e},{headers:nr()});return console.log("OrderService: Status updated successfully:",n.data),n.data}catch(n){throw console.error("OrderService: Error updating order status:",n),console.error("OrderService: Error response:",n.response?.data),console.error("OrderService: Error status:",n.response?.status),n}},GA=async t=>{try{return(await ge.delete(`${Yr}/orders/${t}`,{headers:nr()})).data}catch(e){throw console.error("Error deleting order:",e),e}},QA=async(t,e,n="")=>{try{console.log("OrderService: Seller responding to order:",{orderId:t,response:e,rejectionReason:n}),console.log("OrderService: Auth header:",nr());const r=await ge.post(`${Yr}/orders/${t}/response`,{response:e,rejectionReason:n},{headers:nr()});return console.log("OrderService: Seller response successful:",r.data),r.data}catch(r){throw console.error("OrderService: Error responding to order:",r),console.error("OrderService: Error response:",r.response?.data),console.error("OrderService: Error status:",r.response?.status),r}},tj=QA,Hl=async(t=null)=>{try{const e=t?`${Yr}/orders/stats/${t}`:`${Yr}/orders/stats`;return(await ge.get(e,{headers:nr()})).data}catch(e){throw console.error("Error fetching order stats:",e),e}},l0=({order:t,onClose:e})=>{if(!t)return null;const n=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=o=>{switch(o){case"pending":return"bg-warning";case"processing":return"bg-info";case"picked":return"bg-primary";case"delivered":return"bg-success";case"rejected":return"bg-danger";default:return"bg-secondary"}},s=o=>{switch(o){case"pending":return"bg-warning";case"accepted":return"bg-success";case"rejected":return"bg-danger";default:return"bg-secondary"}};return a.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header bg-primary text-white",children:[a.jsxs("h5",{className:"modal-title",children:["Order Details - ",t.orderNumber]}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:e})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"row mb-4",children:[a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h6",{className:"mb-0",children:"Order Information"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Order Number:"})," ",t.orderNumber]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Created:"})," ",n(t.createdAt)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"}),a.jsx("span",{className:`badge ${r(t.status)} ms-2`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Seller Response:"}),a.jsx("span",{className:`badge ${s(t.sellerResponse)} ms-2`,children:t.sellerResponse.charAt(0).toUpperCase()+t.sellerResponse.slice(1)})]}),t.acceptedAt&&a.jsxs("p",{children:[a.jsx("strong",{children:"Accepted At:"})," ",n(t.acceptedAt)]}),t.deliveredAt&&a.jsxs("p",{children:[a.jsx("strong",{children:"Delivered At:"})," ",n(t.deliveredAt)]})]})]})}),a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h6",{className:"mb-0",children:"Seller Information"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",t.seller?.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Shop:"})," ",t.seller?.shopName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",t.seller?.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Credit Balance:"})," $",t.seller?.creditAmount||0]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Pending Amount:"})," $",t.seller?.pendingAmount||0]})]})]})})]}),a.jsxs("div",{className:"card mb-4",children:[a.jsx("div",{className:"card-header",children:a.jsx("h6",{className:"mb-0",children:"Order Items"})}),a.jsxs("div",{className:"card-body",children:[a.jsx("div",{className:"d-none d-md-block table-responsive",children:a.jsxs("table",{className:"modal-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Product"}),a.jsx("th",{children:"Image"}),a.jsx("th",{children:"Original Price"}),a.jsx("th",{children:"Discounted Price"}),a.jsx("th",{children:"Quantity"}),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Profit"})]})}),a.jsx("tbody",{children:t.items?.map((o,c)=>a.jsxs("tr",{children:[a.jsx("td",{children:o.product?.name}),a.jsx("td",{children:o.product?.image&&a.jsx("img",{src:o.product.image,alt:o.product.name,style:{width:"40px",height:"40px",objectFit:"cover"},className:"rounded"})}),a.jsxs("td",{children:["$",o.originalPrice]}),a.jsxs("td",{children:["$",o.discountedPrice]}),a.jsx("td",{children:o.quantity}),a.jsxs("td",{children:["$",o.totalPrice.toFixed(2)]}),a.jsxs("td",{className:"text-success",children:["$",o.profit.toFixed(2)]})]},c))})]})}),a.jsx("div",{className:"d-block d-md-none",children:t.items?.map((o,c)=>a.jsxs("div",{className:"order-item-card mb-3 p-3 card shadow-sm",children:[a.jsxs("div",{className:"d-flex align-items-center mb-2",children:[o.product?.image&&a.jsx("img",{src:o.product.image,alt:o.product.name,style:{width:"48px",height:"48px",objectFit:"cover"},className:"rounded me-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"fw-bold",children:o.product?.name}),a.jsxs("div",{className:"text-muted",style:{fontSize:"0.95em"},children:["Qty: ",o.quantity]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-6",children:[a.jsxs("div",{children:["Original: ",a.jsxs("span",{className:"text-secondary",children:["$",o.originalPrice]})]}),a.jsxs("div",{children:["Discount: ",a.jsxs("span",{className:"text-danger",children:["$",o.discountedPrice]})]})]}),a.jsxs("div",{className:"col-6",children:[a.jsxs("div",{children:["Total: ",a.jsxs("span",{className:"text-primary",children:["$",o.totalPrice.toFixed(2)]})]}),a.jsxs("div",{children:["Profit: ",a.jsxs("span",{className:"text-success",children:["$",o.profit.toFixed(2)]})]})]})]})]},c))})]})]}),a.jsx("div",{className:"card mb-4",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-primary",children:["Total Amount: $",t.totalAmount?.toFixed(2)]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-success",children:["Total Profit: $",t.totalProfit?.toFixed(2)]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-info",children:["Items: ",t.items?.length]})})]})})}),t.notes&&a.jsxs("div",{className:"card mb-4",children:[a.jsx("div",{className:"card-header",children:a.jsx("h6",{className:"mb-0",children:"Notes"})}),a.jsx("div",{className:"card-body",children:a.jsx("p",{className:"mb-0",children:t.notes})})]}),t.rejectionReason&&a.jsxs("div",{className:"card mb-4",children:[a.jsx("div",{className:"card-header bg-danger text-white",children:a.jsx("h6",{className:"mb-0",children:"Rejection Reason"})}),a.jsx("div",{className:"card-body",children:a.jsx("p",{className:"mb-0 text-danger",children:t.rejectionReason})})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Close"})})]})})})};function JA(t){return pe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M41 7C31.6-2.3 16.4-2.3 7 7S-2.3 31.6 7 41l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L41 7zM599 7L527 79c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0zM7 505c9.4 9.4 24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L7 471c-9.4 9.4-9.4 24.6 0 33.9zm592 0c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72zM320 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128zM212.1 336c-2.7 7.5-4.1 15.6-4.1 24c0 13.3 10.7 24 24 24l176 0c13.3 0 24-10.7 24-24c0-8.4-1.4-16.5-4.1-24c-.5-1.4-1-2.7-1.6-4c-9.4-22.3-29.8-38.9-54.3-43c-3.9-.7-7.9-1-12-1l-80 0c-4.1 0-8.1 .3-12 1c-.8 .1-1.7 .3-2.5 .5c-24.9 5.1-45.1 23-53.4 46.5zM175.8 224a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm-26.5 32C119.9 256 96 279.9 96 309.3c0 14.7 11.9 26.7 26.7 26.7l56.1 0c8-34.1 32.8-61.7 65.2-73.6c-7.5-4.1-16.2-6.4-25.3-6.4l-69.3 0zm368 80c14.7 0 26.7-11.9 26.7-26.7c0-29.5-23.9-53.3-53.3-53.3l-69.3 0c-9.2 0-17.8 2.3-25.3 6.4c32.4 11.9 57.2 39.5 65.2 73.6l56.1 0zM464 224a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"},child:[]}]})(t)}const XA="https://backvolverine.vercel.app/api",c0=({stats:t,acceptedProfit:e})=>{const n=JSON.parse(localStorage.getItem("alfauser")),[r,s]=A.useState({creditAmount:0,pendingAmount:0}),[o,c]=A.useState(!0);if(A.useEffect(()=>{const h=async()=>{try{const p=await ge.get(`${XA}/users/me`,{headers:{Authorization:`Bearer ${n?.token}`}});s({creditAmount:p.data.creditAmount||0,pendingAmount:p.data.pendingAmount||0})}catch(p){console.error("Error fetching balance:",p)}finally{c(!1)}};n?.token&&h()},[n?.token]),o)return a.jsx("div",{className:"card border-0",style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"24px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:a.jsxs("div",{className:"card-body text-center py-5",children:[a.jsx("div",{className:"spinner-border",style:{color:"#667eea"},role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})}),a.jsx("p",{className:"text-muted mt-3 mb-0",style:{display:"none"},children:"Loading balance..."})]})});const u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h);return a.jsxs("div",{className:"card border-0 mb-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",borderRadius:"24px",boxShadow:"0 20px 40px rgba(102, 126, 234, 0.15)",overflow:"hidden",position:"relative"},children:[a.jsx("div",{className:"card-header border-0",style:{background:"transparent",padding:"2rem 2rem 1rem"},children:a.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:a.jsxs("div",{className:"d-flex align-items-center mb-2 mb-md-0",children:[a.jsx("div",{className:"me-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"16px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-wallet text-white",style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)"}})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white fw-bold mb-1",style:{fontSize:"clamp(1.2rem, 4vw, 1.5rem)"},children:"Account Balance"}),a.jsx("p",{className:"text-white-50 mb-0 small",children:"Your earnings overview"})]})]})})}),a.jsxs("div",{className:"card-body",style:{padding:"1rem 2rem 2rem"},children:[a.jsxs("div",{className:"row g-3 g-md-4",children:[a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"h-100 p-4 text-center",style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.background="rgba(255, 255, 255, 0.15)"},children:[a.jsx("div",{className:"mx-auto mb-3",style:{width:"50px",height:"50px",background:"rgba(34, 197, 94, 0.3)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("i",{className:"fas fa-coins text-white fs-4"})}),a.jsx("h6",{className:"text-white-75 mb-2 fw-medium",style:{fontSize:"clamp(0.8rem, 2.5vw, 0.9rem)"},children:"Available Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-2",style:{fontSize:"clamp(1.3rem, 5vw, 1.8rem)"},children:u(r.creditAmount)}),a.jsx("small",{className:"text-white-50 fw-medium",children:"Ready for new orders"}),a.jsx("div",{style:{position:"absolute",top:"-30%",right:"-30%",width:"60px",height:"60px",background:"rgba(34, 197, 94, 0.1)",borderRadius:"50%",filter:"blur(20px)"}})]})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"h-100 p-4 text-center",style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.background="rgba(255, 255, 255, 0.15)"},children:[a.jsx("div",{className:"mx-auto mb-3",style:{width:"50px",height:"50px",background:"rgba(251, 191, 36, 0.3)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("i",{className:"fas fa-clock text-white fs-4"})}),a.jsx("h6",{className:"text-white-75 mb-2 fw-medium",style:{fontSize:"clamp(0.8rem, 2.5vw, 0.9rem)"},children:"Pending Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-2",style:{fontSize:"clamp(1.3rem, 5vw, 1.8rem)"},children:u(r.pendingAmount+(e||0))}),a.jsx("div",{style:{position:"absolute",top:"-30%",right:"-30%",width:"60px",height:"60px",background:"rgba(251, 191, 36, 0.1)",borderRadius:"50%",filter:"blur(20px)"}})]})})]}),r.creditAmount<50&&a.jsxs("div",{className:"mt-4 p-3 d-flex align-items-center",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(245, 101, 101, 0.15) 100%)",borderRadius:"16px",border:"1px solid rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},children:[a.jsx("div",{className:"me-3",style:{width:"40px",height:"40px",background:"rgba(239, 68, 68, 0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("i",{className:"fas fa-exclamation-triangle text-white"})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"text-white fw-bold mb-1",style:{display:"none"},children:"Low Balance Warning"}),a.jsx("small",{className:"text-white-75",style:{display:"none"},children:"Your balance is low. Please recharge to accept new orders."})]})]})]}),a.jsx("div",{style:{position:"absolute",bottom:"-50%",left:"-20%",width:"200px",height:"200px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"50%",filter:"blur(60px)",pointerEvents:"none"}})]})},nj=({stats:t,formatCurrency:e})=>{const[n,r]=A.useState(null),[s,o]=A.useState(!1),[c,u]=A.useState({amount:"",accountDetails:"",email:"",walletAddress:"",accountNumber:"",routingNumber:"",notes:""}),h=v=>{r(v),o(!0)},p=()=>{o(!1),r(null),u({amount:"",accountDetails:"",email:"",walletAddress:"",accountNumber:"",routingNumber:"",notes:""})},m=v=>{v.preventDefault();const w=t?.creditAmount||0,j=parseFloat(c.amount);if(j>w){Ye("Withdrawal amount cannot exceed available credit balance.");return}if(j<10){Ye("Minimum withdrawal amount is $10.");return}EC("Sorry, this payment method is not available in your region at the moment. Please contact our support team for assistance or try another payment method."),p()},x=(v,w)=>{u(j=>({...j,[v]:w}))},y=v=>({paypal:{title:"PayPal Withdrawal",icon:"fab fa-paypal",fields:["email"],minAmount:10,processingTime:"1-2 business days",notValidIn:["IN","PK"]},stripe:{title:"Bank Transfer (Stripe)",icon:"fab fa-stripe",fields:["accountNumber","routingNumber"],minAmount:25,processingTime:"3-5 business days",notValidIn:["IN","PK"]},wise:{title:"Wise International Transfer",icon:"fas fa-university",fields:["accountDetails"],minAmount:20,processingTime:"1-3 business days",notValidIn:["IN","PK"]},payoneer:{title:"Payoneer Transfer",icon:"fas fa-university",fields:["accountDetails"],minAmount:30,processingTime:"2-4 business days",notValidIn:["IN","PK"]},skrill:{title:"Skrill E-wallet",icon:"fas fa-credit-card",fields:["email"],minAmount:15,processingTime:"1-2 business days",notValidIn:["IN","PK"]},neteller:{title:"Neteller Digital Wallet",icon:"fas fa-wallet",fields:["email"],minAmount:15,processingTime:"1-2 business days",notValidIn:["IN","PK"]},perfectmoney:{title:"Perfect Money",icon:"fas fa-money-check-alt",fields:["accountDetails"],minAmount:10,processingTime:"Within 24 hours",notValidIn:["IN","PK"]},webmoney:{title:"WebMoney",icon:"fas fa-globe",fields:["accountDetails"],minAmount:20,processingTime:"Within 24 hours",notValidIn:["IN","PK"]}})[v]||{};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card mb-5",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%)",border:"none",borderRadius:"20px",boxShadow:"0 20px 40px rgba(99, 102, 241, 0.15)"},children:a.jsxs("div",{className:"card-body p-4 p-md-5",children:[a.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 me-3 me-md-4",style:{backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-money-bill-wave text-white fs-4 fs-md-3"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-1 mb-md-2 fw-bold",style:{fontSize:"clamp(1.2rem, 4vw, 1.5rem)"},children:"Withdraw Your Earnings"}),a.jsx("p",{className:"text-white-50 mb-0 small",children:"Select your preferred payment method to get started"})]})]}),a.jsxs("div",{className:"text-start text-md-end",children:[a.jsx("p",{className:"text-white-50 mb-1 small fw-medium",children:"Available Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{textShadow:"0 2px 4px rgba(0,0,0,0.1)",fontSize:"clamp(1.3rem, 5vw, 1.8rem)"},children:e(t?.creditAmount||0)})]})]}),a.jsxs("div",{className:"row g-3 g-md-4",children:[a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("paypal"),style:{background:"linear-gradient(135deg, #003087 0%, #009cde 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 48, 135, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(0, 48, 135, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(0, 48, 135, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fab fa-paypal",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"PayPal"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Instant & Secure"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("stripe"),style:{background:"linear-gradient(135deg, #635bff 0%, #7c3aed 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(99, 91, 255, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(99, 91, 255, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(99, 91, 255, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fab fa-stripe-s",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Stripe"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Bank Transfer"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("wise"),style:{background:"linear-gradient(135deg, #00b9ff 0%, #0066cc 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 185, 255, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(0, 185, 255, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(0, 185, 255, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-globe-americas",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Wise"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"International"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("skrill"),style:{background:"linear-gradient(135deg, #862165 0%, #b83280 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(134, 33, 101, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(134, 33, 101, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(134, 33, 101, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-wallet",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Skrill"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"E-wallet"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("neteller"),style:{background:"linear-gradient(135deg, #00ac41 0%, #00d4aa 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 172, 65, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(0, 172, 65, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(0, 172, 65, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-credit-card",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Neteller"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Digital Wallet"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("perfectmoney"),style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(30, 64, 175, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(30, 64, 175, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(30, 64, 175, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-money-check-alt",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Perfect Money"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Online Payment"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>h("webmoney"),style:{background:"linear-gradient(135deg, #dc2626 0%, #f59e0b 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(220, 38, 38, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-8px) scale(1.02)",v.currentTarget.style.boxShadow="0 20px 40px rgba(220, 38, 38, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0) scale(1)",v.currentTarget.style.boxShadow="0 8px 32px rgba(220, 38, 38, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-globe",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"WebMoney"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Global Payment"})]})})]})]})}),s&&n&&a.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},onClick:p,children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",onClick:v=>v.stopPropagation(),children:a.jsxs("div",{className:"modal-content",style:{border:"none",borderRadius:"20px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)"},children:[a.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%)",border:"none",padding:"25px 30px"},children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",style:{width:"50px",height:"50px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:`${y(n).icon} text-white fs-4`})}),a.jsxs("div",{children:[a.jsx("h5",{className:"modal-title text-black fw-bold mb-1",children:y(n).title}),a.jsxs("small",{className:"text-black-75",children:["Processing time: ",y(n).processingTime]})]})]}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:p})]}),a.jsxs("div",{className:"modal-body p-4",children:[a.jsxs("div",{className:"row mb-4",children:[a.jsx("div",{className:"col-md-6",children:a.jsx("div",{className:"p-3 rounded-3",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)"},children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("small",{className:"opacity-75",children:"Available Balance"}),a.jsx("h4",{className:"fw-bold mb-0",children:e(t?.creditAmount||0)})]})})}),a.jsx("div",{className:"col-md-6",children:a.jsx("div",{className:"p-3 rounded-3",style:{background:"linear-gradient(135deg, #fd7e14 0%, #ffc107 100%)"},children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("small",{className:"opacity-75",children:"Minimum Withdrawal"}),a.jsx("h4",{className:"fw-bold mb-0",children:e(y(n).minAmount||10)})]})})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-dollar-sign me-2"}),"Withdrawal Amount"]}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"0.00",value:c.amount,onChange:v=>x("amount",v.target.value),min:y(n).minAmount||10,max:t?.creditAmount||0,step:"0.01",required:!0,style:{borderRadius:"0 10px 10px 0"}})]}),a.jsxs("small",{className:"text-muted",children:["Min: $",y(n).minAmount||10," | Max: ",e(t?.creditAmount||0)]})]}),y(n).fields?.includes("email")&&a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-envelope me-2"}),"Email Address"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"your@email.com",value:c.email,onChange:v=>x("email",v.target.value),required:!0,style:{borderRadius:"10px"}})]}),y(n).fields?.includes("walletAddress")&&a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fab fa-bitcoin me-2"}),"Wallet Address"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your crypto wallet address",value:c.walletAddress,onChange:v=>x("walletAddress",v.target.value),required:!0,style:{borderRadius:"10px"}}),a.jsx("small",{className:"text-muted",children:"Bitcoin, USDT, or Ethereum address"})]}),y(n).fields?.includes("accountNumber")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-university me-2"}),"Account Number"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter account number",value:c.accountNumber,onChange:v=>x("accountNumber",v.target.value),required:!0,style:{borderRadius:"10px"}})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-code-branch me-2"}),"Routing Number"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter routing number",value:c.routingNumber,onChange:v=>x("routingNumber",v.target.value),required:!0,style:{borderRadius:"10px"}})]})]}),y(n).fields?.includes("accountDetails")&&a.jsxs("div",{className:"col-12 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-info-circle me-2"}),"Account Details"]}),a.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Enter your account details (IBAN, SWIFT, account name, etc.)",value:c.accountDetails,onChange:v=>x("accountDetails",v.target.value),required:!0,style:{borderRadius:"10px"}})]}),a.jsxs("div",{className:"col-12 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-sticky-note me-2"}),"Additional Notes (Optional)"]}),a.jsx("textarea",{className:"form-control",rows:"2",placeholder:"Any additional information or special instructions",value:c.notes,onChange:v=>x("notes",v.target.value),style:{borderRadius:"10px"}})]})]}),a.jsxs("div",{className:"alert alert-info d-flex align-items-center",style:{background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",border:"none",borderRadius:"10px"},children:[a.jsx("i",{className:"fas fa-info-circle me-2"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Processing Information:"}),a.jsxs("ul",{className:"mb-0 mt-1",children:[a.jsxs("li",{children:["Withdrawal requests are processed within ",y(n).processingTime]}),a.jsx("li",{children:"A 2% processing fee will be deducted from your withdrawal amount"}),a.jsx("li",{children:"You will receive email confirmation once processed"})]})]})]}),a.jsxs("div",{className:"d-flex gap-3 mt-4",children:[a.jsx("button",{type:"button",className:"btn btn-outline-secondary flex-fill py-2",onClick:p,style:{borderRadius:"10px"},children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn btn-primary flex-fill py-2",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",fontWeight:"600",boxShadow:"0 4px 20px rgba(99, 102, 241, 0.3)"},children:[a.jsx("i",{className:"fas fa-paper-plane me-2"}),"Submit Withdrawal Request"]})]})]})]})]})})})]})},ZA=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState([]),[s,o]=A.useState({}),[c,u]=A.useState(!0),[h,p]=A.useState(""),[m,x]=A.useState(null),[y,v]=A.useState("all"),[w,j]=A.useState("all"),[C,O]=A.useState(null),[V,q]=A.useState(!1),Q=A.useCallback(async()=>{try{u(!0);const[M,T]=await Promise.all([o0(),Hl()]);r(M),o(T),p("")}catch(M){console.error("Error fetching orders:",M),p("Failed to load orders")}finally{u(!1)}},[]);A.useEffect(()=>{if(t?.role!=="seller"){e("/");return}Q()},[t?.role,Q,e]);const z=async(M,T,te="")=>{try{x(M),console.log(`Attempting to ${T} order ${M}`,{response:T,rejectionReason:te});const U=await tj(M,T,te);console.log(`Order ${T} successfully:`,U),Q(),mr(`Order ${T} successfully!`)}catch(U){console.error(`Error ${T}ing order:`,U),console.error("Error details:",U.response?.data);let N=`Failed to ${T} order`;U.response?.data?.message?N=U.response.data.message:U.response?.data?.required&&U.response?.data?.available&&(N=`Insufficient balance. Required: $${U.response.data.required}, Available: $${U.response.data.available}`),Ye(N)}finally{x(null)}},B=async M=>{try{const T=await Zd(M);O(T),q(!0)}catch(T){console.error("Error fetching order details:",T),Ye("Failed to load order details")}},_=()=>{q(!1),O(null)},I=M=>{const T=`Are you sure you want to accept this order?

Order Details:
- Order Number: ${M.orderNumber}
- Total Amount: $${M.totalAmount.toFixed(2)}
- Items: ${M.items.length}

This amount will be deducted from your credit balance.`;window.confirm(T)&&z(M._id,"accepted")},R=M=>{const T=prompt("Please provide a reason for rejection (optional):");T!==null&&z(M,"rejected",T)},E=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),H=n.filter(M=>{const T=y==="all"||M.status===y,te=w==="all"||M.sellerResponse===w;return T&&te});if(c)return a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})});const $=n.filter(M=>M.sellerResponse==="accepted"&&M.status!=="delivered").reduce((M,T)=>M+(T.totalProfit||0),0);return a.jsxs("div",{className:"container mt-4 admin-orders-page",children:[a.jsxs("div",{className:"admin-header d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"admin-title",children:"My Orders"}),a.jsx("p",{className:"admin-subtitle text-muted",children:"View and manage your orders"})]}),a.jsxs("div",{className:"text-muted admin-stats-number",children:["Total Orders: ",n.length]})]}),a.jsx("div",{className:"mb-4",children:a.jsx(c0,{stats:s,acceptedProfit:$})}),h&&a.jsx("div",{className:"alert alert-danger",role:"alert",children:h}),a.jsxs("div",{className:"row mb-4 admin-stats-row",children:[a.jsxs("div",{className:"col-md-6 mb-3 mb-md-0",children:[a.jsx("label",{className:"form-label admin-filter-label",children:"Filter by Status"}),a.jsxs("select",{className:"form-select admin-filter-select",value:y,onChange:M=>v(M.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"picked",children:"Picked"}),a.jsx("option",{value:"delivered",children:"Delivered"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{className:"form-label admin-filter-label",children:"Filter by Response"}),a.jsxs("select",{className:"form-select admin-filter-select",value:w,onChange:M=>j(M.target.value),children:[a.jsx("option",{value:"all",children:"All Responses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"accepted",children:"Accepted"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),a.jsxs("h5",{className:"card-title mb-0",children:["Orders (",H.length,")"]}),a.jsx("div",{className:"card-body order-table",children:H.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("i",{className:"fas fa-inbox fa-3x text-muted mb-3"}),a.jsx("p",{className:"text-muted",children:"No orders found with the selected filters"})]}):a.jsx("div",{className:"table-responsive ",children:a.jsxs("table",{className:"order-table",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Order #"}),a.jsx("th",{children:"Products"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Profit"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Response"}),a.jsx("th",{children:"Created"}),a.jsx("th",{children:"Notes"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:H.map(M=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{className:"text-muted",children:M.orderNumber})}),a.jsx("td",{children:M.items.map((T,te)=>a.jsx("div",{className:"mb-1",children:a.jsxs("div",{className:"d-flex align-items-center",children:[T?.product?.image&&a.jsx("img",{src:T?.product?.image,alt:T?.product?.name,className:"rounded me-2",style:{width:"30px",height:"30px",objectFit:"cover"}}),a.jsxs("small",{children:[T?.product?.name," x",T?.quantity,a.jsx("br",{}),a.jsxs("span",{className:"text-muted",children:[E(T?.discountedPrice)," each"]})]})]})},te))}),a.jsx("td",{children:a.jsx("strong",{children:E(M?.totalAmount)})}),a.jsx("td",{children:a.jsxs("span",{className:"text-success",children:["+",E(M?.totalProfit)]})}),a.jsx("td",{children:a.jsx("span",{className:`order-badge ${M?.status}`,children:M?.status})}),a.jsx("td",{children:a.jsx("span",{className:`order-badge ${M?.sellerResponse}`,children:M?.sellerResponse})}),a.jsx("td",{children:a.jsxs("small",{className:"text-muted",children:[new Date(M?.createdAt).toLocaleDateString(),a.jsx("br",{}),new Date(M?.createdAt).toLocaleTimeString()]})}),a.jsxs("td",{children:[M?.notes&&a.jsx("small",{className:"text-muted",children:M?.notes?.length>30?`${M?.notes?.substring(0,30)}...`:M?.notes}),M?.rejectionReason&&a.jsxs("small",{className:"text-danger",children:[a.jsx("br",{}),"Rejection: ",M?.rejectionReason]})]}),a.jsx("td",{children:a.jsxs("div",{className:"actions",children:[a.jsx("button",{className:"icon-action view mb-1",onClick:()=>B(M._id),title:"View Order Details",children:"View"}),M.sellerResponse==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"icon-action edit mb-1",onClick:()=>I(M),disabled:m===M?._id,children:m===M?._id?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm"})," Processing..."]}):a.jsx(a.Fragment,{children:"Accept"})}),a.jsx("button",{className:"icon-action delete",onClick:()=>R(M._id),disabled:m===M._id,children:"Reject"})]})]})})]},M._id))})]})})}),a.jsx(nj,{stats:s,formatCurrency:E}),V&&C&&a.jsx(l0,{order:C,onClose:_})]})},Il="https://backvolverine.vercel.app/api",Ul=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return{Accept:"application/json","Content-Type":"application/json",Authorization:t?.token?`Bearer ${t.token}`:""}},eM=async()=>{try{const t=Ul(),e=await fetch(`${Il}/seller-products/available`,{method:"GET",headers:t,mode:"cors"});if(!e.ok){const n=await e.text();throw console.error("API Error:",e.status,n),new Error(`Failed to fetch available products: ${e.status}`)}return await e.json()}catch(t){throw console.error("Fetch error:",t),t}},Xv=async t=>{try{const e=Ul(),n=await fetch(`${Il}/seller-products/add`,{method:"POST",headers:e,mode:"cors",body:JSON.stringify(t)});if(!n.ok){let r;try{r=await n.json()}catch{r={}}throw new Error(r.message||"Failed to add product to inventory")}return await n.json()}catch(e){throw console.error("Add product error:",e),e}},rj=async()=>{try{const t=Ul(),e=await fetch(`${Il}/seller-products/my-products`,{method:"GET",headers:t,mode:"cors"});if(!e.ok){const n=await e.text();throw console.error("API Error:",e.status,n),new Error(`Failed to fetch seller products: ${e.status}`)}return await e.json()}catch(t){throw console.error("Fetch error:",t),t}},Zv=async t=>{try{const e=Ul(),n=await fetch(`${Il}/seller-products/${t}`,{method:"DELETE",headers:e,mode:"cors"});if(!n.ok){let r;try{r=await n.json()}catch{r={}}throw new Error(r.message||"Failed to remove product")}return await n.json()}catch(e){throw console.error("Remove product error:",e),e}},tM=async t=>{try{const e=Ul(),n=await fetch(`${Il}/seller-products/seller/${t}`,{method:"GET",headers:e,mode:"cors"});if(!n.ok){const r=await n.text();throw console.error("API Error:",n.status,r),new Error(`Failed to fetch seller products: ${n.status}`)}return await n.json()}catch(e){throw console.error("Fetch error:",e),e}};function nM(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,o]=A.useState(!0),[c,u]=A.useState(!1),[h,p]=A.useState(null),[m,x]=A.useState({productSelected:!1}),[y,v]=A.useState([]),[w,j]=A.useState([]),C=R=>{v(E=>E.includes(R)?E.filter(H=>H!==R):[...E,R])},O=R=>{j(E=>E.includes(R)?E.filter(H=>H!==R):[...E,R])},V=async()=>{if(y.length!==0)try{o(!0),await Promise.all(y.map(async R=>{const E=t.find(H=>H._id===R);if(E){const H={productId:E._id,sellerQuantity:9999,sellerPrice:E.price,sellerDiscountedPrice:E.discountedPrice};try{await Xv(H)}catch{}}})),v([]),z(),mr("Selected products added!")}catch(R){Ye("Error adding selected products: "+R.message)}finally{o(!1)}},q=async()=>{t.length!==0&&(v(t.map(R=>R._id)),await V())},Q=async()=>{if(w.length!==0&&window.confirm("Remove selected products from your inventory?"))try{o(!0),await Promise.all(w.map(async R=>{try{await Zv(R)}catch{}})),j([]),z(),mr("Selected products removed!")}catch(R){Ye("Error removing selected products: "+R.message)}finally{o(!1)}};A.useEffect(()=>{z()},[]);const z=async()=>{try{o(!0);const[R,E]=await Promise.all([eM(),rj()]);e(R),r(E)}catch(R){console.error("Error fetching data:",R),Ye("Error loading data: "+R.message)}finally{o(!1)}},B=R=>{p(R),x({productSelected:!0}),u(!0)},_=async R=>{R.preventDefault();try{const E={productId:h._id,sellerQuantity:9999,sellerPrice:h.price,sellerDiscountedPrice:h.discountedPrice};await Xv(E),u(!1),p(null),x({productSelected:!1}),z(),mr("Product added to your inventory successfully!")}catch(E){console.error("Error adding product:",E),Ye("Error adding product: "+E.message)}},I=async R=>{if(window.confirm("Are you sure you want to remove this product from your inventory?"))try{await Zv(R),z(),mr("Product removed from inventory successfully!")}catch(E){console.error("Error removing product:",E),Ye("Error removing product: "+E.message)}};return s?a.jsx("div",{className:"loading",children:"Loading..."}):a.jsxs("div",{className:"seller-product-management",children:[a.jsx("h2",{children:"Product Management"}),a.jsxs("div",{className:"my-products-section",children:[a.jsxs("h3",{children:["My Products (",n.length,")"]}),a.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:a.jsx("button",{className:"remove-btn",style:{width:"auto",padding:"6px 16px"},disabled:w.length===0,onClick:Q,children:"Remove Selected"})}),n.length===0?a.jsx("p",{children:"No products in your inventory yet. Add some products below!"}):a.jsx("div",{className:"products-grid",children:n.map(R=>a.jsxs("div",{className:"product-card",children:[a.jsx("input",{type:"checkbox",checked:w.includes(R._id),onChange:()=>O(R._id),style:{position:"absolute",top:8,left:8,zIndex:2}}),a.jsx("div",{className:"product-image",children:a.jsx("img",{src:R.product&&R.product.image?R.product.image:"/default-image.jpg",alt:R.product&&R.product.name?R.product.name:"Unknown Product"})}),a.jsxs("div",{className:"product-info",children:[a.jsx("h4",{children:R.product&&R.product.name?R.product.name:"Unknown Product"}),a.jsx("p",{className:"category",children:R.product&&R.product.category?R.product.category:""}),a.jsx("div",{className:"pricing",children:R.sellerDiscountedPrice?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"original-price",children:["$",R.sellerPrice]}),a.jsxs("span",{className:"discounted-price",children:["$",R.sellerDiscountedPrice]}),a.jsxs("span",{className:"profit",children:["Profit: $",(R.sellerPrice-R.sellerDiscountedPrice).toFixed(2)]})]}):a.jsxs("span",{className:"price",children:["$",R.sellerPrice]})}),a.jsx("div",{className:"product-actions",children:a.jsx("button",{className:"remove-btn",onClick:()=>I(R._id),children:"Remove"})})]})]},R._id))})]}),a.jsxs("div",{className:"available-products-section",children:[a.jsxs("h3",{children:["Available Products to Add (",t.length,")"]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16},children:[a.jsx("button",{className:"add-btn",style:{width:"auto",padding:"10px 16px"},disabled:t.length===0,onClick:q,children:"Add All"}),a.jsx("button",{className:"add-btn",style:{width:"auto",padding:"10px 16px",background:"#059669",backgroundImage:"none"},disabled:y.length===0,onClick:V,children:"Add Selected"})]}),t.length===0?a.jsx("p",{children:"No more products available to add to your inventory."}):a.jsx("div",{className:"products-grid",children:t.map(R=>a.jsxs("div",{className:"product-card",children:[a.jsx("input",{type:"checkbox",checked:y.includes(R._id),onChange:()=>C(R._id),style:{position:"absolute",top:8,left:8,zIndex:2}}),a.jsx("div",{className:"product-image",children:a.jsx("img",{src:R.image||"/default-image.jpg",alt:R.name})}),a.jsxs("div",{className:"product-info",children:[a.jsx("h4",{children:R.name}),a.jsx("p",{className:"category",children:R.category}),a.jsx("div",{className:"pricing",children:R.discountedPrice?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"original-price",children:["$",R.price]}),a.jsxs("span",{className:"discounted-price",children:["$",R.discountedPrice]}),a.jsxs("span",{className:"profit",children:["Profit: $",(R.price-R.discountedPrice).toFixed(2)]})]}):a.jsxs("span",{className:"price",children:["$",R.price]})}),a.jsx("button",{className:"add-btn",onClick:()=>B(R),children:"Add to Inventory"})]})]},R._id))})]}),c&&a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{children:"Add Product to Inventory"}),a.jsx("button",{className:"close-btn",onClick:()=>u(!1),children:""})]}),a.jsxs("form",{onSubmit:_,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"product-preview",children:[a.jsx("img",{src:h?.image||"/default-image.jpg",alt:h?.name}),a.jsx("h4",{children:h?.name}),a.jsx("p",{style:{color:"#6b7280",fontSize:"12px",margin:"4px 0 0 0"},children:h?.discountedPrice?a.jsxs(a.Fragment,{children:["Original: $",h?.price,"  Discounted: $",h?.discountedPrice,"  Profit: $",(h?.price-h?.discountedPrice).toFixed(2)]}):a.jsxs(a.Fragment,{children:["Price: $",h?.price]})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),children:"Cancel"}),a.jsx("button",{type:"submit",children:"Add Product"})]})]})]})}),a.jsx("style",{jsx:!0,children:`
        .seller-product-management {
          padding: 24px;
          background: #fafbfc;
          min-height: 100vh;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .seller-product-management h2 {
          font-size: 24px;
          font-weight: 600;
          color: #1a1a1a;
          margin-bottom: 32px;
          letter-spacing: -0.5px;
        }
        
        .my-products-section, .available-products-section {
          margin-bottom: 48px;
          background: white;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.06);
          border: 1px solid #f0f0f0;
        }
        
        .my-products-section h3, .available-products-section h3 {
          font-size: 18px;
          font-weight: 600;
          color: #2d3748;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .my-products-section h3:before {
          content: '';
          font-size: 16px;
        }
        
        .available-products-section h3:before {
          content: '';
          font-size: 16px;
        }
        
        .products-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 16px;
          margin-top: 20px;
        }
        
        .product-card {
          background: white;
          border-radius: 12px;
          padding: 16px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.06);
          border: 1px solid #f0f0f0;
          transition: all 0.2s ease;
          position: relative;
          overflow: hidden;
        }
        
        .product-card:hover {
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.08);
          transform: translateY(-2px);
        }
        
        .product-image {
          position: relative;
          margin-bottom: 12px;
        }
        
        .product-image img {
          width: 100%;
          height: 160px;
          object-fit: cover;
          border-radius: 8px;
          background: #f8f9fa;
        }
        
        .product-info h4 {
          margin: 0 0 6px 0;
          color: #1a1a1a;
          font-size: 14px;
          font-weight: 600;
          line-height: 1.3;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        
        .category {
          color: #6b7280;
          font-size: 12px;
          margin-bottom: 8px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-weight: 500;
        }
        
        .description {
          color: #6b7280;
          font-size: 12px;
          line-height: 1.4;
          margin-bottom: 12px;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }
        
        .pricing {
          margin: 12px 0;
          display: flex;
          align-items: center;
          gap: 8px;
          flex-wrap: wrap;
        }
        
        .price {
          font-weight: 600;
          color: #1a1a1a;
          font-size: 16px;
        }
        
        .original-price {
          font-weight: 400;
          color: #a0a0a0;
          font-size: 13px;
          text-decoration: line-through;
          opacity: 0.7;
        }
        
        .discounted-price {
          font-weight: 700;
          color: #dc2626;
          font-size: 17px;
          background: rgba(239, 68, 68, 0.05);
          padding: 3px 8px;
          border-radius: 6px;
          border: 1px solid rgba(239, 68, 68, 0.1);
        }
        
        .profit {
          color: #059669;
          font-weight: 700;
          font-size: 13px;
          background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(5, 150, 105, 0.1) 100%);
          padding: 4px 10px;
          border-radius: 8px;
          border: 1px solid rgba(16, 185, 129, 0.2);
          box-shadow: 0 2px 4px rgba(16, 185, 129, 0.1);
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 11px;
        }
        
        .product-actions {
          display: flex;
          gap: 8px;
          margin-top: 12px;
        }
        
        .remove-btn {
          background: #ef4444;
          color: white;
          border: none;
          padding: 6px 12px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          transition: all 0.2s ease;
          width: 100%;
        }
        
        .remove-btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }
        
        .add-btn {
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          color: white;
          border: none;
          padding: 10px 16px;
          border-radius: 8px;
          cursor: pointer;
          margin-top: 12px;
          font-size: 12px;
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          transition: all 0.2s ease;
          width: 100%;
        }
        
        .add-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          backdrop-filter: blur(4px);
        }
        
        .modal-content {
          background: white;
          border-radius: 16px;
          width: 90%;
          max-width: 480px;
          max-height: 80vh;
          overflow-y: auto;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px;
          border-bottom: 1px solid #f0f0f0;
          background: #f8f9fa;
          border-radius: 16px 16px 0 0;
        }
        
        .modal-header h3 {
          font-size: 18px;
          font-weight: 600;
          color: #1a1a1a;
          margin: 0;
        }
        
        .close-btn {
          background: #f1f5f9;
          border: none;
          font-size: 18px;
          cursor: pointer;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #64748b;
          transition: all 0.2s ease;
        }
        
        .close-btn:hover {
          background: #e2e8f0;
          color: #1a1a1a;
        }
        
        .modal-body {
          padding: 24px;
        }
        
        .product-preview {
          text-align: center;
          margin-bottom: 24px;
          padding: 16px;
          background: #f8f9fa;
          border-radius: 12px;
        }
        
        .product-preview img {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          margin-bottom: 8px;
        }
        
        .product-preview h4 {
          font-size: 14px;
          font-weight: 600;
          color: #1a1a1a;
          margin: 0;
        }
        
        .form-group {
          margin-bottom: 20px;
        }
        
        .form-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
          color: #374151;
          font-size: 13px;
        }
        
        .form-group input {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 13px;
          background: #f9fafb;
          transition: all 0.2s ease;
          box-sizing: border-box;
        }
        
        .form-group input:focus {
          outline: none;
          border-color: #3b82f6;
          background: white;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 24px;
          border-top: 1px solid #f0f0f0;
          background: #f8f9fa;
          border-radius: 0 0 16px 16px;
        }
        
        .modal-footer button {
          padding: 10px 20px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 13px;
          font-weight: 500;
          transition: all 0.2s ease;
        }
        
        .modal-footer button[type="button"] {
          background: #e5e7eb;
          color: #374151;
        }
        
        .modal-footer button[type="button"]:hover {
          background: #d1d5db;
        }
        
        .modal-footer button[type="submit"] {
          background: linear-gradient(135deg, #10b981 0%, #059669 100%);
          color: white;
        }
        
        .modal-footer button[type="submit"]:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .loading {
          text-align: center;
          padding: 64px;
          font-size: 16px;
          color: #6b7280;
        }
        
        .loading:before {
          content: '';
          font-size: 24px;
          display: block;
          margin-bottom: 16px;
        }
        
        /* Empty state messages */
        .my-products-section p, .available-products-section p {
          text-align: center;
          color: #6b7280;
          font-size: 14px;
          padding: 32px;
          background: #f8f9fa;
          border-radius: 12px;
          margin: 20px 0;
          border: 1px dashed #e5e7eb;
        }
        
        /* Responsive design */
        @media (max-width: 900px) {
          .products-grid {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 10px;
          }
            .seller-product-management {
            padding: 8px;  }
          .product-card {
            padding: 4px !important;
          }
            .my-products-section p, .available-products-section p {
            padding:6px;
            line-height: 1;
            font-size: 12px;
            display: none;
            }
            .my-products-section, .available-products-section {
            padding:12px 8px;
            border-radius: 8px;}
          .product-image img {
            height: 100px;
          }
          .product-info h4 {
            font-size: 12px;
          }
          .category {
            font-size: 10px;
            margin-bottom: 6px;
          }
          .description {
            font-size: 10px;
            margin-bottom: 8px;
          }
          .pricing {
            margin: 8px 0;
            font-size: 11px;
          }
          .price, .original-price, .discounted-price, .profit {
            font-size: 11px !important;
            padding: 2px 6px !important;
          }
          .remove-btn, .add-btn {
            font-size: 10px;
            padding: 6px 8px !important;
          }
        }
      `})]})}const rM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState({}),[s,o]=A.useState(!0),[c,u]=A.useState(""),h=A.useCallback(async()=>{try{o(!0);const m=await Hl();r(m),u("")}catch(m){console.error("Error fetching data:",m),u("Failed to load payment data")}finally{o(!1)}},[]);A.useEffect(()=>{if(t?.role!=="seller"){e("/");return}h()},[t?.role,h,e]);const p=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m);return s?a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):a.jsxs("div",{className:"container-fluid",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{children:"Payment Methods"}),a.jsx("p",{className:"text-muted mb-0",children:"Manage your withdrawals and payment options"})]}),a.jsxs("div",{className:"text-muted",children:["Welcome back, ",t?.name,"!"]})]}),c&&a.jsxs("div",{className:"error-message mb-4",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #f87171",borderRadius:"16px",padding:"1.5rem 2rem",boxShadow:"0 8px 25px rgba(248, 113, 113, 0.15)",position:"relative",overflow:"hidden"},children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"1.5rem",color:"#dc2626"}})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"mb-1 fw-bold",style:{color:"#b91c1c"},children:"Error Loading Data"}),a.jsx("p",{className:"mb-0",style:{color:"#7f1d1d",fontSize:"0.95rem",lineHeight:"1.4"},children:c})]}),a.jsx("button",{onClick:()=>u(""),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",marginLeft:"1rem"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(239, 68, 68, 0.2)",m.currentTarget.style.transform="scale(1.1)"},onMouseLeave:m=>{m.currentTarget.style.background="rgba(239, 68, 68, 0.1)",m.currentTarget.style.transform="scale(1)"},children:a.jsx("i",{className:"fas fa-times",style:{fontSize:"0.9rem",color:"#dc2626"}})})]}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"100px",height:"100px",background:"rgba(239, 68, 68, 0.05)",borderRadius:"50%",filter:"blur(40px)"}})]}),a.jsx("div",{className:"mb-4",children:a.jsx(c0,{stats:n,acceptedProfit:Array.isArray(n.orders)?n.orders.filter(m=>m.sellerResponse==="accepted"&&m.status!=="delivered").reduce((m,x)=>m+(x.totalProfit||0),0):n.acceptedProfit||0})}),a.jsxs("div",{className:"row g-3 g-md-4 mb-5",children:[a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title text-white-50 mb-2 fw-medium",style:{fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Credit Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:p(n?.creditAmount||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-wallet",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(252, 182, 159, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(252, 182, 159, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(252, 182, 159, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(139, 69, 19, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Pending Amount"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#8b4513",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:p(n?.pendingAmount||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-hourglass-half",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#8b4513"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(139, 69, 19, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(168, 237, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(168, 237, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(168, 237, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(34, 139, 34, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Profit"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#228b22",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:p(n.totalProfit||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(34, 139, 34, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-chart-line",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#228b22"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(34, 139, 34, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(250, 112, 154, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(250, 112, 154, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(250, 112, 154, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Orders"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:n.totalOrders||0})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-shopping-cart",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})})]}),a.jsx(nj,{stats:n,formatCurrency:p}),a.jsxs("div",{className:"card",style:{borderRadius:"20px",border:"none",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)"},children:[a.jsx("div",{className:"card-header",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"20px 20px 0 0",border:"none",padding:"1.5rem 2rem"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",children:a.jsx("i",{className:"fas fa-history",style:{fontSize:"1.5rem",color:"#6366f1"}})}),a.jsxs("div",{children:[a.jsx("h5",{className:"card-title mb-1 fw-bold",children:"Payment History"}),a.jsx("p",{className:"text-muted mb-0 small",children:"Track your withdrawal requests and transactions"})]})]})}),a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"text-center py-5",children:[a.jsx("i",{className:"fas fa-clock fa-3x text-muted mb-3"}),a.jsx("h6",{className:"text-muted",children:"No payment history yet"}),a.jsx("p",{className:"text-muted small mb-0",children:"Your withdrawal requests and payment history will appear here"})]})})]})]})},iM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState({}),[s,o]=A.useState([]),[c,u]=A.useState(!0),[h,p]=A.useState(""),[m,x]=A.useState(!1),[y,v]=A.useState({name:t?.name||"",phone:t?.phone||"",shopName:t?.shopName||""}),w=A.useCallback(async()=>{try{u(!0);const[q,Q]=await Promise.all([Hl(),rj()]);r(q),o(Q),p("")}catch(q){console.error("Error fetching data:",q),p("Failed to load shop data")}finally{u(!1)}},[]);A.useEffect(()=>{if(t?.role!=="seller"){e("/");return}w()},[t?.role,w,e]);const j=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(q),C=()=>{v({name:t?.name||"",phone:t?.phone||"",shopName:t?.shopName||""}),x(!0)},O=()=>{x(!1),v({name:t?.name||"",phone:t?.phone||"",shopName:t?.shopName||""})},V=async()=>{try{if(u(!0),(await fetch(`https://backvolverine.vercel.app/api/users/seller/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.token}`},body:JSON.stringify(y)})).ok){const Q={...t,...y};localStorage.setItem("alfauser",JSON.stringify(Q)),x(!1),p(""),mr("Profile updated successfully!"),window.location.reload()}else throw new Error("Failed to update profile")}catch(q){console.error("Error updating profile:",q),p("Failed to update profile. Please try again.")}finally{u(!1)}};return c?a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):a.jsx("div",{className:"seller-shop-container",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{children:"Shop Settings"}),a.jsx("p",{className:"text-muted mb-0",children:"Manage your shop profile and view business analytics"})]}),a.jsxs("div",{className:"text-muted",children:[a.jsx(um,{className:"me-2"}),"Shop Dashboard"]})]}),h&&a.jsxs("div",{className:"error-message mb-4",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #f87171",borderRadius:"16px",padding:"1.5rem 2rem",boxShadow:"0 8px 25px rgba(248, 113, 113, 0.15)",position:"relative",overflow:"hidden"},children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx(CA,{style:{fontSize:"1.5rem",color:"#dc2626"}})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"mb-1 fw-bold",style:{color:"#b91c1c"},children:"Error Loading Data"}),a.jsx("p",{className:"mb-0",style:{color:"#7f1d1d",fontSize:"0.95rem",lineHeight:"1.4"},children:h})]}),a.jsx("button",{onClick:()=>p(""),className:"error-close-btn",style:{background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",marginLeft:"1rem"},children:a.jsx(wl,{style:{fontSize:"0.9rem",color:"#dc2626"}})})]}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"100px",height:"100px",background:"rgba(239, 68, 68, 0.05)",borderRadius:"50%",filter:"blur(40px)"}})]}),a.jsxs("div",{className:"row g-4 mb-5",children:[a.jsx("div",{className:"col-12 col-lg-8",children:a.jsxs("div",{className:"card h-100 border-0",style:{borderRadius:"20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",overflow:"hidden"},children:[a.jsx("div",{className:"card-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",padding:"2rem",color:"white"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-4",children:a.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.3)"},children:a.jsx(Jv,{style:{color:"white",fontSize:"2rem"}})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h4",{className:"mb-2 fw-bold",children:m?y.name||"Seller Name":t?.name||"Seller Name"}),a.jsxs("div",{className:"d-flex align-items-center mb-2 flex-wrap",children:[a.jsxs("span",{className:"badge me-3 mb-1",style:{background:t?.approved?"rgba(76, 175, 80, 0.3)":"rgba(255, 152, 0, 0.3)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"0.85rem"},children:[a.jsx(Gv,{className:"me-2"}),t?.approved?"Verified Seller":"Pending Verification"]}),a.jsxs("span",{className:"badge mb-1",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"0.85rem"},children:[a.jsx(um,{className:"me-2"}),m?y.shopName||"Shop Name":t?.shopName||"Shop Name"]})]}),a.jsxs("p",{className:"mb-0 opacity-75",children:[a.jsx(cg,{className:"me-2"}),"Member since ",new Date(t?.createdAt||Date.now()).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h5",{className:"mb-0",children:"Profile Information"}),m?a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("button",{className:"btn btn-success btn-sm",onClick:V,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(s0,{className:"me-2"}),"Save"]})}),a.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:O,disabled:c,children:[a.jsx(wl,{className:"me-2"}),"Cancel"]})]}):a.jsxs("button",{className:"btn btn-primary btn-sm",onClick:C,disabled:c,children:[a.jsx(RA,{className:"me-2"}),"Edit Profile"]})]}),a.jsxs("div",{className:"row g-4",children:[a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label text-muted fw-medium",children:[a.jsx(Jv,{className:"me-2"}),"Full Name ",m&&a.jsx("span",{className:"text-danger",children:"*"})]}),m?a.jsx("input",{type:"text",className:"form-control",style:{borderRadius:"12px",padding:"12px 16px",border:"2px solid #e9ecef"},value:y.name,onChange:q=>v({...y,name:q.target.value}),placeholder:"Enter your full name",required:!0}):a.jsx("div",{className:"form-control",style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"12px",padding:"12px 16px"},children:t?.name||"No name provided"})]})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label text-muted fw-medium",children:[a.jsx(BA,{className:"me-2"}),"Email Address"]}),a.jsxs("div",{className:"form-control",style:{background:"#e9ecef",border:"1px solid #dee2e6",borderRadius:"12px",padding:"12px 16px",color:"#6c757d"},children:[a.jsx(PA,{className:"me-2"}),t?.email||"No email provided"]}),a.jsx("small",{className:"text-muted",children:"Email cannot be changed for security reasons"})]})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label text-muted fw-medium",children:[a.jsx(UA,{className:"me-2"}),"Phone Number"]}),m?a.jsx("input",{type:"tel",className:"form-control",style:{borderRadius:"12px",padding:"12px 16px",border:"2px solid #e9ecef"},value:y.phone,onChange:q=>v({...y,phone:q.target.value}),placeholder:"Enter your phone number"}):a.jsx("div",{className:"form-control",style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"12px",padding:"12px 16px"},children:t?.phone||"No phone provided"})]})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label text-muted fw-medium",children:[a.jsx(um,{className:"me-2"}),"Shop Name ",m&&a.jsx("span",{className:"text-danger",children:"*"})]}),m?a.jsx("input",{type:"text",className:"form-control",style:{borderRadius:"12px",padding:"12px 16px",border:"2px solid #e9ecef"},value:y.shopName,onChange:q=>v({...y,shopName:q.target.value}),placeholder:"Enter your shop name",required:!0}):a.jsx("div",{className:"form-control",style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"12px",padding:"12px 16px"},children:t?.shopName||"No shop name provided"})]})})]}),m&&a.jsxs("div",{className:"alert alert-info mt-3",style:{borderRadius:"12px"},children:[a.jsx(ZS,{className:"me-2"}),a.jsx("strong",{children:"Note:"})," Your profile changes will be saved and reflected across the platform. Email address cannot be modified for security purposes."]})]})]})}),a.jsx("div",{className:"col-12 col-lg-4",children:a.jsx("div",{className:"card h-100 border-0",style:{borderRadius:"20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:a.jsx("div",{className:"card-body p-4 text-white",children:a.jsx("div",{className:"text-center",children:t?.identity?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-3",style:{width:"120px",height:"120px",borderRadius:"12px",margin:"0 auto",overflow:"hidden",border:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.2)"},children:a.jsx("img",{src:t.identity,alt:"Identity Verification",style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("h6",{className:"fw-bold mb-2",children:[a.jsx(Gv,{className:"me-2 text-success"}),"Identity Verified"]}),a.jsx("p",{className:"mb-0 opacity-75",children:"Your ID proof has been uploaded and verified"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-3",style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",backdropFilter:"blur(10px)"},children:a.jsx(DA,{style:{fontSize:"2rem"}})}),a.jsx("h6",{className:"fw-bold mb-2",children:"No Identity Provided"}),a.jsx("p",{className:"mb-3 opacity-75",children:"Upload your ID proof for verification"}),a.jsxs("button",{className:"btn btn-light btn-sm",style:{borderRadius:"20px",padding:"8px 20px",fontWeight:"500"},children:[a.jsx($A,{className:"me-2"}),"Upload Image"]})]})})})})})]}),a.jsxs("div",{className:"row g-4 mb-5",children:[a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 20px 40px rgba(102, 126, 234, 0.4)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title text-white-50 mb-2 fw-medium",style:{fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Products"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:s.length})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx(OA,{style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(252, 182, 159, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 20px 40px rgba(252, 182, 159, 0.4)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 10px 30px rgba(252, 182, 159, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(139, 69, 19, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Balance"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#8b4513",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:j(t?.creditAmount||n?.creditAmount||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx(Xd,{style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#8b4513"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(139, 69, 19, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(168, 237, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 20px 40px rgba(168, 237, 234, 0.4)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 10px 30px rgba(168, 237, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(34, 139, 34, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Pending Orders"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#228b22",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:n?.pendingOrders||0})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(34, 139, 34, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx(MA,{style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#228b22"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(34, 139, 34, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(250, 112, 154, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-5px)",q.currentTarget.style.boxShadow="0 20px 40px rgba(250, 112, 154, 0.4)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 10px 30px rgba(250, 112, 154, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Orders"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:n?.totalOrders||0})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx(qA,{style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})})]}),a.jsx("div",{className:"row g-4",children:a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card border-0",style:{borderRadius:"20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:a.jsx("div",{className:"card-body p-4 text-white",children:a.jsxs("div",{className:"row align-items-center",children:[a.jsxs("div",{className:"col-12 col-md-8",children:[a.jsxs("div",{className:"d-flex align-items-center mb-3",children:[a.jsx("div",{className:"me-3",style:{width:"60px",height:"60px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:a.jsx(Qv,{style:{fontSize:"2rem"}})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-bold",children:"Total Profit"}),a.jsx("p",{className:"mb-0 opacity-75",children:"Your overall business performance"})]})]}),a.jsx("h2",{className:"fw-bold mb-0",style:{fontSize:"3rem"},children:j(n?.totalProfit||0)})]}),a.jsxs("div",{className:"col-12 col-md-4 text-md-end mt-3 mt-md-0",children:[a.jsxs("div",{className:"text-white-50 mb-2",children:[a.jsx(Qv,{className:"me-2"}),"Performance Overview"]}),a.jsxs("div",{className:"d-flex flex-column align-items-md-end",children:[a.jsx("div",{className:"mb-2",children:a.jsxs("span",{className:"badge bg-light text-dark px-3 py-2",children:["Active Products: ",s.filter(q=>q.isActive!==!1).length]})}),a.jsx("div",{})]})]})]})})})})}),a.jsx("style",{children:`
        .seller-shop-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .error-close-btn:hover {
          background: rgba(239, 68, 68, 0.2) !important;
          transform: scale(1.1);
        }

        .card:hover {
          transform: translateY(-2px);
          transition: all 0.3s ease;
        }

        .form-control:focus {
          border-color: #667eea !important;
          box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25) !important;
        }

        .btn-primary {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border: none;
          border-radius: 10px;
        }

        .btn-success {
          background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
          border: none;
          border-radius: 10px;
        }

        .btn-secondary {
          background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
          border: none;
          border-radius: 10px;
        }

        @media (max-width: 768px) {
          .container-fluid {
            padding: 1rem !important;
          }
          
          .card-body {
            padding: 1rem !important;
          }
          
          h2 {
            font-size: 1.5rem;
          }
        }
      `})]})})},sM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState({}),[s,o]=A.useState(!0),[c,u]=A.useState(""),h=A.useCallback(async()=>{try{o(!0);const m=await Hl();r(m),u("")}catch(m){console.error("Error fetching data:",m),u("Failed to load profile data")}finally{o(!1)}},[]);A.useEffect(()=>{if(t?.role!=="seller"){e("/");return}h()},[t?.role,h,e]);const p=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m);return s?a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):a.jsxs("div",{className:"container-fluid",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{children:"My Profile"}),a.jsx("p",{className:"text-muted mb-0",children:"Your personal information and business overview"})]}),a.jsxs("div",{className:"text-muted",children:[a.jsx("i",{className:"fas fa-user me-2"}),"Seller Profile"]})]}),c&&a.jsxs("div",{className:"error-message mb-4",style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #f87171",borderRadius:"16px",padding:"1.5rem 2rem",boxShadow:"0 8px 25px rgba(248, 113, 113, 0.15)",position:"relative",overflow:"hidden"},children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"1.5rem",color:"#dc2626"}})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"mb-1 fw-bold",style:{color:"#b91c1c"},children:"Error Loading Data"}),a.jsx("p",{className:"mb-0",style:{color:"#7f1d1d",fontSize:"0.95rem",lineHeight:"1.4"},children:c})]}),a.jsx("button",{onClick:()=>u(""),style:{background:"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"8px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",marginLeft:"1rem"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(239, 68, 68, 0.2)",m.currentTarget.style.transform="scale(1.1)"},onMouseLeave:m=>{m.currentTarget.style.background="rgba(239, 68, 68, 0.1)",m.currentTarget.style.transform="scale(1)"},children:a.jsx("i",{className:"fas fa-times",style:{fontSize:"0.9rem",color:"#dc2626"}})})]}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"100px",height:"100px",background:"rgba(239, 68, 68, 0.05)",borderRadius:"50%",filter:"blur(40px)"}})]}),a.jsx("div",{className:"row g-4 mb-5",children:a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card border-0",style:{borderRadius:"20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",overflow:"hidden"},children:a.jsx("div",{className:"card-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",padding:"2.5rem",color:"white"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-4",children:a.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",border:"3px solid rgba(255, 255, 255, 0.3)"},children:a.jsx("i",{className:"fas fa-user fa-3x",style:{color:"white"}})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h2",{className:"mb-3 fw-bold",children:t?.name||"Seller Name"}),a.jsxs("div",{className:"d-flex align-items-center mb-3 flex-wrap",children:[a.jsxs("span",{className:"badge me-3 mb-2",style:{background:t?.approved?"rgba(76, 175, 80, 0.3)":"rgba(255, 152, 0, 0.3)",color:"white",padding:"10px 20px",borderRadius:"25px",fontSize:"0.9rem"},children:[a.jsx("i",{className:`fas ${t?.approved?"fa-check-circle":"fa-clock"} me-2`}),t?.approved?"Verified Account":"Pending Verification"]}),a.jsxs("span",{className:"badge mb-2",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",padding:"10px 20px",borderRadius:"25px",fontSize:"0.9rem"},children:[a.jsx("i",{className:"fas fa-calendar-alt me-2"}),"Member since ",new Date(t?.createdAt||Date.now()).toLocaleDateString()]})]}),a.jsxs("div",{className:"row g-3",children:[a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px 16px",backdropFilter:"blur(10px)"},children:[a.jsx("i",{className:"fas fa-envelope me-2 opacity-75"}),a.jsx("span",{className:"fw-medium",children:t?.email||"No email"})]})}),a.jsx("div",{className:"col-12 col-md-6",children:a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px 16px",backdropFilter:"blur(10px)"},children:[a.jsx("i",{className:"fas fa-store me-2 opacity-75"}),a.jsx("span",{className:"fw-medium",children:t?.shopName||"No shop name"})]})})]})]})]})})})})}),a.jsxs("div",{className:"row g-4",children:[a.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title text-white-50 mb-2 fw-medium",children:"Credit Balance"}),a.jsx("h2",{className:"text-white fw-bold mb-0",children:p(t?.creditAmount||n?.creditAmount||0)})]}),a.jsx("div",{style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-wallet fa-lg"})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(168, 237, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(168, 237, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(168, 237, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(34, 139, 34, 0.8)"},children:"Total Profit"}),a.jsx("h2",{className:"fw-bold mb-0",style:{color:"#228b22"},children:p(n?.totalProfit||0)})]}),a.jsx("div",{style:{background:"rgba(34, 139, 34, 0.2)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-chart-line fa-lg",style:{color:"#228b22"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(34, 139, 34, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(250, 112, 154, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(250, 112, 154, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(250, 112, 154, 0.3)"},children:[a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:"Total Orders"}),a.jsx("h2",{className:"text-white fw-bold mb-0",children:n?.totalOrders||t?.totalOrders||0})]}),a.jsx("div",{style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-shopping-cart fa-lg"})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(252, 182, 159, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-5px)",m.currentTarget.style.boxShadow="0 20px 40px rgba(252, 182, 159, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 10px 30px rgba(252, 182, 159, 0.3)"},children:[a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(139, 69, 19, 0.8)"},children:"Pending Amount"}),a.jsx("h2",{className:"fw-bold mb-0",style:{color:"#8b4513"},children:p((t?.pendingAmount||n?.pendingAmount||0)+(n?.totalProfit||0))})]}),a.jsx("div",{style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-hourglass-half fa-lg",style:{color:"#8b4513"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(139, 69, 19, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})})]})]})},fm="https://backvolverine.vercel.app/api";function aM(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,o]=A.useState(""),[c,u]=A.useState(!1),[h,p]=A.useState(null),[m,x]=A.useState({name:"",price:"",discountedPrice:"",quantity:"",description:"",image:"",category:""}),[y,v]=A.useState(!1),[w,j]=A.useState(!1),C=async()=>{r(!0);try{const _=await ge.get(`${fm}/products`);e(_.data)}catch{o("Failed to fetch products")}finally{r(!1)}};A.useEffect(()=>{C()},[]);const O=async _=>{if(window.confirm("Are you sure you want to delete this product?"))try{const I=JSON.parse(localStorage.getItem("alfauser"))?.token;await ge.delete(`${fm}/products/${_}`,{headers:{Authorization:`Bearer ${I}`}}),e(t.filter(R=>R._id!==_))}catch{alert("Failed to delete product")}},V=_=>{p(_),x({name:_.name||"",price:_.price||"",discountedPrice:_.discountedPrice||_.discountPrice||"",quantity:_.quantity||"",description:_.description||"",image:_.image||_.imageUrl||"",category:_.category||""}),u(!0)},q=()=>{u(!1),p(null),j(!1)},Q=_=>{const{name:I,value:R}=_.target;x(E=>({...E,[I]:R}))},z=_=>{const I=_.target.files[0];if(!I)return;if(!I.type.startsWith("image/")){alert("Please select an image file");return}if(I.size>5*1024*1024){alert("Image size should be less than 5MB");return}j(!0);const R=new FileReader;R.onload=E=>{const H=E.target.result;x($=>({...$,image:H})),j(!1)},R.onerror=()=>{alert("Error reading file"),j(!1)},R.readAsDataURL(I)},B=async()=>{if(h){v(!0);try{const _=JSON.parse(localStorage.getItem("alfauser"))?.token,I=await ge.put(`${fm}/products/${h._id||h.id}`,m,{headers:{Authorization:`Bearer ${_}`}});e(t.map(R=>R._id===(h._id||h.id)?I.data.product:R)),q()}catch{alert("Failed to update product")}finally{v(!1)}}};return n?a.jsx("div",{children:"Loading products..."}):s?a.jsx("div",{children:s}):a.jsxs("div",{children:[a.jsx("h4",{children:"Product List"}),c&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:320,maxWidth:500,width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 2px 12px rgba(30,41,59,0.15)"},children:[a.jsx("h5",{children:"Edit Product"}),m.image&&a.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:12},children:a.jsx("img",{src:m.image,alt:"Product",style:{width:120,height:120,objectFit:"cover",borderRadius:8,border:"1px solid #dee2e6"}})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[a.jsx("input",{name:"name",value:m.name,onChange:Q,placeholder:"Name",className:"form-control"}),a.jsx("input",{name:"price",value:m.price,onChange:Q,placeholder:"Price",className:"form-control",type:"number",min:"0"}),a.jsx("input",{name:"discountedPrice",value:m.discountedPrice,onChange:Q,placeholder:"Discounted Price",className:"form-control",type:"number",min:"0"}),a.jsx("input",{name:"quantity",value:m.quantity,onChange:Q,placeholder:"Quantity",className:"form-control",type:"number",min:"0"}),a.jsx("input",{name:"category",value:m.category,onChange:Q,placeholder:"Category",className:"form-control"}),a.jsx("textarea",{name:"description",value:m.description,onChange:Q,placeholder:"Description",rows:4,className:"form-control"}),a.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:8,padding:16},children:[a.jsx("label",{style:{fontSize:14,fontWeight:600,marginBottom:8,display:"block"},children:"Product Image"}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",onChange:z,style:{display:"none"},id:"image-upload",disabled:w||y}),a.jsxs("label",{htmlFor:"image-upload",style:{display:"inline-flex",alignItems:"center",gap:8,padding:"8px 16px",backgroundColor:w?"#6c757d":"#007bff",color:"white",borderRadius:6,cursor:w?"not-allowed":"pointer",fontSize:14,border:"none"},children:[a.jsx(JT,{size:18}),w?"Uploading...":"Upload Image"]})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:16,justifyContent:"flex-end"},children:[a.jsx("button",{className:"btn btn-secondary",onClick:q,disabled:y||w,children:"Cancel"}),a.jsx("button",{className:"btn btn-primary",onClick:B,disabled:y||w,children:y?"Saving...":"Save"})]})]})}),a.jsx("div",{className:"d-block d-md-none",children:t.map(_=>a.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(30,41,59,0.08)",marginBottom:16,padding:16,display:"flex",flexDirection:"column",gap:8},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[_.image||_.imageUrl?a.jsx("img",{src:_.image||_.imageUrl,alt:_.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,border:"1px solid #dee2e6"}}):a.jsx("span",{style:{color:"#6c757d",fontSize:12},children:"No Image"}),a.jsx("div",{style:{fontWeight:700,fontSize:16},children:_.name?.substring(0,30)||_.title?.substring(0,30)})]}),a.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",fontSize:14},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Price:"})," $",_.price]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Discounted:"})," ",_.discountedPrice||_.discountPrice||"-"]})]}),a.jsxs("div",{className:"actions",style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{className:"action",onClick:()=>V(_),children:a.jsx(uv,{size:22,color:"#007bff"})}),a.jsx("button",{className:"action",onClick:()=>O(_._id||_.id),children:a.jsx(cv,{size:24,color:"red"})})]})]},_._id||_.id))}),a.jsx("div",{className:"table-responsive d-none d-md-block",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Price"}),a.jsx("th",{children:"Discounted Price"}),a.jsx("th",{children:"Image"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.name?.substring(0,30)||_.title?.substring(0,30)}),a.jsx("td",{children:_.price}),a.jsx("td",{children:_.discountedPrice||_.discountPrice||"-"}),a.jsx("td",{children:_.image||_.imageUrl?a.jsx("img",{src:_.image||_.imageUrl,alt:_.name,style:{width:60,height:60,objectFit:"cover"}}):"No Image"}),a.jsxs("td",{style:{display:"flex",gap:8},children:[a.jsx("button",{className:"action",onClick:()=>V(_),children:a.jsx(uv,{size:22,color:"#007bff"})}),a.jsx("button",{className:"action",onClick:()=>O(_._id||_.id),children:a.jsx(cv,{size:24,color:"red"})})]})]},_._id||_.id))})]})})]})}const oM="https://backvolverine.vercel.app/api",lM=({user:t,onClose:e,onSaved:n})=>{const[r,s]=A.useState({phone:t.phone||"",shopName:t.shopName||"",creditAmount:t.creditAmount||0,totalOrders:t.totalOrders||0,pendingAmount:t.pendingAmount||0,approved:t.approved||!1,password:"",loginVerificationCode:t.loginVerificationCode||""}),[o,c]=A.useState(!1),[u,h]=A.useState(""),p=x=>{const{name:y,value:v,type:w,checked:j}=x.target;s(C=>({...C,[y]:w==="checkbox"?j:v}))},m=async x=>{x.preventDefault(),c(!0),h("");try{const y=JSON.parse(localStorage.getItem("alfauser"))?.token,v={...r};v.password||delete v.password,await ge.put(`${oM}/users/seller/${t._id}`,v,{headers:{Authorization:`Bearer ${y}`}}),n(),e()}catch{h("Failed to update user")}finally{c(!1)}};return a.jsx("div",{className:"modal show",style:{display:"block",background:"rgba(0,0,0,0.3)"},children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Edit User"}),a.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{children:"Credit Amount"}),a.jsx("input",{name:"creditAmount",type:"number",className:"form-control",value:r.creditAmount,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{children:"Pending Amount"}),a.jsx("input",{name:"pendingAmount",type:"number",className:"form-control",value:r.pendingAmount,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{children:"Password (leave blank to keep unchanged)"}),a.jsx("input",{name:"password",type:"password",className:"form-control",value:r.password,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{children:"Login Verification Code (optional, set by admin only)"}),a.jsx("input",{name:"loginVerificationCode",type:"text",className:"form-control",value:r.loginVerificationCode,onChange:p}),a.jsx("small",{className:"text-muted",children:"Leave blank to disable code requirement for this user."})]}),u&&a.jsx("div",{className:"text-danger",children:u})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:o,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"Saving...":"Save"})]})]})]})})})},hm="https://backvolverine.vercel.app/api";function cM(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,o]=A.useState(""),[c,u]=A.useState(null),h=async()=>{r(!0);try{const x=JSON.parse(localStorage.getItem("alfauser"))?.token,y=await ge.get(`${hm}/users`,{headers:{Authorization:`Bearer ${x}`}});e(y.data)}catch{o("Failed to fetch users")}finally{r(!1)}};A.useEffect(()=>{h()},[]);const p=async x=>{if(window.confirm("Are you sure you want to delete this user?"))try{const y=JSON.parse(localStorage.getItem("alfauser"))?.token;await ge.delete(`${hm}/users/${x}`,{headers:{Authorization:`Bearer ${y}`}}),e(t.filter(v=>v._id!==x))}catch{Ye("Failed to delete user")}},m=async(x,y)=>{try{const v=JSON.parse(localStorage.getItem("alfauser"))?.token;await ge.put(`${hm}/users/seller/${x}`,{approved:!y},{headers:{Authorization:`Bearer ${v}`}}),e(t.map(w=>w._id===x?{...w,approved:!y}:w))}catch{Ye("Failed to update approval")}};return n?a.jsx("div",{children:"Loading users..."}):s?a.jsx("div",{children:s}):a.jsxs("div",{children:[a.jsx("h3",{className:"title",children:"Users Management"}),a.jsx("div",{className:"d-block d-md-none",children:t.map(x=>a.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(30,41,59,0.08)",marginBottom:16,padding:16,display:"flex",flexDirection:"column",gap:8},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[x.identity?a.jsx("img",{src:x.identity,alt:"Verification",style:{width:40,height:40,objectFit:"cover",borderRadius:4,border:"1px solid #dee2e6",cursor:"pointer"},onClick:()=>window.open(x.identity,"_blank"),title:"Click to view full image"}):a.jsx("span",{style:{color:"#6c757d",fontSize:12},children:"No photo"}),a.jsx("div",{style:{fontWeight:700,fontSize:16},children:x.name}),a.jsx("div",{style:{color:"#6c757d",fontSize:13},children:x.email})]}),a.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",fontSize:14},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Phone:"})," ",x.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Credit:"})," ",a.jsxs("span",{style:{color:x.creditAmount>0?"#28a745":"#dc3545",fontWeight:"bold"},children:["$",x.creditAmount||0]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Pending:"})," ",a.jsxs("span",{style:{color:x.pendingAmount>0?"#ffc107":"#6c757d",fontWeight:"bold"},children:["$",x.pendingAmount||0]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Login Code:"})," ",x.loginVerificationCode?a.jsx("span",{style:{color:"#0d6efd",fontWeight:"bold",fontSize:13},children:x.loginVerificationCode}):a.jsx("span",{style:{color:"#6c757d",fontSize:12},children:"None"})]})]}),x.role!=="admin"&&a.jsxs("div",{className:"actions",style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{className:"action-btn",onClick:()=>u(x),children:"Edit"}),a.jsx("button",{className:"action-btn",onClick:()=>p(x._id),children:"Delete"}),a.jsx("button",{className:`action-btn ${x.approved?"approved":"not-approved"}`,onClick:()=>m(x._id,x.approved),children:x.approved?"Already Approved":"Approve user now"})]})]},x._id))}),a.jsx("div",{className:"table-responsive d-none d-md-block",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Phone"}),a.jsx("th",{children:"Credit Balance"}),a.jsx("th",{children:"Pending Balance"}),a.jsx("th",{children:"Verification Image"}),a.jsx("th",{children:"Login Code"}),a.jsx("th",{style:{textAlign:"center"},children:"Actions"})]})}),a.jsx("tbody",{children:t.map(x=>a.jsxs("tr",{children:[a.jsx("td",{children:x.name}),a.jsx("td",{children:x.email}),a.jsx("td",{children:x.phone}),a.jsx("td",{children:a.jsxs("span",{style:{color:x.creditAmount>0?"#28a745":"#dc3545",fontWeight:"bold"},children:["$",x.creditAmount||0]})}),a.jsx("td",{children:a.jsxs("span",{style:{color:x.pendingAmount>0?"#ffc107":"#6c757d",fontWeight:"bold"},children:["$",x.pendingAmount||0]})}),a.jsx("td",{children:x.identity?a.jsx("div",{style:{textAlign:"center"},children:a.jsx("img",{src:x.identity,alt:"Verification",style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px",border:"1px solid #dee2e6",cursor:"pointer"},onClick:()=>window.open(x.identity,"_blank"),title:"Click to view full image"})}):a.jsx("span",{style:{color:"#6c757d",fontSize:"12px"},children:"No photo"})}),a.jsx("td",{children:x.loginVerificationCode?a.jsx("span",{style:{color:"#0d6efd",fontWeight:"bold",fontSize:"13px"},children:x.loginVerificationCode}):a.jsx("span",{style:{color:"#6c757d",fontSize:"12px"},children:"None"})}),a.jsx("td",{children:x.role!=="admin"&&a.jsxs("div",{className:"actions",children:[a.jsx("button",{className:"action-btn",onClick:()=>u(x),children:"Edit"}),a.jsx("button",{className:"action-btn",onClick:()=>p(x._id),children:"Delete"}),a.jsx("button",{className:`action-btn ${x.approved?"approved":"not-approved"}`,onClick:()=>m(x._id,x.approved),children:x.approved?"Already Approved":"Approve user now"})]})})]},x._id))})]})}),c&&a.jsx(lM,{user:c,onClose:()=>u(null),onSaved:h})]})}const e2="https://secure-celebration-production.up.railway.app",dM=({order:t,onClose:e,onSave:n})=>{const r=JSON.parse(localStorage.getItem("alfauser")),[s,o]=A.useState([]),[c,u]=A.useState([]),[h,p]=A.useState(""),[m,x]=A.useState([]),[y,v]=A.useState(""),[w,j]=A.useState(!1),[C,O]=A.useState(""),V=A.useCallback(()=>r?.token?{Authorization:`Bearer ${r.token}`}:{},[r?.token]),q=A.useCallback(async()=>{try{const[H,$]=await Promise.all([ge.get(`${e2}/users`,{headers:V()}),ge.get(`${e2}/products`,{headers:V()})]),M=H.data.filter(T=>T.role==="seller"&&T.approved);o(M),u($.data)}catch(H){console.error("Error fetching data:",H),O("Failed to load sellers and products")}},[V]);A.useEffect(()=>{t&&(p(t.seller._id||""),x(t.items.map(H=>({productId:H.product._id,quantity:H.quantity}))),v(t.notes||""),q())},[t,q]);const Q=()=>{x([...m,{productId:"",quantity:1}])},z=H=>{x(m.filter(($,M)=>M!==H))},B=(H,$,M)=>{const T=[...m];T[H][$]=M,x(T)},_=()=>m.reduce((H,$)=>{const M=c.find(T=>T._id===$.productId);if(M){const T=M.discountedPrice||M.price;return H+T*$.quantity}return H},0),I=()=>m.reduce((H,$)=>{const M=c.find(T=>T._id===$.productId);if(M){const T=M.price,te=M.discountedPrice||M.price,U=(T-te)*$.quantity;return H+U}return H},0),R=async H=>{if(H.preventDefault(),O(""),w)return;if(!h){Ye("Please select a seller"),O("Please select a seller");return}if(m.length===0){Ye("Please add at least one product"),O("Please add at least one product");return}if(m.filter(M=>!M.productId||M.quantity<1).length>0){Ye("Please ensure all items have valid products and quantities"),O("Please ensure all items have valid products and quantities");return}try{j(!0);const M=await YA(t._id,{sellerId:h,items:m,notes:y});console.log("Order updated successfully:",M),mr("Order updated successfully!"),n(M.order),e()}catch(M){console.error("Error updating order:",M);const T=M.response?.data?.message||"Failed to update order";Ye(T),O(T)}finally{j(!1)}};if(!t)return null;const E=t.sellerResponse==="pending";return a.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header bg-warning text-dark",children:[a.jsxs("h5",{className:"modal-title",children:["Edit Order - ",t.orderNumber]}),a.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),a.jsxs("div",{className:"modal-body",children:[!E&&a.jsxs("div",{className:"alert alert-warning",children:[a.jsx("strong",{children:"Notice:"})," This order has already been responded to by the seller and cannot be edited."]}),C&&a.jsx("div",{className:"alert alert-danger",children:C}),a.jsxs("form",{onSubmit:R,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"seller",className:"form-label",children:"Select Seller *"}),a.jsxs("select",{id:"seller",className:"form-select modern-input",value:h,onChange:H=>p(H.target.value),disabled:!E,required:!0,children:[a.jsx("option",{value:"",children:"Choose a seller..."}),s.map(H=>a.jsxs("option",{value:H._id,children:[H.name," - ",H.shopName," (Balance: $",H.creditAmount||0,")"]},H._id))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("label",{className:"form-label",children:"Products *"}),E&&a.jsxs("button",{type:"button",className:"btn btn-sm btn-success",onClick:Q,children:[a.jsx("i",{className:"bi bi-plus-circle"})," Add Product"]})]}),m.length===0&&a.jsx("div",{className:"alert alert-info",children:'No products added yet. Click "Add Product" to start.'}),m.map((H,$)=>a.jsx("div",{className:"card mb-2",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"row align-items-center",children:[a.jsxs("div",{className:"col-md-5",children:[a.jsx("label",{className:"form-label small",children:"Product"}),a.jsxs("select",{className:"form-select modern-input",value:H.productId,onChange:M=>B($,"productId",M.target.value),disabled:!E,required:!0,children:[a.jsx("option",{value:"",children:"Select product..."}),c.map(M=>a.jsxs("option",{value:M._id,children:[M.name," - $",M.discountedPrice||M.price," (Profit: $",(M.price-(M.discountedPrice||M.price)).toFixed(2),")"]},M._id))]})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small",children:"Quantity"}),a.jsx("input",{type:"number",className:"form-control modern-input",placeholder:"Qty",min:"1",value:H.quantity,onChange:M=>B($,"quantity",parseInt(M.target.value)||1),disabled:!E,required:!0})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small",children:"Total"}),a.jsx("div",{className:"form-control-plaintext",children:(()=>{const M=c.find(T=>T._id===H.productId);return M?`$${((M.discountedPrice||M.price)*H.quantity).toFixed(2)}`:"$0.00"})()})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small",children:"Profit"}),a.jsx("div",{className:"form-control-plaintext text-success",children:(()=>{const M=c.find(T=>T._id===H.productId);if(M){const T=M.price,te=M.discountedPrice||M.price;return`$${((T-te)*H.quantity).toFixed(2)}`}return"$0.00"})()})]}),a.jsxs("div",{className:"col-md-1",children:[a.jsx("label",{className:"form-label small",children:""}),E&&a.jsx("button",{type:"button",className:"icon-action delete d-block",onClick:()=>z($),title:"Remove product",style:{padding:"6px",fontSize:"1.2em",background:"none",border:"none"},children:a.jsx(wl,{})})]})]})})},$))]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"notes",className:"form-label",children:"Notes (Optional)"}),a.jsx("textarea",{id:"notes",className:"form-control modern-input",rows:"3",value:y,onChange:H=>v(H.target.value),placeholder:"Add any special instructions or notes...",disabled:!E})]}),m.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"card bg-light",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-primary",children:["Total Amount: $",_().toFixed(2)]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-success",children:["Total Profit: $",I().toFixed(2)]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("h5",{className:"text-info",children:["Items: ",m.length]})})]})})})})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cancel"}),E&&a.jsx("button",{type:"button",className:"btn btn-primary",onClick:R,disabled:w||m.length===0,children:w?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Updating..."]}):"Update Order"})]})]})})})},uM=({order:t,onStatusChange:e})=>{const[n,r]=A.useState(t.status),[s,o]=A.useState(!1),c=[{value:"pending",label:"Pending",color:"warning"},{value:"processing",label:"Processing",color:"info"},{value:"picked",label:"Picked",color:"primary"},{value:"delivered",label:"Delivered",color:"success"}],u=async p=>{if(p===t.status)return;const m=`Are you sure you want to change order status from "${t.status}" to "${p}"?`;if(!await new Promise(y=>{Mt(v=>a.jsxs("span",{children:[m,a.jsxs("div",{style:{marginTop:8},children:[a.jsx("button",{onClick:()=>{Mt.dismiss(v.id),y(!0)},style:{marginRight:8},children:"Yes"}),a.jsx("button",{onClick:()=>{Mt.dismiss(v.id),y(!1)},children:"No"})]})]}),{duration:1e4})})){r(t.status);return}try{o(!0),console.log("Admin updating order status:",{orderId:t._id,from:t.status,to:p,currentUser:JSON.parse(localStorage.getItem("alfauser"))?.role});const y=JSON.parse(localStorage.getItem("alfauser"));if(!y||y.role!=="admin")throw new Error("You must be logged in as an admin to update order status");const v=await KA(t._id,p);console.log("Order status updated successfully:",v),e&&e(v.order),mr(`Order status updated to ${p} successfully!`)}catch(y){console.error("Error updating order status:",y),console.error("Error details:",y.response?.data),console.error("Error status code:",y.response?.status),console.error("Error headers:",y.response?.headers);let v="Failed to update order status";y.response?y.response.status===403?v="Access denied: Only admins can update order status":y.response.status===404?v="Order not found":y.response.status===400?v=y.response.data?.message||"Invalid request":y.response.status===500?v="Server error: Please try again later":v=y.response.data?.message||`Server error (${y.response.status})`:y.request?v="Network error: Unable to connect to server. Please check if the server is running.":v=y.message||"Unknown error occurred",Ye(v),r(t.status)}finally{o(!1)}},h=p=>{const m=c.find(x=>x.value===p);return m?m.color:"secondary"};return a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("select",{className:`form-select form-select-sm bg-${h(n)} text-white border-0`,value:n,onChange:p=>{r(p.target.value),u(p.target.value)},disabled:s,style:{minWidth:"120px"},children:c.map(p=>a.jsx("option",{value:p.value,className:"text-dark",children:p.label},p.value))}),s&&a.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Updating..."})})]})},fM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState([]),[s,o]=A.useState(!0),[c,u]=A.useState(""),[h,p]=A.useState("all"),[m,x]=A.useState(null),[y,v]=A.useState(!1),[w,j]=A.useState(!1),C=A.useCallback(async()=>{try{o(!0);const I=await o0();r(I),u("")}catch(I){console.error("Error fetching orders:",I),u("Failed to load orders")}finally{o(!1)}},[]);A.useEffect(()=>{if(t?.role!=="admin"){e("/");return}C()},[t?.role,C,e]);const O=async I=>{if(window.confirm("Are you sure you want to delete this order? This action cannot be undone."))try{await GA(I),C(),mr("Order deleted successfully!")}catch(R){console.error("Error deleting order:",R),Ye(R.response?.data?.message||"Failed to delete order")}},V=async I=>{try{const R=await Zd(I);x(R),v(!0)}catch(R){console.error("Error fetching order details:",R),Ye("Failed to load order details")}},q=async I=>{try{const R=await Zd(I);x(R),j(!0)}catch(R){console.error("Error fetching order details:",R),Ye("Failed to load order details")}},Q=I=>{r(n.map(R=>R._id===I._id?I:R))},z=I=>{r(n.map(R=>R._id===I._id?I:R))},B=()=>{v(!1),j(!1),x(null)},_=n.filter(I=>h==="all"?!0:I.status===h);return s?a.jsx("div",{className:"container mt-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})}),a.jsx("p",{className:"mt-2",children:"Loading orders..."})]})}):a.jsxs("div",{className:"container mt-4 admin-orders-page",children:[a.jsxs("div",{className:"admin-header d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"admin-title",children:"Order Management"}),a.jsx("p",{className:"admin-subtitle text-muted",children:"Manage all orders and their statuses"})]}),a.jsxs(yt,{to:"/admin/create-order",className:"btn btn-primary admin-create-btn",children:[a.jsx("i",{className:"bi bi-plus-circle"})," Create New Order"]})]}),c&&a.jsx("div",{className:"alert alert-danger",children:c}),a.jsxs("div",{className:"row mb-4 admin-stats-row",children:[a.jsx("div",{className:"col-md-6 mb-3 mb-md-0",children:a.jsx("div",{className:"card admin-stats-card",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h6",{className:"admin-stats-title",children:"Quick Stats"}),a.jsxs("div",{className:"row text-center",children:[a.jsxs("div",{className:"col",children:[a.jsx("h4",{className:"text-primary admin-stats-number",children:n.length}),a.jsx("small",{children:"Total Orders"})]}),a.jsxs("div",{className:"col",children:[a.jsx("h4",{className:"text-warning admin-stats-number",children:n.filter(I=>I.sellerResponse==="pending").length}),a.jsx("small",{children:"Pending"})]}),a.jsxs("div",{className:"col",children:[a.jsx("h4",{className:"text-success admin-stats-number",children:n.filter(I=>I.status==="delivered").length}),a.jsx("small",{children:"Delivered"})]})]})]})})}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{className:"form-label admin-filter-label",children:"Filter by Status"}),a.jsxs("select",{className:"form-select admin-filter-select",value:h,onChange:I=>p(I.target.value),children:[a.jsx("option",{value:"all",children:"All Orders"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"picked",children:"Picked"}),a.jsx("option",{value:"delivered",children:"Delivered"})]})]})]}),_.length===0?a.jsx("div",{className:"alert alert-info",children:h==="all"?"No orders found. Create your first order!":`No orders found with status: ${h}`}):a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"order-table",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Order #"}),a.jsx("th",{children:"Seller"}),a.jsx("th",{children:"Products"}),a.jsx("th",{children:"Total Amount"}),a.jsx("th",{children:"Total Profit"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Seller Response"}),a.jsx("th",{children:"Created"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:_.map(I=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:I.orderNumber})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:I.seller?.name}),a.jsx("br",{}),a.jsx("small",{className:"text-muted",children:I.seller?.shopName}),a.jsx("br",{}),a.jsxs("small",{className:"text-success",children:["Balance: $",I.seller?.creditAmount||0]})]})}),a.jsx("td",{children:a.jsx("div",{style:{maxWidth:"200px"},children:I.items.map((R,E)=>a.jsxs("div",{className:"small mb-1",children:[a.jsx("strong",{children:R.product?.name}),"  ",R.quantity,a.jsx("br",{}),a.jsxs("span",{className:"text-muted",children:["$",R.totalPrice.toFixed(2)]})]},E))})}),a.jsx("td",{children:a.jsxs("strong",{className:"text-primary",children:["$",I.totalAmount.toFixed(2)]})}),a.jsx("td",{children:a.jsxs("strong",{className:"text-success",children:["$",I.totalProfit.toFixed(2)]})}),a.jsx("td",{children:a.jsx(uM,{order:I,onStatusChange:z})}),a.jsx("td",{children:a.jsx("span",{className:`order-badge ${I.sellerResponse}`,children:I.sellerResponse.toUpperCase()})}),a.jsxs("td",{children:[a.jsx("small",{children:new Date(I.createdAt).toLocaleDateString()}),a.jsx("br",{}),a.jsx("small",{className:"text-muted",children:new Date(I.createdAt).toLocaleTimeString()})]}),a.jsxs("td",{className:"actions",children:[a.jsx("button",{className:"icon-action view",onClick:()=>V(I._id),title:"View Order Details",children:a.jsx(ZS,{})}),a.jsx("button",{className:"icon-action edit",onClick:()=>q(I._id),title:"Edit Order",children:a.jsx(i0,{})}),a.jsx("button",{className:"icon-action delete",onClick:()=>O(I._id),title:"Delete Order",children:a.jsx(a0,{})})]})]},I._id))})]})}),y&&a.jsx(l0,{order:m,onClose:B}),w&&a.jsx(dM,{order:m,onClose:B,onSave:Q})]})};function hM(t){return pe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const pM="https://backvolverine.vercel.app/api",mM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState([]),[s,o]=A.useState([]),[c,u]=A.useState(""),[h,p]=A.useState([]),[m,x]=A.useState(""),[y,v]=A.useState(!1),[w,j]=A.useState(""),[C,O]=A.useState(""),V=A.useCallback(()=>t?.token?{Authorization:`Bearer ${t.token}`}:{},[t?.token]),q=A.useCallback(async()=>{try{const $=(await ge.get(`${pM}/users`,{headers:V()})).data.filter(M=>M.role==="seller"&&M.approved);r($)}catch(H){console.error("Error fetching sellers:",H),j("Failed to load sellers")}},[V]),Q=A.useCallback(async H=>{if(!H){o([]);return}try{const $=await tM(H);o($),p([])}catch($){console.error("Error fetching seller products:",$),j("Failed to load seller products"),o([])}},[]);A.useEffect(()=>{if(t?.role!=="admin"){e("/");return}q()},[t?.role,q,e]),A.useEffect(()=>{c&&Q(c)},[c,Q]);const z=()=>{p([...h,{productId:"",quantity:1}])},B=H=>{p(h.filter(($,M)=>M!==H))},_=(H,$,M)=>{const T=[...h];T[H][$]=M,p(T)},I=()=>h.reduce((H,$)=>{const M=s.find(T=>T._id===$.productId);if(M){const T=M.sellerDiscountedPrice||M.sellerPrice;return H+T*$.quantity}return H},0),R=()=>h.reduce((H,$)=>{const M=s.find(T=>T._id===$.productId);if(M){const T=M.sellerPrice,te=M.sellerDiscountedPrice||M.sellerPrice,U=(T-te)*$.quantity;return H+U}return H},0),E=async H=>{if(H.preventDefault(),j(""),O(""),y)return;if(!c){j("Please select a seller");return}if(h.length===0){j("Please add at least one product");return}if(h.filter(M=>!M.productId||M.quantity<1).length>0){j("Please ensure all items have valid products and quantities");return}try{v(!0),console.log("Creating order with data:",{sellerId:c,items:h,notes:m});const M=await WA({sellerId:c,items:h,notes:m});console.log("Order created successfully:",M),O("Order created successfully! Redirecting..."),setTimeout(()=>{e("/admin/orders")},1500)}catch(M){console.error("Error creating order:",M),console.error("Error details:",M.response?.data),j(M.response?.data?.message||"Failed to create order")}finally{v(!1)}};return t?.role!=="admin"?null:a.jsx("div",{className:"container-fluid py-4",style:{backgroundColor:"#f8f9fa",minHeight:"100vh"},children:a.jsx("div",{className:"row justify-content-center",children:a.jsxs("div",{className:"col-12 col-lg-10 col-xl-8",children:[a.jsxs("div",{className:"d-flex align-items-center mb-4",children:[a.jsxs("button",{onClick:()=>e("/admin/orders"),className:"btn btn-outline-secondary me-3 d-flex align-items-center",style:{borderRadius:"12px"},children:[a.jsx("i",{className:"bi bi-arrow-left me-1"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"mb-0 fw-bold text-dark",children:"Create New Order"}),a.jsx("p",{className:"text-muted mb-0",children:"Add a new order for your sellers"})]})]}),a.jsxs("div",{className:"card border-0 shadow-lg",style:{borderRadius:"20px",overflow:"hidden"},children:[a.jsx("div",{className:"card-header border-0 text-white p-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-circle p-3 me-3",children:a.jsx("i",{className:"bi bi-cart-plus fs-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-bold",children:"Order Creation"}),a.jsx("p",{className:"mb-0 opacity-90",children:"Fill in the details below to create an order"})]})]})}),a.jsxs("div",{className:"card-body p-4",children:[w&&a.jsx("div",{className:"alert alert-danger border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),w]})}),C&&a.jsx("div",{className:"alert alert-success border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("i",{className:"bi bi-check-circle-fill me-2"}),C]})}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{htmlFor:"seller",className:"form-label fw-semibold text-dark mb-3",children:[a.jsx("i",{className:"bi bi-person-badge me-2 text-primary"}),"Select Seller"]}),a.jsxs("select",{id:"seller",className:"form-select py-3 border-2",style:{borderRadius:"12px",fontSize:"0.95rem"},value:c,onChange:H=>u(H.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Choose a seller..."}),n.map(H=>a.jsxs("option",{value:H._id,children:[H.name," - ",H.shopName," (Balance: $",H.creditAmount||0,")"]},H._id))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold text-dark mb-0",children:[a.jsx("i",{className:"bi bi-box-seam me-2 text-primary"}),"Products"]}),a.jsxs("button",{type:"button",className:"btn btn-success d-flex align-items-center",style:{borderRadius:"12px"},onClick:z,disabled:!c||s.length===0,children:[a.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add Product"]})]}),h.length===0&&a.jsxs("div",{className:"alert alert-info border-0 text-center py-4",style:{borderRadius:"16px",backgroundColor:"#e3f2fd"},children:[a.jsx("i",{className:"bi bi-info-circle fs-4 text-info mb-2"}),a.jsx("p",{className:"mb-2 fw-semibold",children:"No products added yet"}),a.jsx("p",{className:"mb-0 text-muted",children:c?'Click "Add Product" to start building your order':"Select a seller first to view available products"})]}),!c&&a.jsxs("div",{className:"alert alert-warning border-0 text-center py-4",style:{borderRadius:"16px",backgroundColor:"#fff3cd"},children:[a.jsx("i",{className:"bi bi-exclamation-triangle fs-4 text-warning mb-2"}),a.jsx("p",{className:"mb-0 fw-semibold",children:"Please select a seller first to view their available products"})]}),c&&s.length===0&&a.jsxs("div",{className:"alert alert-warning border-0 text-center py-4",style:{borderRadius:"16px",backgroundColor:"#fff3cd"},children:[a.jsx("i",{className:"bi bi-exclamation-triangle fs-4 text-warning mb-2"}),a.jsx("p",{className:"mb-0 fw-semibold",children:"This seller has no products available in their inventory"})]}),a.jsx("div",{className:"row g-3",children:h.map((H,$)=>a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px",border:"1px solid #e9ecef"},children:a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"row align-items-end g-3",children:[a.jsxs("div",{className:"col-md-5",children:[a.jsx("label",{className:"form-label small fw-semibold text-secondary",children:"Product"}),a.jsxs("select",{className:"form-select border-2",style:{borderRadius:"10px"},value:H.productId,onChange:M=>_($,"productId",M.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select product..."}),s.map(M=>a.jsx("option",{value:M._id,children:M.product&&M.product.name?`${M.product.name} - $${M.sellerDiscountedPrice||M.sellerPrice} (Stock: ${M.sellerQuantity})`:`Unknown Product - $${M.sellerDiscountedPrice||M.sellerPrice} (Stock: ${M.sellerQuantity})`},M._id))]})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small fw-semibold text-secondary",children:"Product Value"}),a.jsx("div",{className:"p-2 bg-info bg-opacity-10 text-center fw-bold text-info",style:{borderRadius:"10px"},children:(()=>{const M=s.find(T=>T._id===H.productId);return M?`$${(M.sellerDiscountedPrice||M.sellerPrice).toFixed(2)}`:"$0.00"})()})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small fw-semibold text-secondary",children:"Quantity"}),a.jsx("input",{type:"number",className:"form-control border-2 text-center fw-semibold",style:{borderRadius:"10px"},min:"1",max:(()=>{const M=s.find(T=>T._id===H.productId);return M?M.sellerQuantity:999})(),value:H.quantity,onChange:M=>_($,"quantity",parseInt(M.target.value)||1),required:!0}),s.find(T=>T._id===H.productId)?a.jsx("small",{className:"text-muted"}):null]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small fw-semibold text-secondary",children:"Profit"}),a.jsx("div",{className:"p-2 bg-success bg-opacity-10 text-center fw-bold text-success",style:{borderRadius:"10px"},children:(()=>{const M=s.find(T=>T._id===H.productId);if(M){const T=M.sellerPrice,te=M.sellerDiscountedPrice||M.sellerPrice;return`$${((T-te)*H.quantity).toFixed(2)}`}return"$0.00"})()})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsx("label",{className:"form-label small fw-semibold text-secondary",children:"Total"}),a.jsx("div",{className:"p-2 bg-light text-center fw-bold text-primary",style:{borderRadius:"10px"},children:(()=>{const M=s.find(T=>T._id===H.productId);return M?`$${((M.sellerDiscountedPrice||M.sellerPrice)*H.quantity).toFixed(2)}`:"$0.00"})()})]}),a.jsx("div",{className:"col-md-1",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",style:{borderRadius:"10px"},onClick:()=>B($),title:"Remove product",children:a.jsx(hM,{})})})]})})})},$))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{htmlFor:"notes",className:"form-label fw-semibold text-dark mb-3",children:[a.jsx("i",{className:"bi bi-chat-left-text me-2 text-primary"}),"Notes (Optional)"]}),a.jsx("textarea",{id:"notes",className:"form-control border-2",style:{borderRadius:"12px",minHeight:"100px"},value:m,onChange:H=>x(H.target.value),placeholder:"Add any special instructions or notes for this order..."})]}),h.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("h5",{className:"text-white fw-bold mb-3",children:[a.jsx("i",{className:"bi bi-calculator me-2"}),"Order Summary"]}),a.jsxs("div",{className:"row text-white",children:[a.jsxs("div",{className:"col-md-3 text-center",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 mb-2",children:a.jsx("i",{className:"bi bi-box fs-3"})}),a.jsx("h6",{className:"fw-bold",children:h.length}),a.jsx("small",{className:"opacity-90",children:"Items"})]}),a.jsxs("div",{className:"col-md-3 text-center",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 mb-2",children:a.jsx("i",{className:"bi bi-currency-dollar fs-3"})}),a.jsxs("h6",{className:"fw-bold",children:["$",I().toFixed(2)]}),a.jsx("small",{className:"opacity-90",children:"Total Amount"})]}),a.jsxs("div",{className:"col-md-3 text-center",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 mb-2",children:a.jsx("i",{className:"bi bi-graph-up fs-3"})}),a.jsxs("h6",{className:"fw-bold",children:["$",R().toFixed(2)]}),a.jsx("small",{className:"opacity-90",children:"Total Profit"})]}),a.jsxs("div",{className:"col-md-3 text-center",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 mb-2",children:a.jsx("i",{className:"bi bi-percent fs-3"})}),a.jsxs("h6",{className:"fw-bold",children:[I()>0?(R()/I()*100).toFixed(1):0,"%"]}),a.jsx("small",{className:"opacity-90",children:"Profit Margin"})]})]})]})})}),a.jsxs("div",{className:"d-flex gap-3 pt-3",children:[a.jsx("button",{type:"submit",className:"btn btn-primary btn-lg px-4 py-3 flex-grow-1",style:{borderRadius:"12px"},disabled:y||h.length===0,children:y?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Order..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"Create Order"]})}),a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 py-3",style:{borderRadius:"12px"},onClick:()=>e("/admin/orders"),children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancel"]})]})]})]})]})]})})})},ij="https://backvolverine.vercel.app/api",gM=async t=>{try{let e={Accept:"application/json","Content-Type":"application/json"};const n=JSON.parse(localStorage.getItem("alfauser"));n?.token&&(e.Authorization=`Bearer ${n.token}`);const r=await fetch(`${ij}/products/${t}`,{method:"GET",headers:e,mode:"cors"});if(!r.ok){const s=await r.text();throw console.error("API Error:",r.status,s),new Error(`Failed to fetch product: ${r.status}`)}return await r.json()}catch(e){throw console.error("Fetch error:",e),e}},xM=async t=>{try{let e={};const n=JSON.parse(localStorage.getItem("alfauser"));n?.token&&(e.Authorization=`Bearer ${n.token}`),t instanceof FormData||(e["Content-Type"]="application/json");const r=await fetch(`${ij}/products`,{method:"POST",headers:e,mode:"cors",body:t instanceof FormData?t:JSON.stringify(t)});if(!r.ok){let o;try{o=await r.json()}catch{o={}}throw new Error(o.message||"Failed to create product")}const s=await r.text();return s?JSON.parse(s):{}}catch(e){throw console.error("Create product error:",e),e}};function bM(){const[t,e]=A.useState({name:"",price:"",description:"",image:"",discountedPrice:"",quantity:"",category:"Newest"}),[n,r]=A.useState(null),[s,o]=A.useState(""),[c,u]=A.useState(""),[h,p]=A.useState(""),[m,x]=A.useState(!1),y=j=>{e({...t,[j.target.name]:j.target.value})},v=j=>{const C=j.target.files[0];if(r(C),C){const O=new FileReader;O.onloadend=()=>{o(O.result)},O.readAsDataURL(C)}else o("")},w=async j=>{j.preventDefault(),u(""),p("");const C={name:t.name,price:t.price,description:t.description,discountedPrice:t.discountedPrice,quantity:t.quantity,category:t.category,image:s};try{await xM(C),u("Product created successfully!"),e({name:"",price:"",description:"",image:"",discountedPrice:"",quantity:"",category:"Newest"}),r(null),o("")}catch(O){p(O.message||"Failed to create product")}};return a.jsxs("div",{className:"main-wrapper",children:[a.jsx("h4",{children:"Create Product"}),c&&a.jsx("div",{className:"alert alert-success",children:c}),h&&a.jsx("div",{className:"alert alert-danger",children:h}),a.jsx("div",{className:"form-wrapper",children:a.jsxs("form",{onSubmit:w,className:"row g-3",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Name"}),a.jsx("input",{name:"name",className:"form-control",placeholder:"Name",value:t.name,onChange:y,required:!0})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Price"}),a.jsx("input",{name:"price",type:"number",className:"form-control",placeholder:"Price",value:t.price,onChange:y,required:!0})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Discounted Price"}),a.jsx("input",{name:"discountedPrice",type:"number",className:"form-control",placeholder:"Discounted Price",value:t.discountedPrice,onChange:y})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"",children:"Quantity"}),a.jsx("input",{name:"quantity",type:"number",className:"form-control",placeholder:"Quantity",value:t.quantity,onChange:y,required:!0})]}),a.jsxs("div",{className:"col-12",children:[a.jsx("label",{htmlFor:"",children:"Category"}),a.jsxs("select",{name:"category",className:"form-select",value:t.category,onChange:y,required:!0,children:[a.jsx("option",{value:"Newest",children:"Newest"}),a.jsx("option",{value:"popular",children:"Popular"}),a.jsx("option",{value:"most selling",children:"Most Selling"})]})]}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"image-preview",children:[n&&a.jsx("div",{className:"image",children:a.jsx("img",{src:s,alt:"Product"})}),a.jsx("label",{htmlFor:"",children:"Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:v})]})}),a.jsxs("div",{className:"col-12",children:[a.jsx("label",{htmlFor:"",children:"Description"}),a.jsx("textarea",{name:"description",className:"form-control",placeholder:"Description",value:t.description,onChange:y})]}),a.jsx("div",{className:"col-12",children:a.jsx("button",{type:"submit",className:"button",disabled:m,children:m?"Uploading...":"Create"})})]})})]})}function yM(t){return pe({attr:{t:"1569683642448",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"path",attr:{d:"M632 698.3l141.9-112c4.1-3.2 4.1-9.4 0-12.6L632 461.7c-5.3-4.2-13-0.4-13 6.3v76H295c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h324v76c0 6.7 7.8 10.4 13 6.3zM893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v278c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V422c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-83.5c0-17-6.7-33.2-18.7-45.2zM640 288H384V184h256v104zM904 724h-56c-4.4 0-8 3.6-8 8v108H184V732c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v148c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V732c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function vM(t){return pe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M16,16 C16,14.8954305 12.8659932,14 9,14 C5.13400675,14 2,14.8954305 2,16 C2,17.1045695 5.13400675,18 9,18 C12.8659932,18 16,17.1045695 16,16 Z M2,16 L2,20.9367547 C2,22.0762536 5.13400675,23 9,23 C12.8659932,23 16,22.0762537 16,20.9367548 L16,16 M9,5 C4.581722,5 1,5.8954305 1,7 C1,8.1045695 4.581722,9 9,9 M1,7 L1,12.0000002 C1,13.0128881 4.581722,14 9,14 M23,4 C23,2.8954305 19.9004329,2 16.0769231,2 C12.2534133,2 9.15384615,2.8954305 9.15384615,4 C9.15384615,5.1045695 12.2534133,6 16.0769231,6 C19.9004329,6 23,5.1045695 23,4 Z M16,16 C19.8235098,16 23.0000002,15.0128879 23.0000002,14 L23,4 M9.15384615,3.99999999 L9.15384615,14.1660042 M8.99999999,9.00000001 C8.99999999,10.0128879 12.2534135,11 16.0769233,11 C19.9004331,11 23.0000004,10.0128879 23.0000004,9.00000001"},child:[]}]})(t)}const t2="http://:5001/api",wM=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,o]=A.useState(""),[c,u]=A.useState([]),h=async()=>{r(!0);try{const x=JSON.parse(localStorage.getItem("alfauser"))?.token,[y,v]=await Promise.all([ge.get(`${t2}/users`,{headers:{Authorization:`Bearer ${x}`}}),ge.get(`${t2}/products`)]);e(y.data),u(v.data)}catch{o("Failed to fetch data")}finally{r(!1)}};A.useEffect(()=>{h()},[]);const p=x=>x>=1e3?(x/1e3).toFixed(x%1e3===0?0:1)+"k":x>100?(x/1e3).toFixed(1)+"k":x.toFixed(2),m=c?.reduce((x,y)=>x+y.price*y.quantity,0);return c.length,c.reduce((x,y)=>x+y.price*y.quantity,0),t.filter(x=>x.role==="seller"&&x.approved),t.filter(x=>x.role==="seller"&&!x.approved),a.jsxs("div",{className:"dashboard-stats",children:[a.jsx("h2",{className:"title",children:"Summary Of Your App"}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:a.jsxs("div",{className:"stat-box",children:[a.jsx("div",{className:"box",children:a.jsx(JA,{})}),a.jsx("h3",{className:"text",children:"Total Sellers"}),a.jsx("p",{className:"text-bold",children:t?.length})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:a.jsxs("div",{className:"stat-box",children:[a.jsx("div",{className:"box",children:a.jsx(QT,{})}),a.jsx("h3",{className:"text",children:"Total Products"}),a.jsx("p",{className:"text-bold",children:c?.length})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:a.jsxs("div",{className:"stat-box",children:[a.jsx("div",{className:"box",children:a.jsx(yM,{})}),a.jsx("h3",{className:"text",children:"Total Orders"}),a.jsx("p",{className:"text-bold",children:"50+"})]})}),a.jsx("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:a.jsxs("div",{className:"stat-box",children:[a.jsx("div",{className:"box",children:a.jsx(vM,{})}),a.jsx("h3",{className:"text",children:"Total Revenue Generated"}),a.jsxs("p",{className:"text-bold",children:["$",p(m)]})]})})]}),a.jsx("div",{className:"row mt-4"})]})},SM=()=>{const t=JSON.parse(localStorage.getItem("alfauser")),e=Rt(),[n,r]=A.useState([]),[s,o]=A.useState({}),[c,u]=A.useState(!0),[h,p]=A.useState(""),[m,x]=A.useState(null),[y,v]=A.useState(null),[w,j]=A.useState(!1),[C,O]=A.useState(!1),[V,q]=A.useState(null),[Q,z]=A.useState(!1),[B,_]=A.useState({amount:"",accountDetails:"",email:"",walletAddress:"",accountNumber:"",routingNumber:"",notes:""}),I=A.useCallback(async()=>{try{u(!0);const[L,K]=await Promise.all([o0(),Hl()]);r(L),o(K),p("")}catch(L){console.error("Error fetching data:",L),p("Failed to load dashboard data")}finally{u(!1)}},[]);A.useEffect(()=>{if(t?.role!=="seller"){e("/");return}I()},[t?.role,I,e]);const R=async(L,K,Z="")=>{try{x(L),await tj(L,K,Z),I(),mr(`Order ${K} successfully!`)}catch(oe){console.error("Error responding to order:",oe),Ye(oe.response?.data?.message||`Failed to ${K} order`)}finally{x(null)}},E=async L=>{try{const K=await Zd(L);v(K),j(!0)}catch(K){console.error("Error fetching order details:",K),Ye("Failed to load order details")}},H=()=>{j(!1),v(null)},$=L=>{q(L),z(!0)},M=()=>{O(!1)},T=()=>{z(!1),q(null),_({amount:"",accountDetails:"",email:"",walletAddress:"",accountNumber:"",routingNumber:"",notes:""})},te=L=>{L.preventDefault();const K=s?.creditAmount||0,Z=parseFloat(B.amount);if(Z>K){Ye("Withdrawal amount cannot exceed available credit balance.");return}if(Z<10){Ye("Minimum withdrawal amount is $10.");return}Ye("Sorry, this payment method is not available in your region at the moment. Please contact our support team for assistance or try another payment method."),T()},U=(L,K)=>{_(Z=>({...Z,[L]:K}))},N=L=>({paypal:{title:"PayPal Withdrawal",icon:"fab fa-paypal",fields:["email"],minAmount:10,processingTime:"1-2 business days"},stripe:{title:"Bank Transfer (Stripe)",icon:"fab fa-stripe",fields:["accountNumber","routingNumber"],minAmount:25,processingTime:"3-5 business days"},wise:{title:"Wise International Transfer",icon:"fas fa-university",fields:["accountDetails"],minAmount:20,processingTime:"1-3 business days"},skrill:{title:"Skrill E-wallet",icon:"fas fa-credit-card",fields:["email"],minAmount:15,processingTime:"1-2 business days"},neteller:{title:"Neteller Digital Wallet",icon:"fas fa-wallet",fields:["email"],minAmount:15,processingTime:"1-2 business days"},perfectmoney:{title:"Perfect Money",icon:"fas fa-money-check-alt",fields:["accountDetails"],minAmount:10,processingTime:"Within 24 hours"},webmoney:{title:"WebMoney",icon:"fas fa-globe",fields:["accountDetails"],minAmount:20,processingTime:"Within 24 hours"}})[L]||{},le=L=>{window.confirm("Are you sure you want to accept this order? The order amount will be deducted from your credit balance.")&&R(L,"accepted")},W=L=>{const K=prompt("Please provide a reason for rejection (optional):");K!==null&&R(L,"rejected",K)},S=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L);if(c)return a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})});const P=n.filter(L=>L.sellerResponse==="accepted"&&L.status!=="delivered").reduce((L,K)=>L+(K.totalProfit||0),0);return a.jsxs("div",{className:"container-fluid",children:[a.jsx("div",{className:"mb-3",children:a.jsx(yt,{to:"/seller/manage-products",className:"btn btn-outline-primary",children:"Manage your products"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h2",{children:"Seller Dashboard"}),a.jsxs("div",{className:"text-muted",children:["Welcome back, ",t?.name,"!"]})]}),h&&a.jsx("div",{className:"alert alert-danger",role:"alert",children:h}),a.jsxs("div",{className:"row g-3 g-md-4 mb-5",children:[a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-5px)",L.currentTarget.style.boxShadow="0 20px 40px rgba(102, 126, 234, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title text-white-50 mb-2 fw-medium",style:{fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Credit Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:S(s?.creditAmount||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-wallet",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(252, 182, 159, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-5px)",L.currentTarget.style.boxShadow="0 20px 40px rgba(252, 182, 159, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 10px 30px rgba(252, 182, 159, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(139, 69, 19, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Pending Amount"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#8b4513",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:S(s?.pendingAmount||0)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-hourglass-half",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#8b4513"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(139, 69, 19, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(168, 237, 234, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-5px)",L.currentTarget.style.boxShadow="0 20px 40px rgba(168, 237, 234, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 10px 30px rgba(168, 237, 234, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(34, 139, 34, 0.8)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Accepted Profit"}),a.jsx("h3",{className:"fw-bold mb-0",style:{color:"#228b22",fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:S(P)})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(34, 139, 34, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-chart-line",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",color:"#228b22"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(34, 139, 34, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"card text-white h-100 border-0",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(250, 112, 154, 0.3)",transition:"all 0.3s ease",overflow:"hidden",position:"relative"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-5px)",L.currentTarget.style.boxShadow="0 20px 40px rgba(250, 112, 154, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 10px 30px rgba(250, 112, 154, 0.3)"},children:[a.jsx("div",{className:"card-body p-3 p-md-4",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"card-title mb-2 fw-medium",style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"clamp(0.75rem, 2.5vw, 0.9rem)"},children:"Total Orders"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{fontSize:"clamp(1rem, 5vw, 1.8rem)"},children:s.totalOrders||0})]}),a.jsx("div",{className:"ms-2 ms-md-3",style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"clamp(8px, 2vw, 12px)",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-shopping-cart",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)"}})})]})}),a.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"80px",height:"80px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(30px)"}})]})})]}),a.jsx("div",{className:"mb-4",children:a.jsx(c0,{stats:s,acceptedProfit:P})}),a.jsx("div",{className:"card mb-5",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%)",border:"none",borderRadius:"20px",boxShadow:"0 20px 40px rgba(99, 102, 241, 0.15)"},children:a.jsxs("div",{className:"card-body p-4 p-md-5",children:[a.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-3 p-3 me-3 me-md-4",style:{backdropFilter:"blur(10px)"},children:a.jsx("i",{className:"fas fa-money-bill-wave text-white fs-4 fs-md-3"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-1 mb-md-2 fw-bold",style:{fontSize:"clamp(1.2rem, 4vw, 1.5rem)"},children:"Withdraw Your Earnings"}),a.jsx("p",{className:"text-white-50 mb-0 small",children:"Select your preferred payment method to get started"})]})]}),a.jsxs("div",{className:"text-start text-md-end",children:[a.jsx("p",{className:"text-white-50 mb-1 small fw-medium",children:"Available Balance"}),a.jsx("h3",{className:"text-white fw-bold mb-0",style:{textShadow:"0 2px 4px rgba(0,0,0,0.1)",fontSize:"clamp(1.3rem, 5vw, 1.8rem)"},children:S(s?.creditAmount||0)})]})]}),a.jsxs("div",{className:"row g-3 g-md-4",children:[a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("paypal"),style:{background:"linear-gradient(135deg, #003087 0%, #009cde 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 48, 135, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(0, 48, 135, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(0, 48, 135, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fab fa-paypal",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"PayPal"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Instant & Secure"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("stripe"),style:{background:"linear-gradient(135deg, #635bff 0%, #7c3aed 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(99, 91, 255, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(99, 91, 255, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(99, 91, 255, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fab fa-stripe-s",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Stripe"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Bank Transfer"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("wise"),style:{background:"linear-gradient(135deg, #00b9ff 0%, #0066cc 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 185, 255, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(0, 185, 255, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(0, 185, 255, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-globe-americas",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Wise"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"International"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("skrill"),style:{background:"linear-gradient(135deg, #862165 0%, #b83280 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(134, 33, 101, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(134, 33, 101, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(134, 33, 101, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-wallet",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Skrill"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"E-wallet"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("neteller"),style:{background:"linear-gradient(135deg, #00ac41 0%, #00d4aa 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 172, 65, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(0, 172, 65, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(0, 172, 65, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-credit-card",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Neteller"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Digital Wallet"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("perfectmoney"),style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(30, 64, 175, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(30, 64, 175, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(30, 64, 175, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-money-check-alt",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"Perfect Money"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Online Payment"})]})}),a.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:a.jsxs("div",{className:"payment-method-card",onClick:()=>$("webmoney"),style:{background:"linear-gradient(135deg, #dc2626 0%, #f59e0b 100%)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(220, 38, 38, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-8px) scale(1.02)",L.currentTarget.style.boxShadow="0 20px 40px rgba(220, 38, 38, 0.4)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0) scale(1)",L.currentTarget.style.boxShadow="0 8px 32px rgba(220, 38, 38, 0.3)"},children:[a.jsx("div",{className:"text-white mb-3",children:a.jsx("i",{className:"fas fa-globe",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)"}})}),a.jsx("h6",{className:"text-white mb-2 fw-bold",children:"WebMoney"}),a.jsx("small",{className:"text-white-75 fw-medium",children:"Global Payment"})]})})]})]})}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h5",{className:"card-title mb-0",children:"Recent Orders"})}),a.jsx("div",{className:"card-body order-table",children:n.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("i",{className:"fas fa-inbox fa-3x text-muted mb-3"}),a.jsx("p",{className:"text-muted",children:"No orders found"})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"order-table",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Order #"}),a.jsx("th",{children:"Products"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Profit"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Response"}),a.jsx("th",{children:"Created"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:n.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{className:"text-muted",children:L.orderNumber})}),a.jsx("td",{children:L.items.map((K,Z)=>a.jsx("div",{className:"mb-1",children:a.jsxs("small",{children:[K?.product?K?.product?.name:"N/A"," x",K?.quantity]})},Z))}),a.jsx("td",{children:a.jsx("strong",{children:S(L.totalAmount)})}),a.jsx("td",{children:a.jsxs("span",{className:"text-success",children:["+",S(L.totalProfit)]})}),a.jsx("td",{children:a.jsx("span",{className:`order-badge ${L.status}`,children:L.status})}),a.jsx("td",{children:a.jsx("span",{className:`order-badge ${L.sellerResponse}`,children:L.sellerResponse})}),a.jsx("td",{children:a.jsx("small",{className:"text-muted",children:new Date(L.createdAt).toLocaleDateString()})}),a.jsx("td",{children:a.jsxs("div",{className:"actions",children:[a.jsx("button",{className:"icon-action view mb-1",onClick:()=>E(L._id),title:"View Order Details",children:"View"}),L.sellerResponse==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"icon-action edit mb-1",onClick:()=>le(L._id),disabled:m===L._id,children:m===L._id?"Processing...":"Accept"}),a.jsx("button",{className:"icon-action delete",onClick:()=>W(L._id),disabled:m===L._id,children:"Reject"})]}),L.sellerResponse==="rejected"&&L.rejectionReason&&a.jsxs("small",{className:"text-muted",children:["Reason: ",L.rejectionReason]})]})})]},L._id))})]})})})]}),w&&a.jsx(l0,{order:y,onClose:H}),C&&a.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},onClick:M,children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",onClick:L=>L.stopPropagation(),style:{maxWidth:"400px"},children:a.jsxs("div",{className:"modal-content",style:{border:"none",borderRadius:"20px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)"},children:[a.jsx("div",{className:"modal-header text-center",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",border:"none",padding:"30px 20px 20px"},children:a.jsxs("div",{className:"w-100",children:[a.jsx("div",{className:"mx-auto mb-3",style:{width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("i",{className:"fas fa-exclamation-triangle text-white fs-3"})}),a.jsx("h5",{className:"modal-title text-white fw-bold mb-0",children:"Payment Method Unavailable"})]})}),a.jsxs("div",{className:"modal-body text-center p-4",children:[a.jsx("p",{className:"mb-4",style:{color:"#6c757d",lineHeight:"1.6"},children:"Sorry, this payment method is not available in your country at the moment."}),a.jsx("p",{className:"small text-muted mb-4",children:"We're working to expand our payment options. Please try another method or contact support for assistance."}),a.jsx("button",{type:"button",className:"btn btn-primary px-4 py-2",onClick:M,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"10px",fontWeight:"500"},children:"Got it"})]})]})})}),Q&&V&&a.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},onClick:T,children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",onClick:L=>L.stopPropagation(),children:a.jsxs("div",{className:"modal-content",style:{border:"none",borderRadius:"20px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)"},children:[a.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%)",border:"none",padding:"25px 30px"},children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-3",style:{width:"50px",height:"50px",background:"rgba(12, 12, 12, 0.2)",borderRadius:"145px",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:a.jsx("i",{className:`${N(V).icon} text-black fs-4`})}),a.jsxs("div",{children:[a.jsx("h5",{className:"modal-title text-black fw-bold mb-1",children:N(V).title}),a.jsxs("small",{className:"text-white-75",children:["Processing time: ",N(V).processingTime]})]})]}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:T})]}),a.jsxs("div",{className:"modal-body p-4",children:[a.jsxs("div",{className:"row mb-4",children:[a.jsx("div",{className:"col-md-6",children:a.jsx("div",{className:"p-3 rounded-3",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)"},children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("small",{className:"opacity-75",children:"Available Balance"}),a.jsx("h4",{className:"fw-bold mb-0",children:S(s?.creditAmount||0)})]})})}),a.jsx("div",{className:"col-md-6",children:a.jsx("div",{className:"p-3 rounded-3",style:{background:"linear-gradient(135deg, #fd7e14 0%, #ffc107 100%)"},children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("small",{className:"opacity-75",children:"Minimum Withdrawal"}),a.jsx("h4",{className:"fw-bold mb-0",children:S(N(V).minAmount||10)})]})})})]}),a.jsxs("form",{onSubmit:te,children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-dollar-sign me-2"}),"Withdrawal Amount"]}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"0.00",value:B.amount,onChange:L=>U("amount",L.target.value),min:N(V).minAmount||10,max:s?.creditAmount||0,step:"0.01",required:!0,style:{borderRadius:"0 10px 10px 0"}})]}),a.jsxs("small",{className:"text-muted",children:["Min: $",N(V).minAmount||10," | Max: ",S(s?.creditAmount||0)]})]}),N(V).fields?.includes("email")&&a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-envelope me-2"}),"Email Address"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"your@email.com",value:B.email,onChange:L=>U("email",L.target.value),required:!0,style:{borderRadius:"10px"}})]}),N(V).fields?.includes("walletAddress")&&a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fab fa-bitcoin me-2"}),"Wallet Address"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your crypto wallet address",value:B.walletAddress,onChange:L=>U("walletAddress",L.target.value),required:!0,style:{borderRadius:"10px"}}),a.jsx("small",{className:"text-muted",children:"Bitcoin, USDT, or Ethereum address"})]}),N(V).fields?.includes("accountNumber")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-university me-2"}),"Account Number"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter account number",value:B.accountNumber,onChange:L=>U("accountNumber",L.target.value),required:!0,style:{borderRadius:"10px"}})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-code-branch me-2"}),"Routing Number"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"Enter routing number",value:B.routingNumber,onChange:L=>U("routingNumber",L.target.value),required:!0,style:{borderRadius:"10px"}})]})]}),N(V).fields?.includes("accountDetails")&&a.jsxs("div",{className:"col-12 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-info-circle me-2"}),"Account Details"]}),a.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Enter your account details (IBAN, SWIFT, account name, etc.)",value:B.accountDetails,onChange:L=>U("accountDetails",L.target.value),required:!0,style:{borderRadius:"10px"}})]}),a.jsxs("div",{className:"col-12 mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:[a.jsx("i",{className:"fas fa-sticky-note me-2"}),"Additional Notes (Optional)"]}),a.jsx("textarea",{className:"form-control",rows:"2",placeholder:"Any additional information or special instructions",value:B.notes,onChange:L=>U("notes",L.target.value),style:{borderRadius:"10px"}})]})]}),a.jsxs("div",{className:"alert alert-info d-flex align-items-center",style:{background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",border:"none",borderRadius:"10px"},children:[a.jsx("i",{className:"fas fa-info-circle me-2"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Processing Information:"}),a.jsxs("ul",{className:"mb-0 mt-1",children:[a.jsxs("li",{children:["Withdrawal requests are processed within ",N(V).processingTime]}),a.jsx("li",{children:"A 2% processing fee will be deducted from your withdrawal amount"}),a.jsx("li",{children:"You will receive email confirmation once processed"})]})]})]}),a.jsxs("div",{className:"d-flex gap-3 mt-4",children:[a.jsx("button",{type:"button",className:"btn btn-outline-secondary flex-fill py-2",onClick:T,style:{borderRadius:"10px"},children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn btn-primary flex-fill py-2",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none",borderRadius:"12px",fontWeight:"600",boxShadow:"0 4px 20px rgba(99, 102, 241, 0.3)"},children:[a.jsx("i",{className:"fas fa-paper-plane me-2"}),"Submit Withdrawal Request"]})]})]})]})]})})})]})},jM=async t=>{try{return(await ge.delete(`https://backvolverine.vercel.app/api/chat/messages/${t}`,{headers:ys()})).data}catch(e){throw console.error(`Error deleting message ${t}:`,e.response?.data||e.message),e}},eu="https://backvolverine.vercel.app/api",ys=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return t&&t.token?{Authorization:`Bearer ${t.token}`}:{}},NM=async()=>{try{const t=JSON.parse(localStorage.getItem("alfauser"));let e=`${eu}/chat/conversations`;return t&&t.role==="seller"&&(console.log("Seller user - fetching only conversations with admin"),e=`${eu}/chat/conversations/user/admin`),console.log(`Fetching conversations from: ${e}`),(await ge.get(e,{headers:ys()})).data}catch(t){throw console.error("Error fetching conversations:",t),t}},kM=async t=>{try{const e="https://backvolverine.vercel.app/api";console.log(`Getting or creating conversation with user: ${t}`);try{console.log("Using combined get/create endpoint");const n=await ge.get(`${e}/chat/conversations/with/${t}`,{headers:ys()});if(n.data&&n.data._id)return console.log("Successfully got or created conversation:",n.data._id),n.data}catch(n){console.error("Error with combined endpoint:",n.message)}console.log("Using direct creation endpoint as fallback");try{const n=await ge.post(`${e}/chat/conversations`,{recipientId:t},{headers:ys()});if(n.data&&n.data._id)return console.log("Successfully created conversation via direct endpoint:",n.data._id),n.data}catch(n){console.error("Error with direct creation endpoint:",n.message)}console.log("Using last resort approach - checking user conversations");try{const n=await ge.get(`${e}/chat/conversations/user/${t}`,{headers:ys()});if(n.data&&n.data.length>0){const r=n.data[0];return console.log("Found existing conversation in user conversations:",r._id),r}}catch(n){console.error("Error checking user conversations:",n.message)}throw new Error("All attempts to get or create conversation failed")}catch(e){throw console.error("Fatal error in getOrCreateConversation:",e),e}},EM=async t=>{try{return(await ge.get(`${eu}/chat/conversations/${t}/messages`,{headers:ys()})).data}catch(e){throw console.error(`Error getting messages for conversation ${t}:`,e.response?.data||e.message),e.response?.status===403&&console.warn("Authorization error when fetching messages. User may not be a participant."),e}},CM=async(t,e,n)=>{try{const r={content:e};return n&&(r.imageBase64=n),(await ge.post(`${eu}/chat/conversations/${t}/messages`,r,{headers:ys()})).data}catch(r){if(console.error(`Error sending message to conversation ${t}:`,r.response?.data||r.message),r.response){const{status:s,data:o}=r.response;throw s===403?JSON.parse(localStorage.getItem("alfauser"))?.role==="seller"?new Error("Authorization error: Make sure you are chatting with the admin account. If the issue persists, try refreshing the page or starting a new conversation."):new Error("You are not authorized to send messages in this conversation. This may be due to permission issues."):s===404?new Error("The conversation could not be found. It may have been deleted."):new Error(o.message||"Failed to send message")}throw r}},pd=43200,n2=1440,r2=Symbol.for("constructDateFrom");function d0(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&r2 in t?t[r2](e):t instanceof Date?new t.constructor(e):new Date(e)}function _i(t,e){return d0(t,t)}let TM={};function OM(){return TM}function i2(t){const e=_i(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function u0(t,...e){const n=d0.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Bd(t,e){const n=+_i(t)-+_i(e);return n<0?-1:n>0?1:n}function AM(t){return d0(t,Date.now())}function MM(t,e,n){const[r,s]=u0(n?.in,t,e),o=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return o*12+c}function RM(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function DM(t,e){return+_i(t)-+_i(e)}function _M(t,e){const n=_i(t);return n.setHours(23,59,59,999),n}function zM(t,e){const n=_i(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function LM(t,e){const n=_i(t);return+_M(n)==+zM(n)}function PM(t,e,n){const[r,s,o]=u0(n?.in,t,t,e),c=Bd(s,o),u=Math.abs(MM(s,o));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-c*u);let h=Bd(s,o)===-c;LM(r)&&u===1&&Bd(r,o)===1&&(h=!1);const p=c*(u-+h);return p===0?0:p}function BM(t,e,n){const r=DM(t,e)/1e3;return RM(n?.roundingMethod)(r)}const HM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IM=(t,e,n)=>{let r;const s=HM[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const UM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VM={date:pm({formats:UM,defaultWidth:"full"}),time:pm({formats:FM,defaultWidth:"full"}),dateTime:pm({formats:qM,defaultWidth:"full"})},$M={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WM=(t,e,n,r)=>$M[t];function Zo(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const YM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZM=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eR={ordinalNumber:ZM,era:Zo({values:YM,defaultWidth:"wide"}),quarter:Zo({values:KM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zo({values:GM,defaultWidth:"wide"}),day:Zo({values:QM,defaultWidth:"wide"}),dayPeriod:Zo({values:JM,defaultWidth:"wide",formattingValues:XM,defaultFormattingWidth:"wide"})};function el(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?nR(u,x=>x.test(c)):tR(u,x=>x.test(c));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(c.length);return{value:p,rest:m}}}function tR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nR(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const iR=/^(\d+)(th|st|nd|rd)?/i,sR=/\d+/i,aR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oR={any:[/^b/i,/^(a|c)/i]},lR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cR={any:[/1/i,/2/i,/3/i,/4/i]},dR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gR={ordinalNumber:rR({matchPattern:iR,parsePattern:sR,valueCallback:t=>parseInt(t,10)}),era:el({matchPatterns:aR,defaultMatchWidth:"wide",parsePatterns:oR,defaultParseWidth:"any"}),quarter:el({matchPatterns:lR,defaultMatchWidth:"wide",parsePatterns:cR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:el({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),day:el({matchPatterns:fR,defaultMatchWidth:"wide",parsePatterns:hR,defaultParseWidth:"any"}),dayPeriod:el({matchPatterns:pR,defaultMatchWidth:"any",parsePatterns:mR,defaultParseWidth:"any"})},xR={code:"en-US",formatDistance:IM,formatLong:VM,formatRelative:WM,localize:eR,match:gR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bR(t,e,n){const r=OM(),s=n?.locale??r.locale??xR,o=2520,c=Bd(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:c}),[h,p]=u0(n?.in,...c>0?[e,t]:[t,e]),m=BM(p,h),x=(i2(p)-i2(h))/1e3,y=Math.round((m-x)/60);let v;if(y<2)return n?.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,u):m<10?s.formatDistance("lessThanXSeconds",10,u):m<20?s.formatDistance("lessThanXSeconds",20,u):m<40?s.formatDistance("halfAMinute",0,u):m<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):y===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",y,u);if(y<45)return s.formatDistance("xMinutes",y,u);if(y<90)return s.formatDistance("aboutXHours",1,u);if(y<n2){const w=Math.round(y/60);return s.formatDistance("aboutXHours",w,u)}else{if(y<o)return s.formatDistance("xDays",1,u);if(y<pd){const w=Math.round(y/n2);return s.formatDistance("xDays",w,u)}else if(y<pd*2)return v=Math.round(y/pd),s.formatDistance("aboutXMonths",v,u)}if(v=PM(p,h),v<12){const w=Math.round(y/pd);return s.formatDistance("xMonths",w,u)}else{const w=v%12,j=Math.trunc(v/12);return w<3?s.formatDistance("aboutXYears",j,u):w<9?s.formatDistance("overXYears",j,u):s.formatDistance("almostXYears",j+1,u)}}function sj(t,e){return bR(t,AM(t),e)}const yR=({onSelectConversation:t,selectedConversationId:e})=>{const[n,r]=A.useState([]),[s,o]=A.useState(!0),[c,u]=A.useState(null),h=JSON.parse(localStorage.getItem("alfauser")),p=h?.role==="admin",m=async()=>{try{o(!0);const y=await NM();r(y),u(null)}catch(y){u("Failed to load conversations"),console.error(y)}finally{o(!1)}};A.useEffect(()=>{m();const y=ka();return y&&(y.off("new_message"),y.off("conversation_updated"),y.on("new_message",v=>{console.log("Received new message in conversation list:",v),r(w=>w.map(C=>C._id===v.conversationId?{...C,lastMessage:{content:v.content,createdAt:v.createdAt||new Date().toISOString()},unreadCount:v.senderId!==h._id?(C.unreadCount||0)+1:C.unreadCount,updatedAt:v.createdAt||new Date().toISOString()}:C).sort((C,O)=>new Date(O.updatedAt||0)-new Date(C.updatedAt||0)))}),y.on("conversation_updated",v=>{console.log("Conversation updated:",v),m()})),()=>{y&&(y.off("new_message"),y.off("conversation_updated"))}},[h._id]),A.useEffect(()=>(window.refreshConversations=m,()=>{delete window.refreshConversations}),[]);const x=y=>y.participants.find(v=>v._id!==h._id);return s?a.jsx("div",{className:"text-center py-4",children:"Loading conversations..."}):c?a.jsx("div",{className:"alert alert-danger",children:c}):n.length===0?a.jsx("div",{className:"text-center py-4",children:p?"No conversations with sellers yet.":"Start a conversation with admin."}):a.jsx("div",{className:"conversation-list",children:n.map(y=>{const v=x(y),w=e===y._id;return v?a.jsx("div",{className:`conversation-item p-3 border-bottom ${w?"active bg-light":""}`,onClick:()=>t(y),children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:v.profile?a.jsx("img",{src:v.profile,alt:v.name,className:"rounded-circle",style:{width:"50px",height:"50px",objectFit:"cover"}}):a.jsx("div",{className:"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:v.name?v.name.charAt(0).toUpperCase():"?"})}),a.jsxs("div",{className:"flex-grow-1 ms-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx("h6",{className:"mb-0",children:v.name}),y.lastMessage&&a.jsx("small",{className:"text-muted hide-mobile",children:sj(new Date(y.lastMessage.createdAt),{addSuffix:!0})})]}),y.lastMessage&&a.jsx("div",{className:"text-truncate hide-mobile",style:{maxWidth:"250px"},children:a.jsx("small",{className:y.unreadCount>0?"fw-bold":"text-muted",children:y.lastMessage.content})}),y.unreadCount>0&&a.jsx("span",{className:"badge bg-primary rounded-pill",children:y.unreadCount})]})]})},y._id):a.jsx("div",{className:"conversation-item p-3 border-bottom text-danger",children:a.jsx("span",{children:"Unknown participant"})},y._id)})})};function vR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"},child:[]},{tag:"path",attr:{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"},child:[]}]})(t)}function wR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"},child:[]},{tag:"path",attr:{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"},child:[]}]})(t)}function SR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8z"},child:[]}]})(t)}function aj(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(t)}function jR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5"},child:[]},{tag:"path",attr:{d:"M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z"},child:[]}]})(t)}function NR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 12a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1h-1.388q0-.527.062-1.054.093-.558.31-.992t.559-.683q.34-.279.868-.279V3q-.868 0-1.52.372a3.3 3.3 0 0 0-1.085.992 4.9 4.9 0 0 0-.62 1.458A7.7 7.7 0 0 0 9 7.558V11a1 1 0 0 0 1 1zm-6 0a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1H4.612q0-.527.062-1.054.094-.558.31-.992.217-.434.559-.683.34-.279.868-.279V3q-.868 0-1.52.372a3.3 3.3 0 0 0-1.085.992 4.9 4.9 0 0 0-.62 1.458A7.7 7.7 0 0 0 3 7.558V11a1 1 0 0 0 1 1z"},child:[]}]})(t)}function kR(t){return pe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},child:[]},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},child:[]}]})(t)}const ER=(t,e)=>{let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>t.apply(this,r),e)}},s2=({conversation:t,onImageClick:e})=>{const[n,r]=A.useState([]),[s,o]=A.useState(""),[c,u]=A.useState(!1),h=async H=>{if(window.confirm("Are you sure you want to delete this message?"))try{await jM(H),r($=>$.filter(M=>M._id!==H))}catch{alert("Failed to delete message.")}},[p,m]=A.useState(null),[x,y]=A.useState(!1),[v,w]=A.useState(null),[j,C]=A.useState(null),[O,V]=A.useState(!1),q=A.useRef(null),Q=JSON.parse(localStorage.getItem("alfauser")),z=A.useRef(!1),B=A.useRef(null),_=A.useRef(ER(()=>{const H=ka();if(H&&t&&z.current){const $=t.participants.find(M=>M._id!==Q._id)?._id;$&&(H.emit("stop_typing",{conversationId:t._id,recipientId:$}),z.current=!1)}},2e3)).current;A.useEffect(()=>{if(!t)return;console.log(" Loading conversation:",t._id),(async()=>{try{u(!0),m(null);const le=await EM(t._id);r(le),le.length>0&&(B.current=le[le.length-1]._id)}catch(le){console.error(" Error fetching messages:",le),m("Failed to load messages. Please try again.")}finally{u(!1)}})();const $=ka();if(!$){V(!1);return}V($.connected);const M=()=>{console.log(" Socket connected"),V(!0)},T=()=>{console.log(" Socket disconnected"),V(!1)},te=le=>{if(console.log(" New message received:",le),le.conversationId===t._id){if(le._id===B.current){console.log(" Duplicate message detected, skipping");return}const W={_id:le._id,content:le.content,sender:le.sender||{_id:le.senderId,name:t.participants.find(S=>S._id===le.senderId)?.name||"User",profile:t.participants.find(S=>S._id===le.senderId)?.profile},createdAt:le.createdAt||new Date().toISOString()};if(r(S=>{if(S.some(K=>K._id===W._id))return S;const L=[...S,W];return B.current=W._id,L}),le.senderId!==Q._id)try{const S=new Audio("data:audio/wav;base64,UklGRvIAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU4AAABBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBziR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmDwcPr+sY4JDPV58Lh8yQTOdvjB");S.volume=.2,S.play().catch(()=>{})}catch{}}},U=le=>{le.conversationId===t._id&&le.userId!==Q._id&&y(!0)},N=le=>{le.conversationId===t._id&&le.userId!==Q._id&&y(!1)};return $.on("connect",M),$.on("disconnect",T),$.on("new_message",te),$.on("typing",U),$.on("stop_typing",N),()=>{$&&($.off("connect",M),$.off("disconnect",T),$.off("new_message",te),$.off("typing",U),$.off("stop_typing",N))}},[t?._id,Q._id]),A.useEffect(()=>{q.current?.scrollIntoView({behavior:"smooth"})},[n]);const I=async H=>{if(H.preventDefault(),!s.trim()&&!v||c)return;const $=s.trim(),M=t.participants.find(te=>te._id!==Q._id)._id;let T=null;v&&(T=await new Promise((te,U)=>{const N=new FileReader;N.onload=()=>te(N.result),N.onerror=U,N.readAsDataURL(v)}));try{u(!0),o(""),w(null),C(null);const te=await CM(t._id,$,T);r(N=>{if(N.some(S=>S._id===te._id))return N;const W=[...N,te];return B.current=te._id,W});const U=ka();U&&U.connected&&U.emit("send_message",{conversationId:t._id,recipientId:M,content:$,imageUrl:te.imageUrl,_id:te._id,senderId:Q._id,createdAt:te.createdAt,sender:te.sender})}catch(te){console.error(" Failed to send message:",te),o($),w(v),C(j),m("Failed to send message. Please try again.")}finally{u(!1)}},R=H=>{o(H.target.value);const $=ka();if($&&t){const M=t.participants.find(T=>T._id!==Q._id)?._id;M&&!z.current&&($.emit("typing",{conversationId:t._id,recipientId:M}),z.current=!0),_()}};if(!t)return a.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:a.jsx("p",{className:"text-muted",children:"Select a conversation to start chatting"})});if(!t.participants||t.participants.length<2)return console.error("Invalid conversation format:",t),a.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:a.jsx("p",{className:"text-muted",children:"This conversation doesn't have all required participants. Try refreshing."})});const E=t.participants.find(H=>H._id!==Q._id);return E?a.jsxs("div",{className:"chat-container d-flex flex-column h-100",children:[a.jsx("div",{className:"chat-header p-3 border-bottom",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:E.profile?a.jsx("img",{src:E.profile,alt:E.name,className:"rounded-circle",style:{width:"40px",height:"40px",objectFit:"cover"}}):a.jsx("div",{className:"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:E.name.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ms-3",children:a.jsx("h6",{className:"mb-0",children:E.name=="Admin"?"Customer Support":E?.name})}),a.jsx("div",{className:"ms-auto",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"me-2",style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:O?"#28a745":"#dc3545"}}),a.jsx("small",{className:O?"text-success":"text-danger",children:O?"Online":"Offline"})]})})]})}),a.jsxs("div",{className:"chat-messages flex-grow-1 p-3 overflow-auto",style:{maxHeight:"500px"},children:[c?a.jsx("div",{className:"d-flex justify-content-center py-4",children:a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):p?a.jsx("div",{className:"alert alert-danger",children:p}):n.length===0?a.jsx("div",{className:"text-center py-4 text-muted",children:"No messages yet. Start a conversation!"}):a.jsx(a.Fragment,{children:n.map((H,$)=>{const M=H.sender._id===Q._id;return a.jsxs("div",{className:`message d-flex mb-3 ${M?"justify-content-end":""}`,children:[!M&&a.jsx("div",{className:"flex-shrink-0 me-2",children:H.sender.profile?a.jsx("img",{src:H.sender.profile,alt:H.sender.name,className:"rounded-circle",style:{width:"30px",height:"30px",objectFit:"cover"}}):a.jsx("div",{className:"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center",style:{width:"30px",height:"30px",fontSize:"0.8rem"},children:H.sender.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:`message-content p-3 rounded ${M?"bg-primary text-white":"bg-light"}`,style:{maxWidth:"75%"},children:[Q?.role==="admin"&&a.jsx("span",{className:"delete-message-icon",style:{float:"right",cursor:"pointer ",color:"#dc3545",marginLeft:8,fontSize:"0.9rem",padding:"4px 6px",borderRadius:"50%",background:"#ddd"},title:"Delete message",onClick:()=>h(H._id),children:a.jsx(kR,{})}),H.imageUrl&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:H.imageUrl,alt:"chat-img",style:{maxWidth:220,maxHeight:180,borderRadius:8,border:"1px solid #eee",objectFit:"cover",cursor:"pointer"},onClick:()=>e&&e(H.imageUrl)})}),H.content&&a.jsx("div",{children:H.content}),a.jsx("div",{className:"message-time",children:a.jsx("small",{className:M?"text-white-50":"text-muted",children:sj(new Date(H.createdAt),{addSuffix:!0})})})]})]},H._id||$)})}),x&&a.jsxs("div",{className:"typing-indicator d-flex align-items-center mt-2",children:[a.jsxs("small",{className:"text-muted me-2",children:[E.name," is typing"]}),a.jsxs("div",{className:"typing-dots",children:[a.jsx("span",{className:"dot"}),a.jsx("span",{className:"dot"}),a.jsx("span",{className:"dot"})]})]}),a.jsx("div",{ref:q})]}),a.jsxs("div",{className:"chat-input p-3 border-top",children:[a.jsxs("form",{onSubmit:I,className:"d-flex align-items-center",style:{gap:8},children:[a.jsxs("label",{className:"btn btn-outline-secondary mb-0",style:{position:"relative"},title:"Attach image",children:[a.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:H=>{const $=H.target.files[0];$&&(w($),C(URL.createObjectURL($)))},disabled:c}),a.jsx("span",{role:"img","aria-label":"Attach",children:""})]}),a.jsx("input",{type:"text",className:"form-control me-2",placeholder:"Type a message...",value:s,onChange:R,disabled:c,style:{minWidth:0}}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c||!s.trim()&&!v,children:c?a.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Sending..."})}):"Send"})]}),j&&a.jsxs("div",{className:"mt-2 d-flex align-items-center gap-2",children:[a.jsx("img",{src:j,alt:"Preview",style:{maxHeight:80,borderRadius:8,border:"1px solid #ddd",marginRight:8}}),a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>{w(null),C(null)},type:"button",children:"Remove"})]})]}),a.jsx("style",{jsx:!0,children:`
        .typing-dots {
          display: inline-flex;
          align-items: center;
        }

        .typing-dots .dot {
          width: 4px;
          height: 4px;
          border-radius: 50%;
          background-color: #6c757d;
          margin: 0 1px;
          animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots .dot:nth-child(1) {
          animation-delay: -0.32s;
        }

        .typing-dots .dot:nth-child(2) {
          animation-delay: -0.16s;
        }

        @keyframes typing {
          0%, 80%, 100% {
            transform: scale(0.8);
            opacity: 0.5;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .message-content {
          word-wrap: break-word;
          word-break: break-word;
        }

        .chat-messages {
          scrollbar-width: thin;
          scrollbar-color: #ccc transparent;
        }

        .chat-messages::-webkit-scrollbar {
          width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
          background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
          background: #ccc;
          border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
          background: #999;
        }

        .message {
          animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]}):(console.error("Could not find other participant in conversation:",t),a.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:a.jsx("p",{className:"text-muted",children:"Could not identify the other participant in this conversation. Try refreshing."})}))},a2=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(null),[s,o]=A.useState(!1),[c,u]=A.useState(!1),[h,p]=A.useState(!1),[m,x]=A.useState(""),y=JSON.parse(localStorage.getItem("alfauser")),v=Rt(),w=C=>{x(C),p(!0)},j=()=>{p(!1),x("")};return A.useEffect(()=>{const C=hS();return C&&(C.on("connect",()=>{console.log("Socket connected in ChatPage with ID:",C.id),u(!0)}),C.on("disconnect",()=>{console.log("Socket disconnected in ChatPage"),u(!1)}),C.on("connect_error",O=>{console.log("Socket connection error in ChatPage:",O),u(!1)}),C.on("message_sent",O=>{console.log("Received message_sent confirmation:",O)}),C.on("test_response",O=>{console.log("Received test response:",O),Ye("Socket test successful! Check console for details.")}),u(C.connected)),()=>{C&&(C.off("connect"),C.off("disconnect"),C.off("connect_error"),C.off("message_sent"),C.off("test_response")),jT()}},[]),A.useEffect(()=>{(async()=>{if(y?.role==="seller")try{o(!0);const O="https://backvolverine.vercel.app/api";let V=null;try{const q=await ge.get(`${O}/users/admin`,{headers:{Authorization:`Bearer ${y.token}`}});q.data&&q.data._id&&(V=q.data,r(q.data))}catch(q){console.error("Error fetching admin from API:",q)}if(V||(V=(await ge.get(`${O}/users`,{headers:{Authorization:`Bearer ${y.token}`}})).data.find(Q=>Q.role==="admin"),V&&r(V)),V){console.log(" Auto-loading conversation with admin for seller...");try{const q=await ge.get(`${O}/chat/conversations/user/admin`,{headers:{Authorization:`Bearer ${y.token}`}});if(q.data&&q.data.length>0){const Q=q.data[0];console.log(" Found existing conversation with admin:",Q._id),e(Q)}else{console.log(" Creating new conversation with admin...");const Q=await kM(V._id);console.log(" Created conversation:",Q._id),e(Q)}}catch(q){console.error(" Error loading conversation:",q)}}}catch(O){console.error("All admin fetch methods failed:",O)}finally{o(!1)}})()},[y?.role,y?.token]),y?y.role!=="admin"&&y.role!=="seller"?a.jsx("div",{className:"chat-modern-container",style:{minHeight:"76vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)",padding:"0px 00"},children:a.jsx("div",{className:"chat-modern-wrapper",style:{maxWidth:1100,margin:"0 auto",borderRadius:24,boxShadow:"0 8px 32px rgba(60,72,100,0.10)",background:"#fff",overflow:"hidden",display:"flex",minHeight:600},children:a.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("h3",{children:"Unauthorized: Only sellers and admins can access the chat."})})})}):a.jsxs("div",{className:"chat-modern-container",style:{minHeight:"76vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)",padding:"0px 0"},children:[h&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:a.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"18px",boxShadow:"0 2px 24px rgba(0,0,0,0.13)",textAlign:"center",position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:m,alt:"Chat Attachment",style:{maxWidth:"80vw",maxHeight:"80vh",borderRadius:12,boxShadow:"0 2px 12px rgba(0,0,0,0.10)"}}),a.jsx("button",{onClick:j,style:{marginTop:18,background:"#e11d48",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 28px",fontWeight:700,cursor:"pointer",fontSize:"17px",boxShadow:"0 1px 8px rgba(30,41,59,0.10)"},children:"Close"})]})}),a.jsxs("div",{className:"chat-modern-wrapper responsive-chat-wrapper",style:{maxWidth:1100,margin:"0 auto",borderRadius:24,boxShadow:"0 8px 32px rgba(60,72,100,0.10)",background:"#fff",overflow:"hidden",display:"flex",minHeight:600,flexDirection:"row"},children:[y.role==="seller"&&a.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:a.jsx("div",{style:{flex:1,background:"#f3f4f6",padding:0,display:"flex",flexDirection:"column"},children:a.jsx(s2,{conversation:t,onImageClick:w})})}),y.role==="admin"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"responsive-conversation-list",style:{width:340,borderRight:"1px solid #e5e7eb",background:"#f8fafc",display:"flex",flexDirection:"column"},children:[a.jsx("div",{className:"mobile-none",style:{padding:"24px 24px 16px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(90deg, #6366f1 0%, #a5b4fc 100%)"},children:a.jsx("h4",{style:{color:"#fff",margin:0,fontWeight:700,letterSpacing:1},children:"Conversations"})}),a.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0 0 16px 0"},children:a.jsx(yR,{onSelectConversation:e,selectedConversationId:t?._id})})]}),a.jsxs("div",{className:"responsive-chat-area",style:{flex:1,display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"24px 32px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(90deg, #6366f1 0%, #a5b4fc 100%)"},children:[a.jsx("h3",{style:{color:"#fff",margin:0,fontWeight:700,letterSpacing:1},children:"Chat"}),a.jsx("p",{style:{color:"#e0e7ff",margin:0,fontSize:14},children:"Select a conversation to chat"})]}),a.jsx("div",{style:{flex:1,background:"#f3f4f6",padding:0,display:"flex",flexDirection:"column"},children:a.jsx(s2,{conversation:t,onImageClick:w})})]})]}),a.jsx("style",{children:`
        @media (max-width: 768px) {
          .responsive-chat-wrapper {
            flex-direction: column !important;
            min-height: 400px !important;
            border-radius: 0 !important;
            max-width: 100vw !important;
          }
          .responsive-conversation-list {
            width: 100vw !important;
            min-width: 0 !important;
            max-width: 100vw !important;
            border-right: none !important;
            border-bottom: 1px solid #e5e7eb !important;
            flex-direction: row !important;
            overflow-x: auto !important;
            overflow-y: visible !important;
            display: flex !important;
          }
          .responsive-conversation-list > div:first-child {
            min-width: 180px !important;
            flex: 1 1 180px !important;
          }
          .responsive-chat-area {
            flex: 1 1 100%;
            min-width: 0 !important;
            max-width: 100vw !important;
          }
        }
      `})]})]}):(v("/login"),null)},o2=["https://randomuser.me/api/portraits/women/1.jpg","https://randomuser.me/api/portraits/men/2.jpg","https://randomuser.me/api/portraits/women/3.jpg","https://randomuser.me/api/portraits/men/4.jpg","https://randomuser.me/api/portraits/women/5.jpg","https://randomuser.me/api/portraits/men/6.jpg","https://randomuser.me/api/portraits/women/7.jpg","https://randomuser.me/api/portraits/men/8.jpg","https://randomuser.me/api/portraits/women/9.jpg","https://randomuser.me/api/portraits/men/10.jpg","https://randomuser.me/api/portraits/women/11.jpg","https://randomuser.me/api/portraits/men/12.jpg","https://randomuser.me/api/portraits/women/13.jpg","https://randomuser.me/api/portraits/men/14.jpg","https://randomuser.me/api/portraits/women/15.jpg","https://randomuser.me/api/portraits/men/16.jpg","https://randomuser.me/api/portraits/women/17.jpg","https://randomuser.me/api/portraits/men/18.jpg","https://randomuser.me/api/portraits/women/19.jpg","https://randomuser.me/api/portraits/men/20.jpg","https://randomuser.me/api/portraits/women/21.jpg","https://randomuser.me/api/portraits/men/22.jpg","https://randomuser.me/api/portraits/women/23.jpg","https://randomuser.me/api/portraits/men/24.jpg","https://randomuser.me/api/portraits/women/25.jpg","https://randomuser.me/api/portraits/men/26.jpg","https://randomuser.me/api/portraits/women/27.jpg","https://randomuser.me/api/portraits/men/28.jpg","https://randomuser.me/api/portraits/women/29.jpg","https://randomuser.me/api/portraits/men/30.jpg"];function CR(){const t=new Date(2024,0,1),e=new Date;return new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const md=[{name:"Jessica Smith",rating:5,text:"Absolutely loved this product! Will buy again."},{name:"John Davis",rating:4.5,text:"Good value, fast delivery. Satisfied!"},{name:"Sarah Parker",rating:5,text:"Quality is top notch. Highly recommended."},{name:"William Johnson",rating:4.5,text:"Received exactly what I ordered. Great experience."},{name:"Emily Thompson",rating:5,text:"Exceeded my expectations. Beautiful design!"},{name:"Michael Brown",rating:4,text:"Nice product, packaging could improve."},{name:"Ashley Miller",rating:5,text:"Superb! My family loves it."},{name:"James Wilson",rating:4.5,text:"Quick delivery, excellent support."},{name:"Olivia Taylor",rating:5,text:"Perfect for my needs. Will order more."},{name:"David Lee",rating:4,text:"Works as described. Happy customer."},{name:"Elizabeth Harris",rating:5,text:"Very happy with my purchase!"},{name:"Christopher Clark",rating:3.5,text:"Average, but decent for the price."},{name:"Lauren Lewis",rating:5,text:"Amazing quality and service!"},{name:"Thomas Hall",rating:4,text:"Good product, good service."},{name:"Megan Young",rating:5,text:"Impressed by the quality and speed."},{name:"Linda King",rating:4.5,text:"Arrived on time, works well."},{name:"Matthew Wright",rating:5,text:"Best purchase this month!"},{name:"Natalie Scott",rating:4,text:"Nice design, easy to use."},{name:"Benjamin Green",rating:5,text:"Fantastic! Will buy again."},{name:"Sophie Adams",rating:5,text:"Loved it! Highly recommended."},{name:"Michael White",rating:5,text:"Top notch product!"},{name:"Daniel Baker",rating:4.5,text:"Met my expectations."},{name:"Charlotte Carter",rating:5,text:"Beautiful and functional."},{name:"Samuel Evans",rating:4,text:"Solid quality, fair price."},{name:"Hannah Turner",rating:5,text:"Loved the packaging!"},{name:"George Phillips",rating:4,text:"Good, but could be cheaper."},{name:"Madison Mitchell",rating:5,text:"Super fast delivery!"},{name:"Jacob Campbell",rating:4,text:"No complaints, works fine."},{name:"Ella Morgan",rating:5,text:"Five stars!"},{name:"Henry Cooper",rating:5,text:"Happy with the purchase. Will recommend!"}].map((t,e)=>({...t,profile:o2[e%o2.length],date:CR()}));function TR(t,e){let n=t.slice(),r=e;for(let s=n.length-1;s>0;s--){r=(r*9301+49297)%233280;const o=Math.floor(r/233280*(s+1));[n[s],n[o]]=[n[o],n[s]]}return n}function OR(t,e,n=4,r=5){let s=0;if(e)for(let u=0;u<e.length;u++)s+=e.charCodeAt(u)*(u+1);else s=Math.floor(Math.random()*1e4);const o=n+s%(r-n+1);return TR(t,s).slice(0,o)}const AR=()=>{const[t,e]=an.useState(!1);return a.jsx("button",{onClick:()=>e(n=>!n),"aria-label":t?"Remove from favorites":"Add to favorites",style:{background:"none",border:"none",padding:0,marginLeft:4,cursor:"pointer",outline:"none",display:"flex",alignItems:"center",fontSize:0},children:a.jsx("i",{className:"fas fa-heart",style:{color:t?"#e11d48":"#64748b",fontSize:32,transition:"color 0.2s",filter:t?"drop-shadow(0 2px 8px #e11d4833)":"none"}})})},MR="https://backvolverine.vercel.app/api",RR=()=>{const{id:t}=I5(),e=Rt(),[n,r]=A.useState(null),[s,o]=A.useState(!0),[c,u]=A.useState(""),[h,p]=A.useState([]),[m,x]=A.useState(!1),[y,v]=A.useState("");A.useEffect(()=>{(async()=>{try{o(!0);const I=await gM(t);r(I),u("")}catch{u("Failed to load product details")}finally{o(!1)}})(),fetch(`${MR}/products`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"}).then(I=>I.ok?I.json():[]).then(I=>p(I||[])).catch(()=>p([]))},[t]);const w=n?OR(md,n._id):[];function j(_){let I=0;if(_)for(let R=0;R<_.length;R++)I+=_.charCodeAt(R)*(R+3);else I=Math.floor(Math.random()*1e4);return 50+I%950}const C=n?j(n._id):0,O=md.reduce((_,I)=>_+I.rating,0)/md.length,V=md.length;if(s)return a.jsx("div",{style:{minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(120deg, #fbbf24 0%, #f8fafc 100%)"},children:a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})});if(c)return a.jsx("div",{className:"alert alert-danger mt-4",children:c});if(!n)return a.jsx("div",{className:"alert alert-warning mt-4",children:"Product not found."});const q=_=>{v(_),x(!0)},Q=()=>x(!1),z=h.filter(_=>_.category===n.category&&_._id!==n._id).slice(0,4),B=h.filter(_=>_.category?.toLowerCase()==="most selling"&&_._id!==n._id).slice(0,4);return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .pd-products-section {
          max-width: 1100px;
          margin: 0 auto 24px auto;
        }
        .pd-products-title {
          font-weight: 800;
          font-size: clamp(1.3rem, 2vw, 2rem);
          margin: 32px 0 18px 0;
          color: #1e293b;
          text-align: center;
          letter-spacing: 0.5px;
        }
        .pd-products-empty {
          color: #64748b;
        }
        .pd-products-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 24px;
          justify-content: center;
        }
        @media (max-width: 900px) {
          .pd-products-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }
        @media (max-width: 600px) {
          .pd-products-grid {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 4px !important;
            margin-left: 0 !important;
            margin-right: 0 !important;
          }
          .pd-product-card {
            width: 100% !important;
            min-width: 0;
            padding: 7px;
            border-radius: 10px;
            box-sizing: border-box;
          }
          .pd-product-card-img {
            height: 90px;
            border-radius: 7px;
          }
          .pd-product-card-name {
            font-size: 13px;
          }
          .pd-product-card-category {
            font-size: 11px;
          }
          .pd-product-card-price {
            font-size: 13px;
          }
          .pd-product-card-btn {
            font-size: 12px;
            padding: 6px 12px;
          }
        }
        .marketplace-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 18px;
          width: 100%;
          margin: 0 auto;
        }
        .marketplace-box {
          background: #fff;
          min-width: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          border-radius: 14px;
          border: 2px solid #ececec;
          box-shadow: 0 2px 10px rgba(30,41,59,0.05);
          padding: 14px 10px 12px 10px;
          transition: box-shadow 0.2s, border-color 0.2s;
          overflow: hidden;
        }
        .marketplace-box.daraz { border-color: #fbbf24; }
        .marketplace-box.amazon { border-color: #232f3e; }
        .marketplace-box.flipkart { border-color: #2874f0; }
        .marketplace-box.ebay { border-color: #e53238; }
        .marketplace-logo {
          width: 70px;
          height: 38px;
          object-fit: contain;
          margin-bottom: 7px;
          border-radius: 6px;
          background: #f6f7fb;
        }
        .marketplace-title {
          font-weight: 800;
          font-size: 15px;
          margin-bottom: 7px;
          text-align: center;
        }
        .marketplace-title.daraz { color: #fbbf24; }
        .marketplace-title.amazon { color: #232f3e; }
        .marketplace-title.flipkart { color: #2874f0; }
        .marketplace-title.ebay { color: #e53238; }
        .marketplace-list {
          list-style: none;
          padding: 0;
          margin: 0;
          font-size: 13px;
          color: #444;
          width: 100%;
          word-break: break-word;
        }
        .pd-related-products {
          display: flex;
          gap: 24px;
          flex-wrap: wrap;
          justify-content: center;
        }
        .pd-product-card {
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 4px 24px rgba(30,41,59,0.10);
          padding: 18px;
          width: 220px;
          min-height: 320px;
          display: flex;
          flex-direction: column;
          align-items: center;
          transition: box-shadow 0.2s;
          position: relative;
          overflow: hidden;
        }
        .pd-product-card-img {
          width: 100%;
          height: 140px;
          object-fit: contain;
          border-radius: 10px;
          margin-bottom: 12px;
          background: #f6f7fb;
          box-shadow: 0 1px 8px rgba(30,41,59,0.04);
        }
        .pd-product-card-name {
          font-weight: 700;
          font-size: 17px;
          margin-bottom: 6px;
          text-align: center;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          width: 100%;
        }
        .pd-product-card-category {
          color: #64748b;
          font-size: 14px;
          margin-bottom: 6px;
        }
        .pd-product-card-price {
          font-weight: 700;
          color: #e11d48;
          font-size: 18px;
          margin-bottom: 10px;
        }
        .pd-product-card-btn {
          margin-top: auto;
          background: #e11d48;
          color: #fff;
          border: none;
          border-radius: 7px;
          padding: 8px 22px;
          font-weight: 600;
          cursor: pointer;
          font-size: 15px;
          box-shadow: 0 1px 6px rgba(30,41,59,0.07);
          transition: background 0.2s;
        }
        @media (max-width: 900px) {
          .marketplace-grid {
            grid-template-columns: repeat(2, 1fr);
          }
            .pd-product-card {
            min-height: 240px;
            }
            .pd-main {
              padding-bottom : 0px;
            }
        }
        @media (max-width: 600px) {
          .marketplace-grid {
            grid-template-columns: 1fr !important;
            gap: 10px !important;
          }
          .marketplace-box {
            padding: 6px !important;
            border-radius: 7px !important;
          }
          .marketplace-box h4 {
            font-size: 12px !important;
            margin-bottom: 4px !important;
          }
          .marketplace-box ul {
            font-size: 11px !important;
          }
          .pd-product-card {
            width: 98vw;
            min-width: 0;
            padding: 7px;
            border-radius: 10px;
          }
          .pd-product-card-img {
            height: 90px;
            border-radius: 7px;
          }
          .pd-product-card-name {
            font-size: 13px;
          }
          .pd-product-card-category {
            font-size: 11px;
          }
          .pd-product-card-price {
            font-size: 13px;
          }
          .pd-product-card-btn {
            font-size: 12px;
            padding: 6px 12px;
          }
        }
        .pd-main {
          min-height: 100vh;
          background: #f6f7fb;
          padding-bottom: 0px;
          margin: 0;
        }
        .pd-header {
          width: 100%;
          background: #fff;
          color: #222;
          padding: 16px 0 12px 0;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          box-shadow: 0 2px 10px rgba(30,41,59,0.05);
        }
        .pd-back-btn {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          background: #e11d48;
          color: #fff;
          border: none;
          border-radius: 8px;
          padding: 6px 16px;
          font-weight: 700;
          font-size: 14px;
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(30,41,59,0.10);
          transition: background 0.2s;
          z-index: 2;
        }
        .pd-title {
          font-weight: 800;
          font-size: 1.5rem;
          letter-spacing: 0.5px;
          color: #222;
        }
        .pd-section {
          max-width: 980px;
          margin: 0 auto;
          background: #fff;
          border-radius: 18px;
          box-shadow: 0 2px 18px rgba(30,41,59,0.08);
          padding: 14px;
          font-size: 1rem;
          line-height: 1.7;
          color: #222;
          margin-bottom: 20px;
          display: flex;
          flex-direction: column;
          gap: 18px;
        }
        .pd-product-img {
          max-width: 100%;
          max-height: 220px;
          object-fit: contain;
          border-radius: 14px;
          background: #f6f7fb;
          box-shadow: 0 1px 8px rgba(30,41,59,0.04);
        }
        .pd-product-name {
          font-weight: 900;
          font-size: 1.2rem;
          margin-bottom: 4px;
          color: #222;
          letter-spacing: 0.5px;
        }
        .pd-product-category {
          color: #888;
          margin-bottom: 2px;
          font-size: 13px;
        }
        .pd-product-desc {
          margin-bottom: 8px;
          color: #444;
          font-size: 13px;
        }
        .pd-product-price {
          margin-bottom: 6px;
          font-size: 1.1rem;
        }
        .pd-product-stock {
          margin-bottom: 2px;
          color: #666;
          font-size: 13px;
        }
        .pd-dummy-info-modern {
          display: flex;
          gap: 14px;
          flex-wrap: wrap;
          justify-content: center;
          margin: 10px 0 0 0;
        }
        .pd-dummy-badge-modern {
          display: flex;
          align-items: center;
          gap: 7px;
          background: linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%);
          color: #222;
          border-radius: 8px;
          padding: 5px 14px;
          font-weight: 600;
          font-size: 13px;
          box-shadow: 0 1px 6px rgba(30,41,59,0.07);
          border: 1px solid #e0e7ef;
          transition: box-shadow 0.2s;
        }
        .pd-dummy-icon {
          font-size: 18px;
          margin-right: 2px;
        }
        @media (max-width: 600px) {
          .pd-dummy-info-modern {
            gap: 7px;
            margin-top: 7px;
          }
          .pd-dummy-badge-modern {
            font-size: 11px;
            padding: 4px 7px;
            border-radius: 6px;
          }
          .pd-dummy-icon {
            font-size: 15px;
          }
        }
        .pd-payment-methods {
          margin: 8px 0 6px 0;
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
          align-items: center;
          justify-content: center;
        }
        .pd-payment-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 40px;
        }
        .pd-payment-label {
          font-size: 10px;
          margin-top: 2px;
          font-weight: 600;
          letter-spacing: 0.5px;
        }
        .pd-cart-box {
          width: 100%;
          max-width: 340px;
          margin: 0 auto 12px auto;
          background: linear-gradient(120deg, #f8fafc 0%, #fbbf24 100%);
          border-radius: 16px;
          box-shadow: 0 4px 24px rgba(30,41,59,0.10);
          padding: 12px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          border: 1.5px solid #fbbf24;
          position: relative;
        }
        .pd-cart-summary {
          position: absolute;
          top: -14px;
          right: 12px;
          background: #fff;
          color: #e11d48;
          font-weight: 700;
          font-size: 12px;
          border-radius: 8px;
          padding: 3px 10px;
          box-shadow: 0 1px 6px rgba(30,41,59,0.07);
        }
        .pd-cart-row {
          display: flex;
          justify-content: space-between;
          font-weight: 700;
          font-size: 13px;
          color: #222;
        }
        .pd-cart-row-discount {
          color: #e11d48;
          font-size: 12px;
        }
        .pd-cart-row-tax {
          font-weight: 600;
          font-size: 12px;
          color: #444;
        }
        .pd-cart-total {
          font-weight: 900;
          font-size: 15px;
          color: #059669;
        }
        .pd-cart-btns {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
          width: 100%;
          justify-content: center;
          margin-top: 6px;
        }
        .pd-cart-btn {
          background: #e11d48;
          color: #fff;
          border: none;
          border-radius: 8px;
          padding: 8px 18px;
          font-weight: 800;
          font-size: 14px;
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(30,41,59,0.10);
          transition: background 0.2s;
          letter-spacing: 0.5px;
        }
        .pd-cart-btn-alt {
          background: #f0f1f3;
          color: #222;
          border: none;
          border-radius: 8px;
          padding: 8px 18px;
          font-weight: 800;
          font-size: 14px;
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(30,41,59,0.10);
          transition: background 0.2s;
          letter-spacing: 0.5px;
        }
        @media (max-width: 600px) {
          .pd-main {
            padding-left: 7px;
            padding-right: 7px;
          }
          .pd-section {
            padding: 7px;
            border-radius: 10px;
            font-size: 0.95rem;
            gap: 10px;
          }
          .pd-header {
            padding: 10px 0 8px 0;
            margin-bottom: 10px;
          }
          .pd-title {
            font-size: 1.1rem;
          }
          .pd-product-img {
            max-height: 120px;
          }
          .pd-cart-box {
            max-width: 98vw;
            padding: 7px;
            border-radius: 10px;
          }
          .pd-cart-summary {
            font-size: 10px;
            top: -10px;
            right: 7px;
            padding: 2px 7px;
          }
          .pd-cart-row, .pd-cart-row-discount, .pd-cart-row-tax, .pd-cart-total {
            font-size: 11px;
          }
          .pd-cart-btn, .pd-cart-btn-alt {
            font-size: 12px;
            padding: 6px 12px;
          }
          .marketplace-grid {
            grid-template-columns: 1fr !important;
            gap: 10px !important;
          }
          .marketplace-box {
            padding: 6px !important;
            border-radius: 7px !important;
          }
          .marketplace-box h4 {
            font-size: 12px !important;
            margin-bottom: 4px !important;
          }
          .marketplace-box ul {
            font-size: 11px !important;
          }
        }
      `}),a.jsxs("div",{className:"pd-main",children:[m&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:a.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"36px 28px",minWidth:"320px",boxShadow:"0 2px 24px rgba(0,0,0,0.13)",textAlign:"center",position:"relative"},children:[a.jsx("h3",{style:{marginBottom:"18px",fontWeight:800,fontSize:22,color:"#222"},children:"Notice"}),a.jsx("p",{style:{marginBottom:"28px",color:"#444",fontSize:16},children:y||"Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"}),a.jsx("button",{onClick:Q,style:{background:"#e11d48",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 28px",fontWeight:700,cursor:"pointer",fontSize:"17px",boxShadow:"0 1px 8px rgba(30,41,59,0.10)"},children:"Close"})]})}),a.jsxs("div",{className:"pd-header",children:[a.jsx("button",{className:"pd-back-btn",onClick:()=>e(-1),children:" Back"}),a.jsx("span",{className:"pd-title",children:"Product Details"})]}),a.jsxs("div",{className:"pd-section",children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[a.jsx("img",{className:"pd-product-img",src:n.image||n.imageUrl,alt:n.name}),a.jsxs("div",{style:{width:"100%",textAlign:"center",marginTop:4},children:[a.jsx("h2",{className:"pd-product-name",children:n.name}),a.jsxs("p",{className:"pd-product-category",children:["Category: ",a.jsx("span",{style:{background:"#f0f1f3",color:"#222",borderRadius:5,padding:"2px 8px",fontWeight:600},children:n.category})]}),a.jsx("p",{className:"pd-product-desc",children:n.description}),a.jsx("div",{className:"pd-product-price",children:n.discountedPrice&&n.discountedPrice<n.price?a.jsxs(a.Fragment,{children:[a.jsxs("span",{style:{textDecoration:"line-through",color:"#bbb",fontSize:"1em"},children:["$",n.price]}),a.jsxs("span",{style:{marginLeft:8,color:"#e11d48",fontWeight:700,fontSize:"1em"},children:["$",n.discountedPrice]}),a.jsxs("span",{style:{marginLeft:8,color:"#059669",fontWeight:600,fontSize:12},children:["(",Math.round(100-n.discountedPrice/n.price*100),"% off)"]})]}):a.jsxs("span",{style:{fontWeight:700,fontSize:"1em",color:"#222"},children:["$",n.price]})}),a.jsxs("div",{className:"pd-product-stock",children:[a.jsx("strong",{children:"Stock:"})," ",n.stock??"Available",a.jsxs("span",{style:{marginLeft:12,color:"#059669",fontWeight:700,fontSize:13,display:"inline-flex",alignItems:"center",gap:4},children:[a.jsx(qT,{style:{marginRight:2}})," Sold: ",C]})]}),a.jsxs("div",{className:"pd-dummy-info-modern",children:[a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(FT,{className:"pd-dummy-icon",style:{color:"#059669"}}),a.jsxs("span",{children:["Shipping: ",a.jsx("strong",{children:"Free & Express"})]})]}),a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(UT,{className:"pd-dummy-icon",style:{color:"#6366f1"}}),a.jsxs("span",{children:["Warranty: ",a.jsx("strong",{children:"1 Year"})]})]}),a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(DT,{className:"pd-dummy-icon",style:{color:"#059669"}}),a.jsxs("span",{children:["Guarantee: ",a.jsx("strong",{children:"100% Genuine"})]})]}),a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(WT,{className:"pd-dummy-icon",style:{color:"#eab308"}}),a.jsxs("span",{children:["Seller: ",a.jsx("strong",{children:"Wolverine House"})]})]}),a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(VT,{className:"pd-dummy-icon",style:{color:"#e11d48"}}),a.jsxs("span",{children:["Return Policy: ",a.jsx("strong",{children:"30 days"})]})]}),a.jsxs("span",{className:"pd-dummy-badge-modern",children:[a.jsx(BT,{className:"pd-dummy-icon",style:{color:"#0ea5e9"}}),a.jsxs("span",{children:["Support: ",a.jsx("strong",{children:"24/7 Chat"})]})]})]})]})]}),a.jsx("div",{style:{width:"100%",margin:"12px 0",display:"flex",justifyContent:"center"},children:a.jsxs("div",{style:{background:"linear-gradient(90deg, #fbbf24 0%, #f8fafc 100%)",borderRadius:14,boxShadow:"0 2px 12px rgba(30,41,59,0.08)",padding:"14px 22px",display:"flex",alignItems:"center",gap:18,minWidth:260,maxWidth:400},children:[a.jsx(PT,{style:{fontSize:28,color:"#e11d48",marginRight:8}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:800,fontSize:16,color:"#e11d48",marginBottom:2},children:"Voucher Available!"}),a.jsxs("div",{style:{fontSize:13,color:"#222"},children:["Get ",a.jsx("strong",{children:"$10 OFF"})," on orders above ",a.jsx("strong",{children:"$100"})]}),a.jsx("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:"Min. Buy Amount: $100"})]}),a.jsxs("button",{style:{background:"#059669",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:700,fontSize:14,cursor:"pointer",boxShadow:"0 1px 6px rgba(30,41,59,0.07)",display:"flex",alignItems:"center",gap:6},children:["Apply ",a.jsx(MT,{style:{marginLeft:4}})]})]})}),a.jsxs("div",{className:"pd-payment-methods",children:[a.jsxs("div",{className:"pd-payment-item",children:[a.jsx("i",{className:"fab fa-paypal",style:{fontSize:24,color:"#003087",filter:"drop-shadow(0 2px 4px #00308733)"}}),a.jsx("span",{className:"pd-payment-label",style:{color:"#003087"},children:"PayPal"})]}),a.jsxs("div",{className:"pd-payment-item",children:[a.jsx("i",{className:"fab fa-stripe",style:{fontSize:24,color:"#635bff",filter:"drop-shadow(0 2px 4px #635bff33)"}}),a.jsx("span",{className:"pd-payment-label",style:{color:"#635bff"},children:"Stripe"})]}),a.jsxs("div",{className:"pd-payment-item",children:[a.jsx("i",{className:"fas fa-university",style:{fontSize:24,color:"#00b9ff",filter:"drop-shadow(0 2px 4px #00b9ff33)"}}),a.jsx("span",{className:"pd-payment-label",style:{color:"#00b9ff"},children:"Wise"})]}),a.jsxs("div",{className:"pd-payment-item",children:[a.jsx("i",{className:"fas fa-university",style:{fontSize:24,color:"#ff6600",filter:"drop-shadow(0 2px 4px #ff660033)"}}),a.jsx("span",{className:"pd-payment-label",style:{color:"#ff6600"},children:"Payoneer"})]})]}),a.jsxs("div",{className:"pd-cart-box",children:[a.jsxs("div",{style:{width:"100%",marginBottom:6},children:[a.jsxs("div",{className:"pd-cart-row",children:[a.jsx("span",{children:"Price:"}),a.jsxs("span",{children:["$",n.price?.toFixed(2)]})]}),n.discountedPrice&&n.discountedPrice<n.price&&a.jsxs("div",{className:"pd-cart-row pd-cart-row-discount",children:[a.jsx("span",{children:"Discount:"}),a.jsxs("span",{children:["- $",(n.price-n.discountedPrice).toFixed(2)]})]}),a.jsxs("div",{className:"pd-cart-row pd-cart-row-tax",children:[a.jsx("span",{children:"Sales Tax (8%):"}),a.jsxs("span",{children:["$",((n.discountedPrice&&n.discountedPrice<n.price?n.discountedPrice:n.price)*.08).toFixed(2)]})]}),a.jsx("div",{style:{height:1,background:"#e0e7ef",margin:"7px 0"}}),a.jsxs("div",{className:"pd-cart-row pd-cart-total",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",((n.discountedPrice&&n.discountedPrice<n.price?n.discountedPrice:n.price)*1.08).toFixed(2)]})]})]}),a.jsxs("div",{className:"pd-cart-btns",children:[a.jsx("button",{className:"pd-cart-btn",onClick:()=>q("Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"),children:"Buy Now"}),a.jsx("button",{className:"pd-cart-btn-alt",onClick:()=>q("Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"),children:"Add to Cart"}),a.jsx(AR,{})]}),a.jsxs("div",{className:"pd-cart-summary",children:[a.jsx("i",{className:"fas fa-shopping-cart",style:{marginRight:5}}),"Cart Summary"]})]}),a.jsxs("div",{style:{width:"100%",marginTop:6},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,marginBottom:10,justifyContent:"center"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7,background:"linear-gradient(90deg, #fbbf24 0%, #f8fafc 100%)",borderRadius:10,padding:"7px 18px",fontWeight:800,fontSize:16,color:"#eab308",boxShadow:"0 1px 6px rgba(30,41,59,0.07)"},children:[a.jsx(lv,{style:{color:"#eab308",fontSize:20,marginRight:4}}),O.toFixed(1)," / 5"]}),a.jsxs("div",{style:{fontWeight:700,fontSize:15,color:"#059669",background:"#f8fafc",borderRadius:8,padding:"7px 14px",boxShadow:"0 1px 6px rgba(30,41,59,0.07)"},children:[V," Reviews"]})]}),a.jsx("h3",{style:{fontWeight:800,fontSize:"clamp(1.1rem, 2vw, 1.4rem)",margin:"0 0 10px 0",color:"#222",letterSpacing:.5},children:"Customer Reviews"}),a.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:w.map((_,I)=>a.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:15,background:"#f8f9fb",borderRadius:12,boxShadow:"0 1px 6px rgba(30,41,59,0.05)",padding:"10px 12px",border:"1px solid #ececec"},children:[a.jsx("img",{src:_.profile,alt:_.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid #ececec",background:"#fff",marginTop:2}}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[a.jsx("span",{style:{fontWeight:700,color:"#222",fontSize:15},children:_.name}),a.jsx("span",{style:{color:"#888",fontSize:12},children:_.date}),a.jsxs("span",{style:{fontWeight:700,color:"#eab308",fontSize:15,marginLeft:7},children:[_.rating.toFixed(1),a.jsx(lv,{style:{color:"#eab308",marginLeft:4,fontSize:13}})," / 5"]})]}),a.jsx("div",{style:{color:"#444",fontSize:14,fontStyle:"italic",margin:"4px 0 2px 0"},children:_.text}),a.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:12,display:"flex",alignItems:"center",marginTop:2},children:[a.jsx(RT,{style:{color:"#059669",marginRight:5}}),"Verified Buyer"]})]})]},I))})]})]}),a.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",marginBottom:28},children:[a.jsx("h3",{style:{fontWeight:900,fontSize:"clamp(1.2rem, 2vw, 1.7rem)",margin:"0 0 10px 0",color:"#222",letterSpacing:1},children:"Marketplace Info"}),a.jsxs("div",{className:"marketplace-grid",children:[a.jsxs("div",{className:"marketplace-box",style:{border:"2px solid #232f3e",background:"#fff",minWidth:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon",className:"marketplace-logo"}),a.jsx("h4",{className:"marketplace-title",style:{color:"#232f3e"},children:"Amazon"}),a.jsxs("ul",{className:"marketplace-list",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Seller:"})," Wolverine House"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rating:"})," 4.7/5"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Shipping:"})," Standard"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Return Policy:"})," 10 days"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Marketplace Fee:"})," 3%"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Support:"})," Email & Phone"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Special:"})," Prime delivery available"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment:"})," PayPal, Stripe, Wise"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Trust Level:"})," Very High"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delivery Speed:"})," 1-3 days"]})]})]}),a.jsxs("div",{className:"marketplace-box",style:{border:"2px solid #e53238",background:"#fff",minWidth:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1b/EBay_logo.svg",alt:"eBay",className:"marketplace-logo"}),a.jsx("h4",{className:"marketplace-title",style:{color:"#e53238"},children:"eBay"}),a.jsxs("ul",{className:"marketplace-list",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Seller:"})," Wolverine House"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rating:"})," 4.5/5"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Shipping:"})," Paid"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Return Policy:"})," 14 days"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Marketplace Fee:"})," 2.8%"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Support:"})," Email & Chat"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Special:"})," Auction deals"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment:"})," PayPal, Wise"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Trust Level:"})," Medium"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delivery Speed:"})," 3-7 days"]})]})]}),a.jsxs("div",{className:"marketplace-box",style:{border:"2px solid #f56400",background:"#fff",minWidth:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx("div",{children:a.jsx("div",{style:{background:"#F1641E",width:70,height:36,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bolder",borderRadius:8,marginBottom:8},children:"Etsy"})}),a.jsx("h4",{className:"marketplace-title",style:{color:"#f56400"},children:"Etsy"}),a.jsxs("ul",{className:"marketplace-list",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Seller:"})," Wolverine House"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rating:"})," 4.6/5"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Shipping:"})," International"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Return Policy:"})," 14 days"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Marketplace Fee:"})," 5%"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Support:"})," Email & Chat"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Special:"})," Handmade & vintage items"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment:"})," PayPal, Stripe"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Trust Level:"})," High"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delivery Speed:"})," 5-10 days"]})]})]}),a.jsxs("div",{className:"marketplace-box",style:{border:"2px solid #0071ce",background:"#fff",minWidth:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx("img",{src:"https://i5.walmartimages.com/dfw/63fd9f59-14e2/9d304ce6-96de-4331-b8ec-c5191226d378/v1/spark-icon.svg",alt:"Walmart",className:"marketplace-logo"}),a.jsx("h4",{className:"marketplace-title",style:{color:"#0071ce"},children:"Walmart"}),a.jsxs("ul",{className:"marketplace-list",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Seller:"})," Wolverine House"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rating:"})," 4.4/5"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Shipping:"})," Standard"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Return Policy:"})," 30 days"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Marketplace Fee:"})," 2.5%"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Support:"})," Email & Phone"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Special:"})," Rollback deals"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment:"})," PayPal, Stripe"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Trust Level:"})," High"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delivery Speed:"})," 2-6 days"]})]})]})]})]}),a.jsxs("div",{className:"pd-products-section",children:[a.jsx("h3",{className:"pd-products-title",children:"Related Products"}),a.jsxs("div",{className:"pd-products-grid",children:[z.length===0&&a.jsx("span",{className:"pd-products-empty",children:"No related products found."}),z.map(_=>a.jsxs("div",{className:"pd-product-card",children:[a.jsx("img",{src:_.image||_.imageUrl,alt:_.name,className:"pd-product-card-img"}),a.jsx("div",{className:"pd-product-card-name",children:_.name}),a.jsx("div",{className:"pd-product-card-category",children:_.category}),a.jsxs("div",{className:"pd-product-card-price",children:["$",_.price]}),a.jsx("button",{className:"pd-product-card-btn",onClick:()=>q("Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"),children:"Buy Now"})]},_._id))]})]}),a.jsxs("div",{className:"pd-products-section",children:[a.jsx("h3",{className:"pd-products-title",children:"More Selling Products"}),a.jsxs("div",{className:"pd-products-grid",children:[B.length===0&&a.jsx("span",{className:"pd-products-empty",children:"No more selling products found."}),B.map(_=>a.jsxs("div",{className:"pd-product-card",children:[a.jsx("img",{src:_.image||_.imageUrl,alt:_.name,className:"pd-product-card-img"}),a.jsx("div",{className:"pd-product-card-name",children:_.name}),a.jsx("div",{className:"pd-product-card-category",children:_.category}),a.jsxs("div",{className:"pd-product-card-price",children:["$",_.price]}),a.jsx("button",{className:"pd-product-card-btn",onClick:()=>q("Oops! Looks like this product isnt accessible in your location. Get in touch with customer support for options. Were here to help!"),children:"Buy Now"})]},_._id))]})]}),a.jsx(Fa,{})]})]})},Fl="https://backvolverine.vercel.app/api",af=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return t&&t.token?{Authorization:`Bearer ${t.token}`}:{}},DR=async()=>{try{return(await ge.get(`${Fl}/faqs`,{headers:af()})).data.data}catch(t){throw t.response?.data||{message:"Failed to fetch FAQs"}}},_R=async t=>{try{return(await ge.post(`${Fl}/faqs`,t,{headers:af()})).data.data}catch(e){throw e.response?.data||{message:"Failed to create FAQ"}}},zR=async(t,e)=>{try{return(await ge.put(`${Fl}/faqs/${t}`,e,{headers:af()})).data.data}catch(n){throw n.response?.data||{message:"Failed to update FAQ"}}},LR=async t=>{try{await ge.delete(`${Fl}/faqs/${t}`,{headers:af()})}catch(e){throw e.response?.data||{message:"Failed to delete FAQ"}}},PR=async()=>{try{return(await ge.get(`${Fl}/faqs/active`)).data.data}catch(t){throw t.response?.data||{message:"Failed to fetch FAQs"}}},BR=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,o]=A.useState(!1),[c,u]=A.useState(null),[h,p]=A.useState(null),[m,x]=A.useState(""),[y,v]=A.useState([]),[w,j]=A.useState({title:"",description:"",order:0});A.useEffect(()=>{C()},[]),A.useEffect(()=>{if(m.trim()){const B=t.filter(_=>_.title.toLowerCase().includes(m.toLowerCase())||_.description.toLowerCase().includes(m.toLowerCase())||_.createdBy?.name&&_.createdBy.name.toLowerCase().includes(m.toLowerCase()));v(B)}else v(t)},[m,t]);const C=async()=>{try{r(!0);const B=await DR(),_=Array.isArray(B)?B:[];e(_)}catch(B){console.error("Failed to fetch FAQs:",B),Mt.error(B.message||"Failed to fetch FAQs"),e([])}finally{r(!1)}},O=async B=>{if(B.preventDefault(),!w.title.trim()||!w.description.trim()){Mt.error("Please fill in all required fields");return}try{r(!0),c?(await zR(c,w),Mt.success("FAQ updated successfully")):(await _R(w),Mt.success("FAQ created successfully"),x("")),await C(),Q()}catch(_){Mt.error(_.message||"Operation failed")}finally{r(!1)}},V=B=>{j({title:B.title,description:B.description,order:B.order}),u(B._id),o(!0)},q=async B=>{if(window.confirm("Are you sure you want to delete this FAQ?"))try{r(!0),await LR(B),Mt.success("FAQ deleted successfully"),await C()}catch(_){Mt.error(_.message||"Failed to delete FAQ")}finally{r(!1)}},Q=()=>{j({title:"",description:"",order:0}),u(null),o(!1),x("")},z=B=>{p(h===B?null:B)};return a.jsxs("div",{className:"manage-faqs-container",children:[a.jsxs("div",{className:"container-fluid py-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mb-1",children:"Manage FAQs"}),a.jsx("p",{className:"text-muted mb-0",children:"Create and manage frequently asked questions"})]}),a.jsxs("button",{className:"btn btn-primary btn-lg",onClick:()=>o(!s),disabled:n,children:[a.jsx(ej,{className:"me-2"}),"Add New FAQ"]})]}),s&&a.jsxs("div",{className:"card shadow-sm mb-4",children:[a.jsx("div",{className:"card-header bg-primary text-white",children:a.jsxs("h5",{className:"mb-0",children:[a.jsx(dg,{className:"me-2"}),c?"Edit FAQ":"Add New FAQ"]})}),a.jsx("div",{className:"card-body",children:a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-8",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:["Title ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control form-control-lg",value:w.title,onChange:B=>j({...w,title:B.target.value}),placeholder:"Enter FAQ title...",required:!0,maxLength:200}),a.jsxs("small",{className:"text-muted",children:[w.title.length,"/200 characters"]})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label fw-semibold",children:"Order"}),a.jsx("input",{type:"number",className:"form-control form-control-lg",value:w.order,onChange:B=>j({...w,order:parseInt(B.target.value)||0}),placeholder:"Display order"})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:["Description ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("textarea",{className:"form-control",rows:"6",value:w.description,onChange:B=>j({...w,description:B.target.value}),placeholder:"Enter detailed FAQ description...",required:!0,maxLength:2e3}),a.jsxs("small",{className:"text-muted",children:[w.description.length,"/2000 characters"]})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs("button",{type:"submit",className:"btn btn-success btn-lg",disabled:n,children:[n?a.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}):a.jsx(s0,{className:"me-2"}),c?"Update FAQ":"Create FAQ"]}),a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg",onClick:Q,disabled:n,children:[a.jsx(wl,{className:"me-2"}),"Cancel"]})]})]})})]}),a.jsxs("div",{className:"card shadow-sm",children:[a.jsx("div",{className:"card-header bg-light",children:a.jsxs("div",{className:"row align-items-center",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("h5",{className:"mb-0",children:["All FAQs (",t.length,")"]}),m&&a.jsxs("small",{className:"text-muted",children:["Showing ",y.length," of ",t.length," FAQs"]})]}),a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"search-container position-relative",children:[a.jsx(sf,{className:"position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d"}}),a.jsx("input",{type:"text",className:"form-control ps-5",placeholder:"Search FAQs...",value:m,onChange:B=>x(B.target.value)})]})})]})}),a.jsx("div",{className:"card-body p-0",children:n?a.jsx("div",{className:"text-center py-5",children:a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y?.length===0?a.jsxs("div",{className:"text-center py-5 text-muted",children:[a.jsx("h4",{children:m?"No FAQs found matching your search":"No FAQs Found"}),a.jsx("p",{children:m?"Try adjusting your search terms or create a new FAQ.":'Click "Add New FAQ" to create your first FAQ.'})]}):a.jsx("div",{className:"list-group list-group-flush",children:y?.map((B,_)=>a.jsx("div",{className:"list-group-item",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx(aj,{className:"text-muted"})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("h6",{className:"mb-1 fw-semibold",children:[B.title,a.jsxs("span",{className:"badge bg-light text-dark ms-2",children:["Order: ",B.order]})]}),a.jsxs("small",{className:"text-muted",children:["Created ",new Date(B.createdAt).toLocaleDateString(),B.createdBy&&` by ${B.createdBy.name}`]})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>z(B._id),children:h===B._id?a.jsx(r0,{}):a.jsx(n0,{})}),a.jsx("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>V(B),disabled:n,children:a.jsx(i0,{})}),a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>q(B._id),disabled:n,children:a.jsx(a0,{})})]})]}),h===B._id&&a.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[a.jsx("h6",{className:"fw-semibold mb-2",children:"Description:"}),a.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:B.description})]})]})]})},B._id))})})]})]}),a.jsx("style",{jsx:!0,children:`
        .manage-faqs-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .card {
          border: none;
          border-radius: 15px;
          overflow: hidden;
        }

        .card-header {
          border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .list-group-item {
          border: none;
          border-bottom: 1px solid rgba(0,0,0,0.05);
          transition: background-color 0.2s ease;
        }

        .list-group-item:hover {
          background-color: rgba(0,0,0,0.02);
        }

        .form-control, .form-select {
          border-radius: 10px;
          border: 2px solid #e9ecef;
          transition: border-color 0.2s ease;
        }

        .form-control:focus, .form-select:focus {
          border-color: #007bff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .btn {
          border-radius: 10px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .btn-lg {
          padding: 12px 24px;
        }

        .btn-primary:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4);
        }

        .badge {
          font-size: 0.7rem;
          padding: 4px 8px;
          border-radius: 6px;
        }

        .spinner-border {
          width: 1rem;
          height: 1rem;
        }
      `})]})},l2=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,o]=A.useState(new Set),[c,u]=A.useState(""),[h,p]=A.useState([]);A.useEffect(()=>{m()},[]),A.useEffect(()=>{if(c.trim()){const w=t.filter(j=>j.title.toLowerCase().includes(c.toLowerCase())||j.description.toLowerCase().includes(c.toLowerCase()));p(w)}else p(t)},[c,t]);const m=async()=>{try{r(!0);const w=await PR();e(w)}catch(w){console.error("Failed to fetch FAQs:",w)}finally{r(!1)}},x=w=>{const j=new Set(s);j.has(w)?j.delete(w):j.add(w),o(j)},y=()=>{o(new Set(h.map(w=>w._id)))},v=()=>{o(new Set)};return a.jsxs("div",{className:"seller-faqs-container",children:[a.jsxs("div",{className:"container py-4",children:[a.jsxs("div",{className:"text-center mb-5",children:[a.jsx("div",{className:"mb-3",children:a.jsx(dg,{className:"text-primary",style:{fontSize:"3rem"}})}),a.jsx("h1",{className:"display-5 fw-bold text-primary mb-3",children:"Frequently Asked Questions"}),a.jsx("p",{className:"lead text-muted",children:"Find answers to common questions about selling on our platform"})]}),a.jsxs("div",{className:"row mb-4",children:[a.jsx("div",{className:"col-md-8",children:a.jsxs("div",{className:"search-container position-relative",children:[a.jsx(sf,{className:"search-icon position-absolute"}),a.jsx("input",{type:"text",className:"form-control form-control-lg ps-5",placeholder:"Search FAQs...",value:c,onChange:w=>u(w.target.value)})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs("button",{className:"btn btn-outline-primary flex-fill",onClick:y,disabled:n,children:[a.jsx(HA,{className:"me-1"}),"Expand All"]}),a.jsxs("button",{className:"btn btn-outline-secondary flex-fill",onClick:v,disabled:n,children:[a.jsx(IA,{className:"me-1"}),"Collapse All"]})]})})]}),c&&a.jsx("div",{className:"mb-3",children:a.jsxs("small",{className:"text-muted",children:["Found ",h.length,' result(s) for "',c,'"']})}),n?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})}),a.jsx("p",{className:"text-muted",children:"Loading FAQs..."})]}):h.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(dg,{className:"text-muted mb-3",style:{fontSize:"4rem"}}),a.jsx("h4",{className:"text-muted",children:c?"No FAQs found matching your search":"No FAQs available"}),c&&a.jsxs("p",{className:"text-muted",children:["Try adjusting your search terms or",a.jsx("button",{className:"btn btn-link p-0 ms-1",onClick:()=>u(""),children:"view all FAQs"})]})]}):a.jsx("div",{className:"accordion accordion-flush",id:"faqAccordion",children:h.map((w,j)=>{const C=s.has(w._id);return a.jsxs("div",{className:"accordion-item faq-item mb-3",children:[a.jsx("h2",{className:"accordion-header",children:a.jsx("button",{className:`accordion-button ${C?"":"collapsed"}`,type:"button",onClick:()=>x(w._id),children:a.jsxs("div",{className:"d-flex align-items-center w-100",children:[a.jsx("div",{className:"faq-number me-3",children:j+1}),a.jsx("div",{className:"flex-grow-1 text-start",children:a.jsx("h6",{className:"mb-0",children:w.title})}),a.jsx("div",{className:"ms-2",children:C?a.jsx(r0,{}):a.jsx(n0,{})})]})})}),a.jsx("div",{className:`accordion-collapse collapse ${C?"show":""}`,children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"faq-description",children:w.description.split(`
`).map((O,V)=>a.jsx("p",{className:"mb-2",children:O},V))})})})]},w._id)})})]}),a.jsx("style",{jsx:!0,children:`
        .seller-faqs-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
        }

        .search-container .search-icon {
          top: 50%;
          left: 15px;
          transform: translateY(-50%);
          color: #6c757d;
          z-index: 10;
        }

        .faq-item {
          border: none;
          border-radius: 12px !important;
          box-shadow: 0 2px 8px rgba(0,0,0,0.08);
          overflow: hidden;
          transition: all 0.3s ease;
        }

        .faq-item:hover {
          box-shadow: 0 4px 16px rgba(0,0,0,0.12);
          transform: translateY(-1px);
        }

        .accordion-button {
          background: white;
          border: none;
          border-radius: 12px !important;
          padding: 20px 24px;
          font-weight: 500;
          color: #2c3e50;
          transition: all 0.3s ease;
        }

        .accordion-button:not(.collapsed) {
          background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
          color: white;
          box-shadow: none;
        }

        .accordion-button:focus {
          border: none;
          box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25);
        }

        .accordion-button::after {
          display: none;
        }

        .faq-number {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: #f8f9fa;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 0.9rem;
          color: #495057;
        }

        .accordion-button:not(.collapsed) .faq-number {
          background: rgba(255,255,255,0.2);
          color: white;
          flex-shrink: 0;
        }

        .accordion-body {
          padding: 24px;
          background: white;
          border-top: 1px solid rgba(0,0,0,0.05);
        }

        .faq-description {
          font-size: 1rem;
          line-height: 1.6;
          color: #495057;
        }

        .form-control {
          border-radius: 12px;
          border: 2px solid #e9ecef;
          transition: all 0.3s ease;
        }

        .form-control:focus {
          border-color: #007bff;
          box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.15);
        }

        .btn {
          border-radius: 10px;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .btn-primary:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4);
        }

        .btn-outline-primary {
          border: 2px solid #007bff;
          color: #007bff;
        }

        .btn-outline-primary:hover {
          background: #007bff;
          border-color: #007bff;
          transform: translateY(-1px);
        }

        .help-section {
          border: 2px solid rgba(0, 123, 255, 0.1);
          background: linear-gradient(135deg, rgba(0, 123, 255, 0.05) 0%, rgba(0, 86, 179, 0.05) 100%) !important;
        }

        @media (max-width: 768px) {
          .accordion-button {
            padding: 16px 20px;
          }
          
          .faq-number {
            width: 28px;
            height: 28px;
            font-size: 0.8rem;
          }
          
          .accordion-body {
            padding: 20px;
          }
        }
      `})]})};var mm={exports:{}},gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function HR(){if(c2)return gm;c2=1;var t=Wn();function e(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function u(x,y){var v=y(),w=r({inst:{value:v,getSnapshot:y}}),j=w[0].inst,C=w[1];return o(function(){j.value=v,j.getSnapshot=y,h(j)&&C({inst:j})},[x,v,y]),s(function(){return h(j)&&C({inst:j}),x(function(){h(j)&&C({inst:j})})},[x]),c(v),v}function h(x){var y=x.getSnapshot;x=x.value;try{var v=y();return!n(x,v)}catch{return!0}}function p(x,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return gm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,gm}var d2;function oj(){return d2||(d2=1,mm.exports=HR()),mm.exports}var lj=oj();function Yt(t){this.content=t}Yt.prototype={constructor:Yt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new Yt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Yt(n)},addToStart:function(t,e){return new Yt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Yt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new Yt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Yt.from(t),t.size?new Yt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Yt.from(t),t.size?new Yt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Yt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Yt.from=function(t){if(t instanceof Yt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Yt(e)};function cj(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let c=0;s.text[c]==o.text[c];c++)n++;return n}if(s.content.size||o.content.size){let c=cj(s.content,o.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function dj(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let c=t.child(--s),u=e.child(--o),h=c.nodeSize;if(c==u){n-=h,r-=h;continue}if(!c.sameMarkup(u))return{a:n,b:r};if(c.isText&&c.text!=u.text){let p=0,m=Math.min(c.text.length,u.text.length);for(;p<m&&c.text[c.text.length-p-1]==u.text[u.text.length-p-1];)p++,n--,r--;return{a:n,b:r}}if(c.content.size||u.content.size){let p=dj(c.content,u.content,n-1,r-1);if(p)return p}n-=h,r-=h}}class de{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let c=0,u=0;u<n;c++){let h=this.content[c],p=u+h.nodeSize;if(p>e&&r(h,s+u,o||null,c)!==!1&&h.content.size){let m=u+1;h.nodesBetween(Math.max(0,e-m),Math.min(h.content.size,n-m),r,s+m)}u=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",c=!0;return this.nodesBetween(e,n,(u,h)=>{let p=u.isText?u.text.slice(Math.max(e,h)-h,n-h):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&p||u.isTextblock)&&r&&(c?c=!1:o+=r),o+=p},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new de(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,c=0;c<n;o++){let u=this.content[o],h=c+u.nodeSize;h>e&&((c<e||h>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),r.push(u),s+=u.nodeSize),c=h}return new de(r,s)}cutByIndex(e,n){return e==n?de.empty:e==0&&n==this.content.length?this:new de(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new de(s,o)}addToStart(e){return new de([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new de(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return cj(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return dj(this,e,n,r)}findIndex(e){if(e==0)return gd(0,e);if(e==this.size)return gd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?gd(n+1,o):gd(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return de.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new de(n||e,r)}static from(e){if(!e)return de.empty;if(e instanceof de)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new de([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const xm={index:0,offset:0};function gd(t,e){return xm.index=t,xm.offset=e,xm}function tu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!tu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!tu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let tt=class ug{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&tu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ug.none;if(e instanceof ug)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};tt.none=[];class nu extends Error{}class me{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=fj(this.content,e+this.openStart,n);return r&&new me(r,this.openStart,this.openEnd)}removeBetween(e,n){return new me(uj(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return me.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(de.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new me(e,r,s)}}me.empty=new me(de.empty,0,0);function uj(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:c,offset:u}=t.findIndex(n);if(s==e||o.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(uj(o.content,e-s-1,n-s-1)))}function fj(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),c=t.maybeChild(s);if(o==e||c.isText)return t.cut(0,e).append(n).append(t.cut(e));let u=fj(c.content,e-o-1,n);return u&&t.replaceChild(s,c.copy(u))}function IR(t,e,n){if(n.openStart>t.depth)throw new nu("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new nu("Inconsistent open depths");return hj(t,e,n,0)}function hj(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let c=hj(t,e,n,r+1);return o.copy(o.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let c=t.parent,u=c.content;return ws(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=UR(n,t);return ws(o,mj(t,c,u,e,r))}else return ws(o,ru(t,e,r))}function pj(t,e){if(!e.type.compatibleContent(t.type))throw new nu("Cannot join "+e.type.name+" onto "+t.type.name)}function fg(t,e,n){let r=t.node(n);return pj(r,e.node(n)),r}function vs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function cl(t,e,n,r){let s=(e||t).node(n),o=0,c=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(vs(t.nodeAfter,r),o++));for(let u=o;u<c;u++)vs(s.child(u),r);e&&e.depth==n&&e.textOffset&&vs(e.nodeBefore,r)}function ws(t,e){return t.type.checkContent(e),t.copy(e)}function mj(t,e,n,r,s){let o=t.depth>s&&fg(t,e,s+1),c=r.depth>s&&fg(n,r,s+1),u=[];return cl(null,t,s,u),o&&c&&e.index(s)==n.index(s)?(pj(o,c),vs(ws(o,mj(t,e,n,r,s+1)),u)):(o&&vs(ws(o,ru(t,e,s+1)),u),cl(e,n,s,u),c&&vs(ws(c,ru(n,r,s+1)),u)),cl(r,null,s,u),new de(u)}function ru(t,e,n){let r=[];if(cl(null,t,n,r),t.depth>n){let s=fg(t,e,n+1);vs(ws(s,ru(t,e,n+1)),r)}return cl(e,null,n,r),new de(r)}function UR(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(de.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Sl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return tt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let u=r;r=s,s=u}let o=r.marks;for(var c=0;c<o.length;c++)o[c].type.spec.inclusive===!1&&(!s||!o[c].isInSet(s.marks))&&(o=o[c--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new iu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let c=e;;){let{index:u,offset:h}=c.content.findIndex(o),p=o-h;if(r.push(c,u,s+h),!p||(c=c.child(u),c.isText))break;o=p-1,s+=h+1}return new Sl(n,r,o)}static resolveCached(e,n){let r=u2.get(e);if(r)for(let o=0;o<r.elts.length;o++){let c=r.elts[o];if(c.pos==n)return c}else u2.set(e,r=new FR);let s=r.elts[r.i]=Sl.resolve(e,n);return r.i=(r.i+1)%qR,s}}class FR{constructor(){this.elts=[],this.i=0}}const qR=12,u2=new WeakMap;class iu{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const VR=Object.create(null);class er{constructor(e,n,r,s=tt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&tu(this.attrs,n||e.defaultAttrs||VR)&&tt.sameSet(this.marks,r||tt.none)}copy(e=null){return e==this.content?this:new er(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new er(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return me.empty;let s=this.resolve(e),o=this.resolve(n),c=r?0:s.sharedDepth(n),u=s.start(c),p=s.node(c).content.cut(s.pos-u,o.pos-u);return new me(p,s.depth-c,o.depth-c)}replace(e,n,r){return IR(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Sl.resolveCached(this,e)}resolveNoCache(e){return Sl.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gj(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=de.empty,s=0,o=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,s,o),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let h=s;h<o;h++)if(!this.type.allowsMarks(r.child(h).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),c=o&&o.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=tt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!tt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=de.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}}er.prototype.text=void 0;class su extends er{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gj(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new su(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new su(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function gj(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Es{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new $R(e,n);if(r.next==null)return Es.empty;let s=xj(r);r.next&&r.err("Unexpected trailing text");let o=XR(JR(s));return ZR(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(c,u){let h=c.matchFragment(e,r);if(h&&(!n||h.validEnd))return de.from(u.map(p=>p.createAndFill()));for(let p=0;p<c.next.length;p++){let{type:m,next:x}=c.next[p];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(x)==-1){s.push(x);let y=o(x,u.concat(m));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<o.next.length;c++){let{type:u,next:h}=o.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||h.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)o+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return o}).join(`
`)}}Es.empty=new Es(!0);class $R{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xj(t){let e=[];do e.push(WR(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WR(t){let e=[];do e.push(YR(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function YR(t){let e=QR(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KR(t,e);else break;return e}function f2(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KR(t,e){let n=f2(t),r=n;return t.eat(",")&&(t.next!="}"?r=f2(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function GR(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let c=n[o];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function QR(t){if(t.eat("(")){let e=xj(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=GR(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function JR(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(c,u,h){let p={term:h,to:u};return e[c].push(p),p}function s(c,u){c.forEach(h=>h.to=u)}function o(c,u){if(c.type=="choice")return c.exprs.reduce((h,p)=>h.concat(o(p,u)),[]);if(c.type=="seq")for(let h=0;;h++){let p=o(c.exprs[h],u);if(h==c.exprs.length-1)return p;s(p,u=n())}else if(c.type=="star"){let h=n();return r(u,h),s(o(c.expr,h),h),[r(h)]}else if(c.type=="plus"){let h=n();return s(o(c.expr,u),h),s(o(c.expr,h),h),[r(h)]}else{if(c.type=="opt")return[r(u)].concat(o(c.expr,u));if(c.type=="range"){let h=u;for(let p=0;p<c.min;p++){let m=n();s(o(c.expr,h),m),h=m}if(c.max==-1)s(o(c.expr,h),h);else for(let p=c.min;p<c.max;p++){let m=n();r(h,m),s(o(c.expr,h),m),h=m}return[r(h)]}else{if(c.type=="name")return[r(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function bj(t,e){return e-t}function h2(t,e){let n=[];return r(e),n.sort(bj);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let c=0;c<o.length;c++){let{term:u,to:h}=o[c];!u&&n.indexOf(h)==-1&&r(h)}}}function XR(t){let e=Object.create(null);return n(h2(t,0));function n(r){let s=[];r.forEach(c=>{t[c].forEach(({term:u,to:h})=>{if(!u)return;let p;for(let m=0;m<s.length;m++)s[m][0]==u&&(p=s[m][1]);h2(t,h).forEach(m=>{p||s.push([u,p=[]]),p.indexOf(m)==-1&&p.push(m)})})});let o=e[r.join(",")]=new Es(r.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(bj);o.next.push({type:s[c][0],next:e[u.join(",")]||n(u)})}return o}}function ZR(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:h,next:p}=s.next[u];c.push(h.name),o&&!(h.isText||h.hasRequiredAttrs())&&(o=!1),r.indexOf(p)==-1&&r.push(p)}o&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function yj(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function vj(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function wj(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function Sj(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new t8(t,r,e[r]);return n}let p2=class jj{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Sj(e,r.attrs),this.defaultAttrs=yj(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Es.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:vj(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new er(this,this.computeAttrs(e),de.from(n),tt.setFrom(r))}createChecked(e=null,n,r){return n=de.from(n),this.checkContent(n),new er(this,this.computeAttrs(e),n,tt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=de.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(de.empty,!0);return o?new er(this,e,n.append(o),tt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){wj(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:tt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,c)=>r[o]=new jj(o,n,c));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function e8(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class t8{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?e8(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class of{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=Sj(e,s.attrs),this.excluded=null;let o=yj(this.attrs);this.instance=o?new tt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new tt(this,vj(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,c)=>r[o]=new of(o,s++,n,c)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){wj(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Nj{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Yt.from(e.nodes),n.marks=Yt.from(e.marks||{}),this.nodes=p2.compile(this.spec.nodes,this),this.marks=of.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],c=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[c]||(r[c]=Es.parse(c,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?m2(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],c=o.spec.excludes;o.excluded=c==null?[o]:c==""?[]:m2(this,c.split(" "))}this.nodeFromJSON=s=>er.fromJSON(this,s),this.markFromJSON=s=>tt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof p2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new su(r,r.defaultAttrs,e,tt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function m2(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],c=o;if(o)n.push(o);else for(let u in t.marks){let h=t.marks[u];(s=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function n8(t){return t.tag!=null}function r8(t){return t.style!=null}class Ai{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(n8(s))this.tags.push(s);else if(r8(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new x2(this,n,!1);return r.addAll(e,tt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new x2(this,n,!0);return r.addAll(e,tt.none,n.from,n.to),me.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(a8(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let c=o.getAttrs(e);if(c===!1)continue;o.attrs=c||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let c=this.styles[o],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let h=c.getAttrs(n);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<o)break}n.splice(c,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(c=>{r(c=b2(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(c=>{r(c=b2(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ai(e,Ai.schemaRules(e)))}}const kj={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},i8={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ej={ol:!0,ul:!0},jl=1,hg=2,dl=4;function g2(t,e,n){return e!=null?(e?jl:0)|(e==="full"?hg:0):t&&t.whitespace=="pre"?jl|hg:n&~dl}class xd{constructor(e,n,r,s,o,c){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=tt.none,this.match=o||(c&dl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=de.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kj.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class x2{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,c=g2(null,n.preserveWhitespace,0)|(r?dl:0);s?o=new xd(s.type,s.attrs,tt.none,!0,n.topMatch||s.type.contentMatch,c):r?o=new xd(null,null,tt.none,!0,null,c):o=new xd(e.schema.topNodeType,null,tt.none,!0,null,c),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&hg?"full":this.localPreserveWS||(s.options&jl)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],u=e.previousSibling;(!c||u&&u.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;Ej.hasOwnProperty(c)&&this.parser.normalizeLists&&s8(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(h?h.ignore:i8.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let p,m=this.needsBlock;if(kj.hasOwnProperty(c))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),p=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let x=h&&h.skip?n:this.readStyles(e,n);x&&this.addAll(e,x),p&&this.sync(o),this.needsBlock=m}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,h,p,h.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],c=r.getPropertyValue(o);if(c)for(let u=void 0;;){let h=this.parser.matchStyle(o,c,this,u);if(!h)break;if(h.ignore)return null;if(h.clearMark?n=n.filter(p=>!h.clearMark(p)):n=n.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)u=h;else break}}return n}addElementByRule(e,n,r,s){let o,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let h=this.enter(c,n.attrs||null,r,n.preserveWhitespace);h&&(o=!0,r=h)}else{let h=this.parser.schema.marks[n.mark];r=r.concat(h.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,r,!1));else{let h=e;typeof n.contentElement=="string"?h=e.querySelector(n.contentElement):typeof n.contentElement=="function"?h=n.contentElement(e):n.contentElement&&(h=n.contentElement),this.findAround(e,h,!0),this.addAll(h,r),this.findAround(e,h,!1)}o&&this.sync(u)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let c=r?e.childNodes[r]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(c,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let c=this.open,u=0;c>=0;c--){let h=this.nodes[c],p=h.findWrapping(e);if(p&&(!s||s.length>p.length+u)&&(s=p,o=h,!p.length))break;if(h.solid){if(r)break;u+=2}}if(!s)return null;this.sync(o);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let c=tt.none;for(let u of s.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):y2(u.type,e.type))&&(c=u.addToSet(c));return o.content.push(e.mark(c)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=g2(e,o,c.options);c.options&dl&&c.content.length==0&&(u|=dl);let h=tt.none;return r=r.filter(p=>(c.type?c.type.allowsMarkType(p.type):y2(p.type,e))?(h=p.addToSet(h),!1):!0),this.nodes.push(new xd(e,n,h,s,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=jl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),c=(u,h)=>{for(;u>=0;u--){let p=n[u];if(p==""){if(u==n.length-1||u==0)continue;for(;h>=o;h--)if(c(u-1,h))return!0;return!1}else{let m=h>0||h==0&&s?this.nodes[h].type:r&&h>=o?r.node(h-o).type:null;if(!m||m.name!=p&&!m.isInGroup(p))return!1;h--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function s8(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ej.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function a8(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function b2(t){let e={};for(let n in t)e[n]=t[n];return e}function y2(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],c=u=>{o.push(u);for(let h=0;h<u.edgeCount;h++){let{type:p,next:m}=u.edge(h);if(p==e||o.indexOf(m)<0&&c(m))return!0}};if(c(s.contentMatch))return!0}}class Rs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=bm(n).createDocumentFragment());let s=r,o=[];return e.forEach(c=>{if(o.length||c.marks.length){let u=0,h=0;for(;u<o.length&&h<c.marks.length;){let p=c.marks[h];if(!this.marks[p.type.name]){h++;continue}if(!p.eq(o[u][0])||p.type.spec.spanning===!1)break;u++,h++}for(;u<o.length;)s=o.pop()[1];for(;h<c.marks.length;){let p=c.marks[h++],m=this.serializeMark(p,c.isInline,n);m&&(o.push([p,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Hd(bm(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Hd(bm(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Hd(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=v2(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return v2(e.marks)}}function v2(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function bm(t){return t.document||window.document}const w2=new WeakMap;function o8(t){let e=w2.get(t);return e===void 0&&w2.set(t,e=l8(t)),e}function l8(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Hd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=o8(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,h=n?t.createElementNS(n,s):t.createElement(s),p=e[1],m=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){m=2;for(let x in p)if(p[x]!=null){let y=x.indexOf(" ");y>0?h.setAttributeNS(x.slice(0,y),x.slice(y+1),p[x]):x=="style"&&h.style?h.style.cssText=p[x]:h.setAttribute(x,p[x])}}for(let x=m;x<e.length;x++){let y=e[x];if(y===0){if(x<e.length-1||x>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:v,contentDOM:w}=Hd(t,y,n,r);if(h.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:h,contentDOM:u}}const Cj=65535,Tj=Math.pow(2,16);function c8(t,e){return t+e*Tj}function S2(t){return t&Cj}function d8(t){return(t-(t&Cj))/Tj}const Oj=1,Aj=2,Id=4,Mj=8;class pg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Mj)>0}get deletedBefore(){return(this.delInfo&(Oj|Id))>0}get deletedAfter(){return(this.delInfo&(Aj|Id))>0}get deletedAcross(){return(this.delInfo&Id)>0}}class Tn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Tn.empty)return Tn.empty}recover(e){let n=0,r=S2(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+d8(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?s:0);if(h>e)break;let p=this.ranges[u+o],m=this.ranges[u+c],x=h+p;if(e<=x){let y=p?e==h?-1:e==x?1:n:n,v=h+s+(y<0?0:m);if(r)return v;let w=e==(n<0?h:x)?null:c8(u/3,e-h),j=e==h?Aj:e==x?Oj:Id;return(n<0?e!=h:e!=x)&&(j|=Mj),new pg(v,j,w)}s+=m-p}return r?e+s:new pg(e+s,0,null)}touches(e,n){let r=0,s=S2(n),o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?r:0);if(h>e)break;let p=this.ranges[u+o],m=h+p;if(e<=m&&u==s*3)return!0;r+=this.ranges[u+c]-p}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?o:0),h=c+(this.inverted?0:o),p=this.ranges[s+n],m=this.ranges[s+r];e(u,u+p,h,h+m),o+=m-p}}invert(){return new Tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Tn.empty:new Tn(e<0?[0,-e,0]:[0,0,e])}}Tn.empty=new Tn([]);class Nl{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Nl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Nl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let c=this._maps[o],u=c.mapResult(e,n);if(u.recover!=null){let h=this.getMirror(o);if(h!=null&&h>o&&h<this.to){o=h,e=this._maps[h].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new pg(e,s,null)}}const ym=Object.create(null);class nn{getMap(){return Tn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ym[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ym)throw new RangeError("Duplicate use of step JSON ID "+e);return ym[e]=n,n.prototype.jsonID=e,n}}class kt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new kt(e,null)}static fail(e){return new kt(null,e)}static fromReplace(e,n,r,s){try{return kt.ok(e.replace(n,r,s))}catch(o){if(o instanceof nu)return kt.fail(o.message);throw o}}}function f0(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(f0(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return de.fromArray(r)}class Ei extends nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new me(f0(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,o)}invert(){return new Zn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ei(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ei&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ei(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ei(n.from,n.to,e.markFromJSON(n.mark))}}nn.jsonID("addMark",Ei);class Zn extends nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new me(f0(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,r)}invert(){return new Ei(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Zn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Zn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zn(n.from,n.to,e.markFromJSON(n.mark))}}nn.jsonID("removeMark",Zn);class Ci extends nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new me(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ci(this.pos,n.marks[s]);return new Ci(this.pos,this.mark)}}return new Cs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ci(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ci(n.pos,e.markFromJSON(n.mark))}}nn.jsonID("addNodeMark",Ci);class Cs extends nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new me(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ci(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Cs(n.pos,e.markFromJSON(n.mark))}}nn.jsonID("removeNodeMark",Cs);class It extends nn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&mg(e,this.from,this.to)?kt.fail("Structure replace would overwrite content"):kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new It(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new It(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof It)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new It(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new It(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new It(n.from,n.to,me.fromJSON(e,n.slice),!!n.structure)}}nn.jsonID("replace",It);class Ut extends nn{constructor(e,n,r,s,o,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=c,this.structure=u}apply(e){if(this.structure&&(mg(e,this.from,this.gapFrom)||mg(e,this.gapTo,this.to)))return kt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?kt.fromReplace(e,this.from,this.to,r):kt.fail("Content does not fit in gap")}getMap(){return new Tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Ut(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ut(n.from,n.to,n.gapFrom,n.gapTo,me.fromJSON(e,n.slice),n.insert,!!n.structure)}}nn.jsonID("replaceAround",Ut);function mg(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let c=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function u8(t,e,n,r){let s=[],o=[],c,u;t.doc.nodesBetween(e,n,(h,p,m)=>{if(!h.isInline)return;let x=h.marks;if(!r.isInSet(x)&&m.type.allowsMarkType(r.type)){let y=Math.max(p,e),v=Math.min(p+h.nodeSize,n),w=r.addToSet(x);for(let j=0;j<x.length;j++)x[j].isInSet(w)||(c&&c.to==y&&c.mark.eq(x[j])?c.to=v:s.push(c=new Zn(y,v,x[j])));u&&u.to==y?u.to=v:o.push(u=new Ei(y,v,r))}}),s.forEach(h=>t.step(h)),o.forEach(h=>t.step(h))}function f8(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;o++;let h=null;if(r instanceof of){let p=c.marks,m;for(;m=r.isInSet(p);)(h||(h=[])).push(m),p=m.removeFromSet(p)}else r?r.isInSet(c.marks)&&(h=[r]):h=c.marks;if(h&&h.length){let p=Math.min(u+c.nodeSize,n);for(let m=0;m<h.length;m++){let x=h[m],y;for(let v=0;v<s.length;v++){let w=s[v];w.step==o-1&&x.eq(s[v].style)&&(y=w)}y?(y.to=p,y.step=o):s.push({style:x,from:Math.max(u,e),to:p,step:o})}}}),s.forEach(c=>t.step(new Zn(c.from,c.to,c.style)))}function h0(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),c=[],u=e+1;for(let h=0;h<o.childCount;h++){let p=o.child(h),m=u+p.nodeSize,x=r.matchType(p.type);if(!x)c.push(new It(u,m,me.empty));else{r=x;for(let y=0;y<p.marks.length;y++)n.allowsMarkType(p.marks[y].type)||t.step(new Zn(u,m,p.marks[y]));if(s&&p.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,w;for(;y=v.exec(p.text);)w||(w=new me(de.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),c.push(new It(u+y.index,u+y.index+y[0].length,w))}}u=m}if(!r.validEnd){let h=r.fillBefore(de.empty,!0);t.replace(u,u,new me(h,0,0))}for(let h=c.length-1;h>=0;h--)t.step(c[h])}function h8(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $a(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),c=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,c,n))return r;if(r==0||s.type.spec.isolating||!h8(s,o,c))break}return null}function p8(t,e,n){let{$from:r,$to:s,depth:o}=e,c=r.before(o+1),u=s.after(o+1),h=c,p=u,m=de.empty,x=0;for(let w=o,j=!1;w>n;w--)j||r.index(w)>0?(j=!0,m=de.from(r.node(w).copy(m)),x++):h--;let y=de.empty,v=0;for(let w=o,j=!1;w>n;w--)j||s.after(w+1)<s.end(w)?(j=!0,y=de.from(s.node(w).copy(y)),v++):p++;t.step(new Ut(h,p,c,u,new me(m.append(y),x,v),m.size-x,!0))}function p0(t,e,n=null,r=t){let s=m8(t,e),o=s&&g8(r,e);return o?s.map(j2).concat({type:e,attrs:n}).concat(o.map(j2)):null}function j2(t){return{type:t,attrs:null}}function m8(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let c=o.length?o[0]:e;return n.canReplaceWith(r,s,c)?o:null}function g8(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),c=e.contentMatch.findWrapping(o.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let p=r;h&&p<s;p++)h=h.matchType(n.child(p).type);return!h||!h.validEnd?null:c}function x8(t,e,n){let r=de.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let u=n[c].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[c].type.create(n[c].attrs,r))}let s=e.start,o=e.end;t.step(new Ut(s,o,s,o,new me(r,0,0),n.length,!0))}function b8(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let h=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,h)&&y8(t.doc,t.mapping.slice(o).map(u),r)){let p=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!w?p=!1:!v&&w&&(p=!0)}p===!1&&Dj(t,c,u,o),h0(t,t.mapping.slice(o).map(u,1),r,void 0,p===null);let m=t.mapping.slice(o),x=m.map(u,1),y=m.map(u+c.nodeSize,1);return t.step(new Ut(x,y,x+1,y-1,new me(de.from(r.create(h,null,c.marks)),0,0),1,!0)),p===!0&&Rj(t,c,u,o),!1}})}function Rj(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let h=t.mapping.slice(r).map(n+1+o+c.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function Dj(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(r).map(n+1+o);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function y8(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function v8(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let c=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,c);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ut(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new me(de.from(c),0,0),1,!0))}function qr(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,c=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let p=s.depth-1,m=n-2;p>o;p--,m--){let x=s.node(p),y=s.index(p);if(x.type.spec.isolating)return!1;let v=x.content.cutByIndex(y,x.childCount),w=r&&r[m+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let j=r&&r[m]||x;if(!x.canReplace(y+1,x.childCount)||!j.type.validContent(v))return!1}let u=s.indexAfter(o),h=r&&r[0];return s.node(o).canReplaceWith(u,u,h?h.type:s.node(o+1).type)}function w8(t,e,n=1,r){let s=t.doc.resolve(e),o=de.empty,c=de.empty;for(let u=s.depth,h=s.depth-n,p=n-1;u>h;u--,p--){o=de.from(s.node(u).copy(o));let m=r&&r[p];c=de.from(m?m.type.create(m.attrs,c):s.node(u).copy(c))}t.step(new It(e,e,new me(o.append(c),n,n),!0))}function Hi(t,e){let n=t.resolve(e),r=n.index();return _j(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function S8(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),c=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function _j(t,e){return!!(t&&e&&!t.isLeaf&&S8(t,e))}function lf(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,c,u=r.index(s);if(s==r.depth?(o=r.nodeBefore,c=r.nodeAfter):n>0?(o=r.node(s+1),u++,c=r.node(s).maybeChild(u)):(o=r.node(s).maybeChild(u-1),c=r.node(s+1)),o&&!o.isTextblock&&_j(o,c)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function j8(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),c=o.node().type;if(s&&c.inlineContent){let m=c.whitespace=="pre",x=!!c.contentMatch.matchType(s);m&&!x?r=!1:!m&&x&&(r=!0)}let u=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);Dj(t,m.node(),m.before(),u)}c.inlineContent&&h0(t,e+n-1,c,o.node().contentMatchAt(o.index()),r==null);let h=t.mapping.slice(u),p=h.map(e-n);if(t.step(new It(p,h.map(e+n,-1),me.empty,!0)),r===!0){let m=t.doc.resolve(p);Rj(t,m.node(),m.before(),t.steps.length)}return t}function N8(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function zj(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let c=r.depth;c>=0;c--){let u=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,h=r.index(c)+(u>0?1:0),p=r.node(c),m=!1;if(o==1)m=p.canReplace(h,h,s);else{let x=p.contentMatchAt(h).findWrapping(s.firstChild.type);m=x&&p.canReplaceWith(h,h,x[0])}if(m)return u==0?r.pos:u<0?r.before(c+1):r.after(c+1)}return null}function cf(t,e,n=e,r=me.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return Lj(s,o,r)?new It(e,n,r):new k8(s,o,r).fit()}function Lj(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class k8{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=de.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,c=r.depth,u=s.depth;for(;c&&u&&o.childCount==1;)o=o.firstChild.content,c--,u--;let h=new me(o,c,u);return e>-1?new Ut(r.pos,e,this.$to.pos,this.$to.end(),h,n):h.size||r.pos!=this.$to.pos?new It(r.pos,s.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=vm(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:h,match:p}=this.frontier[u],m,x=null;if(n==1&&(c?p.matchType(c.type)||(x=p.fillBefore(de.from(c),!1)):o&&h.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:x};if(n==2&&c&&(m=p.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:m};if(o&&p.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=vm(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new me(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=vm(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new me(il(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new me(il(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let j=0;j<o.length;j++)this.openFrontierNode(o[j]);let c=this.unplaced,u=r?r.content:c.content,h=c.openStart-e,p=0,m=[],{match:x,type:y}=this.frontier[n];if(s){for(let j=0;j<s.childCount;j++)m.push(s.child(j));x=x.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;p<u.childCount;){let j=u.child(p),C=x.matchType(j.type);if(!C)break;p++,(p>1||h==0||j.content.size)&&(x=C,m.push(Pj(j.mark(y.allowedMarks(j.marks)),p==1?h:0,p==u.childCount?v:-1)))}let w=p==u.childCount;w||(v=-1),this.placed=sl(this.placed,n,de.from(m)),this.frontier[n].match=x,w&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,C=u;j<v;j++){let O=C.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),C=O.content}this.unplaced=w?e==0?me.empty:new me(il(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new me(il(c.content,e,p),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!wm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=wm(e,n,s,r,o);if(c){for(let u=n-1;u>=0;u--){let{match:h,type:p}=this.frontier[u],m=wm(e,u,p,h,!0);if(!m||m.childCount)continue e}return{depth:n,fit:c,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=sl(this.placed,this.depth,de.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=sl(this.placed,this.frontier.length,n))}}function il(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(il(t.firstChild.content,e-1,n)))}function sl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sl(t.lastChild.content,e-1,n)))}function vm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Pj(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Pj(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),t.copy(r)}function wm(t,e,n,r,s){let o=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==o.childCount&&!n.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,c);return u&&!E8(n,o.content,c)?u:null}function E8(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function C8(t){return t.spec.defining||t.spec.definingForContent}function T8(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(Lj(s,o,r))return t.step(new It(e,n,r));let c=Hj(s,t.doc.resolve(n));c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let y=s.depth,v=s.pos-1;y>0;y--,v--){let w=s.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;c.indexOf(y)>-1?u=y:s.before(y)==v&&c.splice(1,0,-y)}let h=c.indexOf(u),p=[],m=r.openStart;for(let y=r.content,v=0;;v++){let w=y.firstChild;if(p.push(w),v==r.openStart)break;y=w.content}for(let y=m-1;y>=0;y--){let v=p[y],w=C8(v.type);if(w&&!v.sameMarkup(s.node(Math.abs(u)-1)))m=y;else if(w||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+m+1)%(r.openStart+1),w=p[v];if(w)for(let j=0;j<c.length;j++){let C=c[(j+h)%c.length],O=!0;C<0&&(O=!1,C=-C);let V=s.node(C-1),q=s.index(C-1);if(V.canReplaceWith(q,q,w.type,w.marks))return t.replace(s.before(C),O?o.after(C):n,new me(Bj(r.content,0,r.openStart,v),v,r.openEnd))}}let x=t.steps.length;for(let y=c.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>x));y--){let v=c[y];v<0||(e=s.before(v),n=o.after(v))}}function Bj(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Bj(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),c=o.fillBefore(t).append(t);t=c.append(o.matchFragment(c).fillBefore(de.empty,!0))}return t}function O8(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=N8(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new me(de.from(r),0,0))}function A8(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=Hj(r,s);for(let c=0;c<o.length;c++){let u=o[c],h=c==o.length-1;if(h&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),s.end(u));if(u>0&&(h||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return t.delete(r.before(u),s.after(u))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(e-r.start(c)==r.depth-c&&n>r.end(c)&&s.end(c)-n!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return t.delete(r.before(c),n);t.delete(e,n)}function Hj(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class Ta extends nn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return kt.fromReplace(e,this.pos,this.pos+1,new me(de.from(s),0,n.isLeaf?0:1))}getMap(){return Tn.empty}invert(e){return new Ta(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ta(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ta(n.pos,n.attr,n.value)}}nn.jsonID("attr",Ta);class kl extends nn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return kt.ok(r)}getMap(){return Tn.empty}invert(e){return new kl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new kl(n.attr,n.value)}}nn.jsonID("docAttr",kl);let Ma=class extends Error{};Ma=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ma.prototype=Object.create(Error.prototype);Ma.prototype.constructor=Ma;Ma.prototype.name="TransformError";class Ij{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Nl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ma(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=me.empty){let s=cf(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new me(de.from(r),0,0))}delete(e,n){return this.replace(e,n,me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return T8(this,e,n,r),this}replaceRangeWith(e,n,r){return O8(this,e,n,r),this}deleteRange(e,n){return A8(this,e,n),this}lift(e,n){return p8(this,e,n),this}join(e,n=1){return j8(this,e,n),this}wrap(e,n){return x8(this,e,n),this}setBlockType(e,n=e,r,s=null){return b8(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return v8(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Ta(e,n,r)),this}setDocAttribute(e,n){return this.step(new kl(e,n)),this}addNodeMark(e,n){return this.step(new Ci(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof tt)n.isInSet(r.marks)&&this.step(new Cs(e,n));else{let s=r.marks,o,c=[];for(;o=n.isInSet(s);)c.push(new Cs(e,o)),s=o.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,r){return w8(this,e,n,r),this}addMark(e,n,r){return u8(this,e,n,r),this}removeMark(e,n,r){return f8(this,e,n,r),this}clearIncompatible(e,n,r){return h0(this,e,n,r),this}}const Sm=Object.create(null);class Ae{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new M8(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=me.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let o=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:h,$to:p}=c[u],m=e.mapping.slice(o);e.replaceRange(m.map(h.pos),m.map(p.pos),u?me.empty:n),u==0&&E2(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:c,$to:u}=s[o],h=e.mapping.slice(r),p=h.map(c.pos),m=h.map(u.pos);o?e.deleteRange(p,m):(e.replaceRangeWith(p,m,n),E2(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Ee(e):wa(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let c=n<0?wa(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):wa(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new On(e.node(0))}static atStart(e){return wa(e,e,0,0,1)||new On(e)}static atEnd(e){return wa(e,e,e.content.size,e.childCount,-1)||new On(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Sm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ee.between(this.$anchor,this.$head).getBookmark()}}Ae.prototype.visible=!0;class M8{constructor(e,n){this.$from=e,this.$to=n}}let N2=!1;function k2(t){!N2&&!t.parent.inlineContent&&(N2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ee extends Ae{constructor(e,n=e){k2(e),k2(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ae.near(r);let s=e.resolve(n.map(this.anchor));return new Ee(s.parent.inlineContent?s:r,r)}replace(e,n=me.empty){if(super.replace(e,n),n==me.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ee&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new df(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ee(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Ae.findFrom(n,r,!0)||Ae.findFrom(n,-r,!0);if(o)n=o.$head;else return Ae.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ae.findFrom(e,-r,!0)||Ae.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Ee(e,n)}}Ae.jsonID("text",Ee);class df{constructor(e,n){this.anchor=e,this.head=n}map(e){return new df(e.map(this.anchor),e.map(this.head))}resolve(e){return Ee.between(e.resolve(this.anchor),e.resolve(this.head))}}class we extends Ae{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?Ae.near(o):new we(o)}content(){return new me(de.from(this.node),0,0)}eq(e){return e instanceof we&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new m0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new we(e.resolve(n.anchor))}static create(e,n){return new we(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}we.prototype.visible=!1;Ae.jsonID("node",we);class m0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new df(r,r):new m0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&we.isSelectable(r)?new we(n):Ae.near(n)}}class On extends Ae{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=me.empty){if(n==me.empty){e.delete(0,e.doc.content.size);let r=Ae.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new On(e)}map(e){return new On(e)}eq(e){return e instanceof On}getBookmark(){return R8}}Ae.jsonID("all",On);const R8={map(){return this},resolve(t){return new On(t)}};function wa(t,e,n,r,s,o=!1){if(e.inlineContent)return Ee.create(t,n);for(let c=r-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!o&&we.isSelectable(u))return we.create(t,n-(s<0?u.nodeSize:0))}else{let h=wa(t,u,n+s,s<0?u.childCount:0,s,o);if(h)return h}n+=u.nodeSize*s}return null}function E2(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof It||s instanceof Ut))return;let o=t.mapping.maps[r],c;o.forEach((u,h,p,m)=>{c==null&&(c=m)}),t.setSelection(Ae.near(t.doc.resolve(c),n))}const C2=1,bd=2,T2=4;class D8 extends Ij{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|C2)&~bd,this.storedMarks=null,this}get selectionSet(){return(this.updated&C2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bd,this}ensureMarks(e){return tt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||tt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let c=this.doc.resolve(n);o=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),this.selection.empty||this.setSelection(Ae.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=T2,this}get scrolledIntoView(){return(this.updated&T2)>0}}function O2(t,e){return!e||!t?t:t.bind(e)}class al{constructor(e,n,r){this.name=e,this.init=O2(n.init,r),this.apply=O2(n.apply,r)}}const _8=[new al("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new al("selection",{init(t,e){return t.selection||Ae.atStart(e.doc)},apply(t){return t.selection}}),new al("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new al("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class jm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_8.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new al(r.key,r.spec.state,r))})}}class Ea{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let h=s?s[c].n:0,p=s?s[c].state:this,m=h<n.length&&u.spec.appendTransaction.call(u,h?n.slice(h):n,p,r);if(m&&r.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let x=0;x<this.config.plugins.length;x++)s.push(x<c?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),o=!0}s&&(s[c]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ea(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new D8(this)}static create(e){let n=new jm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ea(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new jm(this.schema,e.plugins),r=n.fields,s=new Ea(n);for(let o=0;o<r.length;o++){let c=r[o].name;s[c]=this.hasOwnProperty(c)?this[c]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new jm(e.schema,e.plugins),o=new Ea(s);return s.fields.forEach(c=>{if(c.name=="doc")o.doc=er.fromJSON(e.schema,n.doc);else if(c.name=="selection")o.selection=Ae.fromJSON(o.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let h=r[u],p=h.spec.state;if(h.key==c.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){o[c.name]=p.fromJSON.call(h,e,n[u],o);return}}o[c.name]=c.init(e,o)}}),o}}function Uj(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=Uj(s,e,{})),n[r]=s}return n}class pt{constructor(e){this.spec=e,this.props={},e.props&&Uj(e.props,this,this.props),this.key=e.key?e.key.key:Fj("plugin")}getState(e){return e[this.key]}}const Nm=Object.create(null);function Fj(t){return t in Nm?t+"$"+ ++Nm[t]:(Nm[t]=0,t+"$")}class qt{constructor(e="key"){this.key=Fj(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Kt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ra=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let gg=null;const Ir=function(t,e,n){let r=gg||(gg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},z8=function(){gg=null},Ts=function(t,e,n,r){return n&&(A2(t,e,n,r,-1)||A2(t,e,n,r,1))},L8=/^(img|br|input|textarea|hr)$/i;function A2(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Vn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||ql(t)||L8.test(t.nodeName)||t.contentEditable=="false")return!1;e=Kt(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((o=c.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Vn(t):0}else return!1}}function Vn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function P8(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Vn(t)}else if(t.parentNode&&!ql(t))e=Kt(t),t=t.parentNode;else return null}}function B8(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ql(t))e=Kt(t)+1,t=t.parentNode;else return null}}function H8(t,e,n){for(let r=e==0,s=e==Vn(t);r||s;){if(t==n)return!0;let o=Kt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==Vn(t)}}function ql(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const uf=function(t){return t.focusNode&&Ts(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function us(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function I8(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function U8(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Vn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Vn(r.startContainer),r.startOffset)}}}const xr=typeof navigator<"u"?navigator:null,M2=typeof document<"u"?document:null,Ii=xr&&xr.userAgent||"",xg=/Edge\/(\d+)/.exec(Ii),qj=/MSIE \d/.exec(Ii),bg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ii),yn=!!(qj||bg||xg),Mi=qj?document.documentMode:bg?+bg[1]:xg?+xg[1]:0,rr=!yn&&/gecko\/(\d+)/i.test(Ii);rr&&+(/Firefox\/(\d+)/.exec(Ii)||[0,0])[1];const yg=!yn&&/Chrome\/(\d+)/.exec(Ii),tn=!!yg,Vj=yg?+yg[1]:0,on=!yn&&!!xr&&/Apple Computer/.test(xr.vendor),Da=on&&(/Mobile\/\w+/.test(Ii)||!!xr&&xr.maxTouchPoints>2),Fn=Da||(xr?/Mac/.test(xr.platform):!1),F8=xr?/Win/.test(xr.platform):!1,Ur=/Android \d/.test(Ii),Vl=!!M2&&"webkitFontSmoothing"in M2.documentElement.style,q8=Vl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function V8(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Lr(t,e){return typeof t=="number"?t:t[e]}function $8(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function R2(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=Ra(c);continue}let u=c,h=u==o.body,p=h?V8(o):$8(u),m=0,x=0;if(e.top<p.top+Lr(r,"top")?x=-(p.top-e.top+Lr(s,"top")):e.bottom>p.bottom-Lr(r,"bottom")&&(x=e.bottom-e.top>p.bottom-p.top?e.top+Lr(s,"top")-p.top:e.bottom-p.bottom+Lr(s,"bottom")),e.left<p.left+Lr(r,"left")?m=-(p.left-e.left+Lr(s,"left")):e.right>p.right-Lr(r,"right")&&(m=e.right-p.right+Lr(s,"right")),m||x)if(h)o.defaultView.scrollBy(m,x);else{let v=u.scrollLeft,w=u.scrollTop;x&&(u.scrollTop+=x),m&&(u.scrollLeft+=m);let j=u.scrollLeft-v,C=u.scrollTop-w;e={left:e.left-j,top:e.top-C,right:e.right-j,bottom:e.bottom-C}}let y=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(y))break;c=y=="absolute"?c.offsetParent:Ra(c)}}function W8(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(o,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let h=u.getBoundingClientRect();if(h.top>=n-20){r=u,s=h.top;break}}return{refDOM:r,refTop:s,stack:$j(t.dom)}}function $j(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ra(r));return e}function Y8({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Wj(n,r==0?0:r-e)}function Wj(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ya=null;function K8(t){if(t.setActive)return t.setActive();if(ya)return t.focus(ya);let e=$j(t);t.focus(ya==null?{get preventScroll(){return ya={preventScroll:!0},!0}}:void 0),ya||(ya=!1,Wj(e,0))}function Yj(t,e){let n,r=2e8,s,o=0,c=e.top,u=e.top,h,p;for(let m=t.firstChild,x=0;m;m=m.nextSibling,x++){let y;if(m.nodeType==1)y=m.getClientRects();else if(m.nodeType==3)y=Ir(m).getClientRects();else continue;for(let v=0;v<y.length;v++){let w=y[v];if(w.top<=c&&w.bottom>=u){c=Math.max(w.bottom,c),u=Math.min(w.top,u);let j=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(j<r){n=m,r=j,s=j&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&j&&(o=x+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!h&&w.left<=e.left&&w.right>=e.left&&(h=m,p={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=x+1)}}return!n&&h&&(n=h,s=p,r=0),n&&n.nodeType==3?G8(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:Yj(n,s)}function G8(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=yi(r,1);if(o.top!=o.bottom&&g0(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function g0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Q8(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function J8(t,e,n){let{node:r,offset:s}=Yj(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();o=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function X8(t,e,n,r){let s=-1;for(let o=e,c=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),h;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((h=u.dom.getBoundingClientRect()).width||h.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&h.left>r.left||h.top>r.top?s=u.posBefore:(!c&&h.right<r.left||h.bottom<r.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(h.top+h.bottom)/2:r.left<(h.left+h.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function Kj(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let c=t.childNodes[o];if(c.nodeType==1){let u=c.getClientRects();for(let h=0;h<u.length;h++){let p=u[h];if(g0(e,p))return Kj(c,e,p)}}if((o=(o+1)%r)==s)break}return t}function Z8(t,e){let n=t.dom.ownerDocument,r,s=0,o=U8(n,e.left,e.top);o&&({node:r,offset:s}=o);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let p=t.dom.getBoundingClientRect();if(!g0(e,p)||(c=Kj(t.dom,e,p),!c))return null}if(on)for(let p=c;r&&p;p=Ra(p))p.draggable&&(r=void 0);if(c=Q8(c,e),r){if(rr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],x;m.nodeName=="IMG"&&(x=m.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&s++}let p;Vl&&s&&r.nodeType==1&&(p=r.childNodes[s-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=X8(t,r,s,e))}u==null&&(u=J8(t,c,e));let h=t.docView.nearestDesc(c,!0);return{pos:u,inside:h?h.posAtStart-h.border:-1}}function D2(t){return t.top<t.bottom||t.left<t.right}function yi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(D2(r))return r}return Array.prototype.find.call(n,D2)||t.getBoundingClientRect()}const eD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Gj(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),c=Vl||rr;if(r.nodeType==3)if(c&&(eD.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let h=yi(Ir(r,s,s),n);if(rr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let p=yi(Ir(r,s-1,s-1),-1);if(p.top==h.top){let m=yi(Ir(r,s,s+1),-1);if(m.top!=h.top)return tl(m,m.left<p.left)}}return h}else{let h=s,p=s,m=n<0?1:-1;return n<0&&!s?(p++,m=-1):n>=0&&s==r.nodeValue.length?(h--,m=1):n<0?h--:p++,tl(yi(Ir(r,h,p),m),m<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==Vn(r))){let h=r.childNodes[s-1];if(h.nodeType==1)return km(h.getBoundingClientRect(),!1)}if(o==null&&s<Vn(r)){let h=r.childNodes[s];if(h.nodeType==1)return km(h.getBoundingClientRect(),!0)}return km(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==Vn(r))){let h=r.childNodes[s-1],p=h.nodeType==3?Ir(h,Vn(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(p)return tl(yi(p,1),!1)}if(o==null&&s<Vn(r)){let h=r.childNodes[s];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let p=h?h.nodeType==3?Ir(h,0,c?0:1):h.nodeType==1?h:null:null;if(p)return tl(yi(p,-1),!0)}return tl(yi(r.nodeType==3?Ir(r):r,-n),n>=0)}function tl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function km(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Qj(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function tD(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return Qj(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let c=Gj(t,s.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Ir(u,0,u.nodeValue.length).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.bottom>m.top+1&&(n=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const nD=/[\u0590-\u08ac]/;function rD(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,c=s==r.parent.content.size,u=t.domSelection();return u?!nD.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?o:c:Qj(t,e,()=>{let{focusNode:h,focusOffset:p,anchorNode:m,anchorOffset:x}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:j}=t.domSelectionRange(),C=w&&!v.contains(w.nodeType==1?w:w.parentNode)||h==w&&p==j;try{u.collapse(m,x),h&&(h!=m||p!=x)&&u.extend&&u.extend(h,p)}catch{}return y!=null&&(u.caretBidiLevel=y),C}):r.pos==r.start()||r.pos==r.end()}let _2=null,z2=null,L2=!1;function iD(t,e,n){return _2==e&&z2==n?L2:(_2=e,z2=n,L2=n=="up"||n=="down"?tD(t,e,n):rD(t,e,n))}const $n=0,P2=1,ps=2,br=3;class $l{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=$n,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,c;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(c)+c.size:this.posAtStart}else{let o,c;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),c;if(o&&(!n||o.node))if(r&&(c=o.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let c=this.children[r],u=o+c.size;if(u>e||c instanceof Xj){s=e-o;break}o=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Jj&&o.side>=0;r--);if(n<=0){let o,c=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,c=!1);return o&&n&&c&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Kt(o.dom)+1:0}}else{let o,c=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,c=!1);return o&&c&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Kt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let c=r,u=0;;u++){let h=this.children[u],p=c+h.size;if(s==-1&&e<=p){let m=c+h.border;if(e>=m&&n<=p-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,n,m);e=c;for(let x=u;x>0;x--){let y=this.children[x-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=Kt(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(p>n||u==this.children.length-1)){n=p;for(let m=u+1;m<this.children.length;m++){let x=this.children[m];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(-1)){o=Kt(x.dom);break}n+=x.size}o==-1&&(o=this.contentDOM.childNodes.length);break}c=p}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),c=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let j=this.children[v],C=w+j.size;if(o>w&&c<C)return j.setSelection(e-w-j.border,n-w-j.border,r,s);w=C}let u=this.domFromPos(e,e?-1:1),h=n==e?u:this.domFromPos(n,n?-1:1),p=r.root.getSelection(),m=r.domSelectionRange(),x=!1;if((rr||on)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(x=!!(w&&v.nodeValue[w-1]==`
`),x&&w==v.nodeValue.length)for(let j=v,C;j;j=j.parentNode){if(C=j.nextSibling){C.nodeName=="BR"&&(u=h={node:C.parentNode,offset:Kt(C)+1});break}let O=j.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let j=v.childNodes[w-1];x=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(rr&&m.focusNode&&m.focusNode!=h.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||x&&on)&&Ts(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Ts(h.node,h.offset,m.focusNode,m.focusOffset))return;let y=!1;if((p.extend||e==n)&&!x){p.collapse(u.node,u.offset);try{e!=n&&p.extend(h.node,h.offset),y=!0}catch{}}if(!y){if(e>n){let w=u;u=h,h=w}let v=document.createRange();v.setEnd(h.node,h.offset),v.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],c=r+o.size;if(r==c?e<=c&&n>=r:e<c&&n>r){let u=r+o.border,h=c-o.border;if(e>=u&&n<=h){this.dirty=e==r||n==c?ps:P2,e==u&&n==h&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=br:o.markDirty(e-u,n-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ps:br}r=c}this.dirty=ps}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?ps:P2;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Jj extends $l{constructor(e,n,r,s){let o,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==$n&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class sD extends $l{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Os extends $l{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],c=o&&o(n,s,r);return(!c||!c.dom)&&(c=Rs.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Os(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=br&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=$n){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$n}}slice(e,n,r){let s=Os.create(this.parent,this.mark,!0,r),o=this.children,c=this.size;n<c&&(o=wg(o,n,c,r)),e>0&&(o=wg(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ri extends $l{constructor(e,n,r,s,o,c,u,h,p){super(e,[],o,c),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,n,r,s,o,c){let u=o.nodeViews[n.type.name],h,p=u&&u(n,o,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},r,s),m=p&&p.dom,x=p&&p.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:x}=Rs.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!x&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let y=m;return m=tN(m,r,n),p?h=new aD(e,n,r,s,m,x||null,y,p,o,c+1):n.isText?new ff(e,n,r,s,m,y,o):new Ri(e,n,r,s,m,x||null,y,o,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>de.empty)}return e}matchesNode(e,n,r){return this.dirty==$n&&e.eq(this.node)&&au(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,c=o&&o.pos>-1?o:null,u=o&&o.pos<0,h=new lD(this,c&&c.node,e);uD(this.node,this.innerDeco,(p,m,x)=>{p.spec.marks?h.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!x&&h.syncToMarks(m==this.node.childCount?tt.none:this.node.child(m).marks,r,e),h.placeWidget(p,e,s)},(p,m,x,y)=>{h.syncToMarks(p.marks,r,e);let v;h.findNodeMatch(p,m,x,y)||u&&e.state.selection.from>s&&e.state.selection.to<s+p.nodeSize&&(v=h.findIndexWithChild(o.node))>-1&&h.updateNodeAt(p,m,x,v,e)||h.updateNextNode(p,m,x,e,y,s)||h.addNode(p,m,x,e,s),s+=p.nodeSize}),h.syncToMarks([],r,e),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==ps)&&(c&&this.protectLocalComposition(e,c),Zj(this.contentDOM,this.children,e),Da&&fD(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Ee)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let c=o.nodeValue,u=hD(this.node.content,c,r-n,s-n);return u<0?null:{node:o,pos:u,text:c}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let c=new sD(this,o,n,s);e.input.compositionNodes.push(c),this.children=wg(this.children,r,r+s.length,e,c)}update(e,n,r,s){return this.dirty==br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=$n}updateOuterDeco(e){if(au(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eN(this.dom,this.nodeDOM,vg(this.outerDeco,this.node,n),vg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function B2(t,e,n,r,s){tN(r,e,t);let o=new Ri(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class ff extends Ri{constructor(e,n,r,s,o,c,u){super(e,n,r,s,o,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==br||this.dirty!=$n&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$n||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=$n,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new ff(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Xj extends $l{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$n&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class aD extends Ri{constructor(e,n,r,s,o,c,u,h,p,m){super(e,n,r,s,o,c,u,p,m),this.spec=h}update(e,n,r,s){if(this.dirty==br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Zj(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let c=e[o],u=c.dom;if(u.parentNode==t){for(;u!=r;)r=H2(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(u,r);if(c instanceof Os){let h=r?r.previousSibling:t.lastChild;Zj(c.contentDOM,c.children,n),r=h?h.nextSibling:t.firstChild}}for(;r;)r=H2(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const ul=function(t){t&&(this.nodeName=t)};ul.prototype=Object.create(null);const ms=[new ul];function vg(t,e,n){if(t.length==0)return ms;let r=n?ms[0]:new ul,s=[r];for(let o=0;o<t.length;o++){let c=t[o].type.attrs;if(c){c.nodeName&&s.push(r=new ul(c.nodeName));for(let u in c){let h=c[u];h!=null&&(n&&s.length==1&&s.push(r=new ul(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+h:u=="style"?r.style=(r.style?r.style+";":"")+h:u!="nodeName"&&(r[u]=h))}}}return s}function eN(t,e,n,r){if(n==ms&&r==ms)return e;let s=e;for(let o=0;o<r.length;o++){let c=r[o],u=n[o];if(o){let h;u&&u.nodeName==c.nodeName&&s!=t&&(h=s.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(s),u=ms[0]),s=h}oD(s,u||ms[0],c)}return s}function oD(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function tN(t,e,n){return eN(t,t,ms,vg(e,n,t.nodeType!=1))}function au(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function H2(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class lD{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cD(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,c=Math.min(o,e.length);for(;s<c&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=$n,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let p=this.top.children[h];if(p.matchesMark(e[o])&&!this.isLocked(p.dom)){u=h;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let h=Os.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,r))o=this.top.children.indexOf(c,this.index);else for(let u=this.index,h=Math.min(this.top.children.length,u+5);u<h;u++){let p=this.top.children[u];if(p.matchesNode(e,n,r)&&!this.preMatch.matched.has(p)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let c=this.top.children[s];return c.dirty==br&&c.dom==c.contentDOM&&(c.dirty=ps),c.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,c){for(let u=this.index;u<this.top.children.length;u++){let h=this.top.children[u];if(h instanceof Ri){let p=this.preMatch.matched.get(h);if(p!=null&&p!=o)return!1;let m=h.dom,x,y=this.isLocked(m)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=br&&au(n,h.outerDeco));if(!y&&h.update(e,n,r,s))return this.destroyBetween(this.index,u),h.dom!=m&&(this.changed=!0),this.index++,!0;if(!y&&(x=this.recreateWrapper(h,e,n,r,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=x,x.contentDOM&&(x.dirty=ps,x.updateChildren(s,c+1),x.dirty=$n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!au(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=Ri.create(this.top,n,r,s,o,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let h of u.children)h.parent=u}return e.destroy(),u}addNode(e,n,r,s,o){let c=Ri.create(this.top,e,n,r,s,o);c.contentDOM&&c.updateChildren(s,o+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new Jj(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Os;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ff)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((on||tn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Xj(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function cD(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,c=[];e:for(;s>0;){let u;for(;;)if(r){let p=n.children[r-1];if(p instanceof Os)n=p,r=p.children.length;else{u=p,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let h=u.node;if(h){if(h!=t.child(s-1))break;--s,o.set(u,s),c.push(u)}}return{index:s,matched:o,matches:c.reverse()}}function dD(t,e){return t.type.side-e.type.side}function uD(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let p=0;p<t.childCount;p++){let m=t.child(p);r(m,s,e.forChild(o,m),p),o+=m.nodeSize}return}let c=0,u=[],h=null;for(let p=0;;){let m,x;for(;c<s.length&&s[c].to==o;){let C=s[c++];C.widget&&(m?(x||(x=[m])).push(C):m=C)}if(m)if(x){x.sort(dD);for(let C=0;C<x.length;C++)n(x[C],p,!!h)}else n(m,p,!!h);let y,v;if(h)v=-1,y=h,h=null;else if(p<t.childCount)v=p,y=t.child(p++);else break;for(let C=0;C<u.length;C++)u[C].to<=o&&u.splice(C--,1);for(;c<s.length&&s[c].from<=o&&s[c].to>o;)u.push(s[c++]);let w=o+y.nodeSize;if(y.isText){let C=w;c<s.length&&s[c].from<C&&(C=s[c].from);for(let O=0;O<u.length;O++)u[O].to<C&&(C=u[O].to);C<w&&(h=y.cut(C-o),y=y.cut(0,C-o),w=C,v=-1)}else for(;c<s.length&&s[c].to<w;)c++;let j=y.isInline&&!y.isLeaf?u.filter(C=>!C.inline):u.slice();r(y,j,e.forChild(o,y),v),o=w}}function fD(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function hD(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let c=t.child(s++),u=o;if(o+=c.nodeSize,!c.isText)continue;let h=c.text;for(;s<t.childCount;){let p=t.child(s++);if(o+=p.nodeSize,!p.isText)break;h+=p.text}if(o>=n){if(o>=r&&h.slice(r-e.length-u,r-u)==e)return r-e.length;let p=u<r?h.lastIndexOf(e,r-u-1):-1;if(p>=0&&p+e.length+u>=n)return u+p;if(n==r&&h.length>=r+e.length-u&&h.slice(r-u,r-u+e.length)==e)return r}}return-1}function wg(t,e,n,r,s){let o=[];for(let c=0,u=0;c<t.length;c++){let h=t[c],p=u,m=u+=h.size;p>=n||m<=e?o.push(h):(p<e&&o.push(h.slice(0,e-p,r)),s&&(o.push(s),s=void 0),m>n&&o.push(h.slice(n-p,h.size,r)))}return o}function x0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=r.resolve(c),h,p;if(uf(n)){for(h=c;s&&!s.node;)s=s.parent;let x=s.node;if(s&&x.isAtom&&we.isSelectable(x)&&s.parent&&!(x.isInline&&H8(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;p=new we(c==y?u:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let x=c,y=c;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);x=Math.min(x,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(x<0)return null;[h,c]=y==t.state.selection.anchor?[y,x]:[x,y],u=r.resolve(c)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let m=r.resolve(h);if(!p){let x=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;p=b0(t,m,u,x)}return p}function nN(t){return t.editable?t.hasFocus():iN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Vr(t,e=!1){let n=t.state.selection;if(rN(t,n),!!nN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&tn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ts(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)mD(t);else{let{anchor:r,head:s}=n,o,c;I2&&!(n instanceof Ee)&&(n.$from.parent.inlineContent||(o=U2(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=U2(t,n.to))),t.docView.setSelection(r,s,t,e),I2&&(o&&F2(o),c&&F2(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&pD(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const I2=on||tn&&Vj<63;function U2(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(on&&s&&s.contentEditable=="false")return Em(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return Em(s);if(o)return Em(o)}}function Em(t){return t.contentEditable="true",on&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function F2(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function pD(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function mD(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,Kt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&yn&&Mi<=11&&(r.disabled=!0,r.disabled=!1)}function rN(t,e){if(e instanceof we){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(q2(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else q2(t)}function q2(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function b0(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Ee.between(e,n,r)}function V2(t){return t.editable&&!t.hasFocus()?!1:iN(t)}function iN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function gD(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ts(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Sg(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Ae.findFrom(o,e)}function vi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function $2(t,e,n){let r=t.state.selection;if(r instanceof Ee)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return vi(t,new Ee(r.$anchor,c))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Sg(t.state,e);return s&&s instanceof we?vi(t,s):!1}else if(!(Fn&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!o||o.isText)return!1;let u=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?we.isSelectable(o)?vi(t,new we(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):Vl?vi(t,new Ee(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof we&&r.node.isInline)return vi(t,new Ee(e>0?r.$to:r.$from));{let s=Sg(t.state,e);return s?vi(t,s):!1}}}function ou(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function va(t,e){return e<0?xD(t):bD(t)}function xD(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,c=!1;for(rr&&n.nodeType==1&&r<ou(n)&&fl(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(fl(u,-1))s=n,o=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(sN(n))break;{let u=n.previousSibling;for(;u&&fl(u,-1);)s=n.parentNode,o=Kt(u),u=u.previousSibling;if(u)n=u,r=ou(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}c?jg(t,n,r):s&&jg(t,s,o)}function bD(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=ou(n),o,c;for(;;)if(r<s){if(n.nodeType!=1)break;let u=n.childNodes[r];if(fl(u,1))o=n,c=++r;else break}else{if(sN(n))break;{let u=n.nextSibling;for(;u&&fl(u,1);)o=u.parentNode,c=Kt(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=ou(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&jg(t,o,c)}function sN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yD(t,e){for(;t&&e==t.childNodes.length&&!ql(t);)e=Kt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function vD(t,e){for(;t&&!e&&!ql(t);)e=Kt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function jg(t,e,n){if(e.nodeType!=3){let o,c;(c=yD(e,n))?(e=c,n=0):(o=vD(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(uf(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Vr(t)},50)}function W2(t,e){let n=t.state.doc.resolve(e);if(!(tn||F8)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),c=(o.top+o.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),c=(o.top+o.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Y2(t,e,n){let r=t.state.selection;if(r instanceof Ee&&!r.empty||n.indexOf("s")>-1||Fn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Sg(t.state,e);if(c&&c instanceof we)return vi(t,c)}if(!s.parent.inlineContent){let c=e<0?s:o,u=r instanceof On?Ae.near(c,e):Ae.findFrom(c,e);return u?vi(t,u):!1}return!1}function K2(t,e){if(!(t.state.selection instanceof Ee))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let c=t.state.tr;return e<0?c.delete(n.pos-o.nodeSize,n.pos):c.delete(n.pos,n.pos+o.nodeSize),t.dispatch(c),!0}return!1}function G2(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function wD(t){if(!on||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;G2(t,r,"true"),setTimeout(()=>G2(t,r,"false"),20)}return!1}function SD(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function jD(t,e){let n=e.keyCode,r=SD(e);if(n==8||Fn&&n==72&&r=="c")return K2(t,-1)||va(t,-1);if(n==46&&!e.shiftKey||Fn&&n==68&&r=="c")return K2(t,1)||va(t,1);if(n==13||n==27)return!0;if(n==37||Fn&&n==66&&r=="c"){let s=n==37?W2(t,t.state.selection.from)=="ltr"?-1:1:-1;return $2(t,s,r)||va(t,s)}else if(n==39||Fn&&n==70&&r=="c"){let s=n==39?W2(t,t.state.selection.from)=="ltr"?1:-1:1;return $2(t,s,r)||va(t,s)}else{if(n==38||Fn&&n==80&&r=="c")return Y2(t,-1,r)||va(t,-1);if(n==40||Fn&&n==78&&r=="c")return wD(t)||Y2(t,1,r)||va(t,1);if(r==(Fn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function y0(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let c=t.someProp("clipboardSerializer")||Rs.fromSchema(t.state.schema),u=uN(),h=u.createElement("div");h.appendChild(c.serializeFragment(r,{document:u}));let p=h.firstChild,m,x=0;for(;p&&p.nodeType==1&&(m=dN[p.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let w=u.createElement(m[v]);for(;h.firstChild;)w.appendChild(h.firstChild);h.appendChild(w),x++}p=h.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${s} ${o}${x?` -${x}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:y,slice:e}}function aN(t,e,n,r,s){let o=s.parent.type.spec.code,c,u;if(!n&&!e)return null;let h=e&&(r||o||!n);if(h){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return e?new me(de.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):me.empty;let x=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(x)u=x;else{let y=s.marks(),{schema:v}=t.state,w=Rs.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let C=c.appendChild(document.createElement("p"));j&&C.appendChild(w.serializeNode(v.text(j,y)))})}}else t.someProp("transformPastedHTML",x=>{n=x(n,t)}),c=CD(n),Vl&&TD(c);let p=c&&c.querySelector("[data-pm-slice]"),m=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let x=+m[3];x>0;x--){let y=c.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;c=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Ai.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||m),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!ND.test(y.parentNode.nodeName)?{ignore:!0}:null}})),m)u=OD(Q2(u,+m[1],+m[2]),m[4]);else if(u=me.maxOpen(kD(u.content,s),!0),u.openStart||u.openEnd){let x=0,y=0;for(let v=u.content.firstChild;x<u.openStart&&!v.type.spec.isolating;x++,v=v.firstChild);for(let v=u.content.lastChild;y<u.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);u=Q2(u,x,y)}return t.someProp("transformPasted",x=>{u=x(u,t)}),u}const ND=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kD(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,c=[];if(t.forEach(u=>{if(!c)return;let h=s.findWrapping(u.type),p;if(!h)return c=null;if(p=c.length&&o.length&&lN(h,o,u,c[c.length-1],0))c[c.length-1]=p;else{c.length&&(c[c.length-1]=cN(c[c.length-1],o.length));let m=oN(u,h);c.push(m),s=s.matchType(m.type),o=h}}),c)return de.from(c)}return t}function oN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,de.from(t));return t}function lN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=lN(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(de.from(oN(n,t,s+1))))}}function cN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,cN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(de.empty,!0);return t.copy(n.append(r))}function Ng(t,e,n,r,s,o){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(o=0),s<r-1&&(u=Ng(u,e,n,r,s+1,o)),s>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,o<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(de.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function Q2(t,e,n){return e<t.openStart&&(t=new me(Ng(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new me(Ng(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let J2=null;function uN(){return J2||(J2=document.implementation.createHTMLDocument("title"))}let Cm=null;function ED(t){let e=window.trustedTypes;return e?(Cm||(Cm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Cm.createHTML(t)):t}function CD(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=uN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&dN[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=ED(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function TD(t){let e=t.querySelectorAll(tn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function OD(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:c}=t;for(let u=r.length-2;u>=0;u-=2){let h=n.nodes[r[u]];if(!h||h.hasRequiredAttrs())break;s=de.from(h.create(r[u+1],s)),o++,c++}return new me(s,o,c)}const ln={},cn={},AD={touchstart:!0,touchmove:!0};class MD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function RD(t){for(let e in ln){let n=ln[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{_D(t,r)&&!v0(t,r)&&(t.editable||!(r.type in cn))&&n(t,r)},AD[e]?{passive:!0}:void 0)}on&&t.dom.addEventListener("input",()=>null),kg(t)}function Ti(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function DD(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function kg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>v0(t,r))})}function v0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function _D(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function zD(t,e){!v0(t,e)&&ln[e.type]&&(t.editable||!(e.type in cn))&&ln[e.type](t,e)}cn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!hN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ur&&tn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Da&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,us(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||jD(t,n)?n.preventDefault():Ti(t,"key")};cn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};cn.keypress=(t,e)=>{let n=e;if(hN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Fn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ee)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function hf(t){return{left:t.clientX,top:t.clientY}}function LD(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function w0(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let c=o.depth+1;c>0;c--)if(t.someProp(e,u=>c>o.depth?u(t,n,o.nodeAfter,o.before(c),s,!0):u(t,n,o.node(c),o.before(c),s,!1)))return!0;return!1}function Oa(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function PD(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&we.isSelectable(r)?(Oa(t,new we(n)),!0):!1}function BD(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof we&&(r=n.node);let o=t.state.doc.resolve(e);for(let c=o.depth+1;c>0;c--){let u=c>o.depth?o.nodeAfter:o.node(c);if(we.isSelectable(u)){r&&n.$from.depth>0&&c>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(c);break}}return s!=null?(Oa(t,we.create(t.state.doc,s)),!0):!1}function HD(t,e,n,r,s){return w0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?BD(t,n):PD(t,n))}function ID(t,e,n,r){return w0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function UD(t,e,n,r){return w0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||FD(t,n,r)}function FD(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Oa(t,Ee.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let c=o>s.depth?s.nodeAfter:s.node(o),u=s.before(o);if(c.inlineContent)Oa(t,Ee.create(r,u+1,u+1+c.content.size));else if(we.isSelectable(c))Oa(t,we.create(r,u));else continue;return!0}}function S0(t){return lu(t)}const fN=Fn?"metaKey":"ctrlKey";ln.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=S0(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&LD(n,t.input.lastClick)&&!n[fN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let c=t.posAtCoords(hf(n));c&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new qD(t,c,n,!!r)):(o=="doubleClick"?ID:UD)(t,c.pos,c.inside,n)?n.preventDefault():Ti(t,"pointer"))};class qD{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[fN],this.allowDefault=r.shiftKey;let o,c;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),c=n.inside;else{let m=e.state.doc.resolve(n.pos);o=m.parent,c=m.depth?m.before():0}const u=s?null:r.target,h=u?e.docView.nearestDesc(u,!0):null;this.target=h&&h.dom.nodeType==1?h.dom:null;let{selection:p}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||p instanceof we&&p.from<=c&&p.to>c)&&(this.mightDrag={node:o,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&rr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ti(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Vr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ti(this.view,"pointer"):HD(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||on&&this.mightDrag&&!this.mightDrag.node.isAtom||tn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Oa(this.view,Ae.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ti(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ti(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ln.touchstart=t=>{t.input.lastTouch=Date.now(),S0(t),Ti(t,"pointer")};ln.touchmove=t=>{t.input.lastTouch=Date.now(),Ti(t,"pointer")};ln.contextmenu=t=>S0(t);function hN(t,e){return t.composing?!0:on&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const VD=Ur?5e3:-1;cn.compositionstart=cn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ee&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),lu(t,!0),t.markCursor=null;else if(lu(t,!e.selection.empty),rr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let c=o<0?s.lastChild:s.childNodes[o-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,o=-1}}t.input.composing=!0}pN(t,VD)};cn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,pN(t,20))};function pN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>lu(t),e))}function mN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=WD());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $D(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=P8(e.focusNode,e.focusOffset),r=B8(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function WD(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function lu(t,e=!1){if(!(Ur&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),mN(t),e||t.docView&&t.docView.dirty){let n=x0(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function YD(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const El=yn&&Mi<15||Da&&q8<604;ln.copy=cn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=El?null:n.clipboardData,c=r.content(),{dom:u,text:h}=y0(t,c);o?(n.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",h)):YD(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function KD(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function GD(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Cl(t,r.value,null,s,e):Cl(t,r.textContent,r.innerHTML,s,e)},50)}function Cl(t,e,n,r,s){let o=aN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,s,o||me.empty)))return!0;if(!o)return!1;let c=KD(o),u=c?t.state.tr.replaceSelectionWith(c,r):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}cn.paste=(t,e)=>{let n=e;if(t.composing&&!Ur)return;let r=El?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Cl(t,gN(r),r.getData("text/html"),s,n)?n.preventDefault():GD(t,n)};class xN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const QD=Fn?"altKey":"ctrlKey";function bN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[QD]}ln.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(hf(n)),c;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof we?s.to-1:s.to))){if(r&&r.mightDrag)c=we.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let x=t.docView.nearestDesc(n.target,!0);x&&x.node.type.spec.draggable&&x!=t.docView&&(c=we.create(t.state.doc,x.posBefore))}}let u=(c||t.state.selection).content(),{dom:h,text:p,slice:m}=y0(t,u);(!n.dataTransfer.files.length||!tn||Vj>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(El?"Text":"text/html",h.innerHTML),n.dataTransfer.effectAllowed="copyMove",El||n.dataTransfer.setData("text/plain",p),t.dragging=new xN(m,bN(t,n),c)};ln.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};cn.dragover=cn.dragenter=(t,e)=>e.preventDefault();cn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(hf(n));if(!s)return;let o=t.state.doc.resolve(s.pos),c=r&&r.slice;c?t.someProp("transformPasted",w=>{c=w(c,t)}):c=aN(t,gN(n.dataTransfer),El?null:n.dataTransfer.getData("text/html"),!1,o);let u=!!(r&&bN(t,n));if(t.someProp("handleDrop",w=>w(t,n,c||me.empty,u))){n.preventDefault();return}if(!c)return;n.preventDefault();let h=c?zj(t.state.doc,o.pos,c):o.pos;h==null&&(h=o.pos);let p=t.state.tr;if(u){let{node:w}=r;w?w.replace(p):p.deleteSelection()}let m=p.mapping.map(h),x=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,y=p.doc;if(x?p.replaceRangeWith(m,m,c.content.firstChild):p.replaceRange(m,m,c),p.doc.eq(y))return;let v=p.doc.resolve(m);if(x&&we.isSelectable(c.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(c.content.firstChild))p.setSelection(new we(v));else{let w=p.mapping.map(h);p.mapping.maps[p.mapping.maps.length-1].forEach((j,C,O,V)=>w=V),p.setSelection(b0(t,v,p.doc.resolve(w)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))};ln.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Vr(t)},20))};ln.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ln.beforeinput=(t,e)=>{if(tn&&Ur&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,us(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in cn)ln[t]=cn[t];function Tl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class cu{constructor(e,n){this.toDOM=e,this.spec=n||Ss,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new sn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof cu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Tl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Di{constructor(e,n){this.attrs=e,this.spec=n||Ss}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=c?null:new sn(o,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Di&&Tl(this.attrs,e.attrs)&&Tl(this.spec,e.spec)}static is(e){return e.type instanceof Di}destroy(){}}class j0{constructor(e,n){this.attrs=e,this.spec=n||Ss}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=o.pos?null:new sn(o.pos-r,c.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof j0&&Tl(this.attrs,e.attrs)&&Tl(this.spec,e.spec)}destroy(){}}class sn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new sn(e,e,new cu(n,r))}static inline(e,n,r,s){return new sn(e,n,new Di(r,s))}static node(e,n,r,s){return new sn(e,n,new j0(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Di}get widget(){return this.type instanceof cu}}const Sa=[],Ss={};class ot{constructor(e,n){this.local=e.length?e:Sa,this.children=n.length?n:Sa}static create(e,n){return n.length?du(n,e,0,Ss):Zt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,r,s+u,o)}}map(e,n,r){return this==Zt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ss)}mapInner(e,n,r,s,o){let c;for(let u=0;u<this.local.length;u++){let h=this.local[u].map(e,r,s);h&&h.type.valid(n,h)?(c||(c=[])).push(h):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?JD(this.children,c||[],e,n,r,s,o):c?new ot(c.sort(js),Sa):Zt}add(e,n){return n.length?this==Zt?ot.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((u,h)=>{let p=h+r,m;if(m=vN(n,u,p)){for(s||(s=this.children.slice());o<s.length&&s[o]<h;)o+=3;s[o]==h?s[o+2]=s[o+2].addInner(u,m,p+1):s.splice(o,0,h,h+u.nodeSize,du(m,u,p+1,Ss)),o+=3}});let c=yN(o?wN(n):n,-r);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new ot(c.length?this.local.concat(c).sort(js):this.local,s||this.children)}remove(e){return e.length==0||this==Zt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let c,u=r[o]+n,h=r[o+1]+n;for(let m=0,x;m<e.length;m++)(x=e[m])&&x.from>u&&x.to<h&&(e[m]=null,(c||(c=[])).push(x));if(!c)continue;r==this.children&&(r=this.children.slice());let p=r[o+2].removeInner(c,u+1);p!=Zt?r[o+2]=p:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,c;o<e.length;o++)if(c=e[o])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ot(s,r):Zt}forChild(e,n){if(this==Zt)return this;if(n.isLeaf)return ot.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,c=o+n.content.size;for(let u=0;u<this.local.length;u++){let h=this.local[u];if(h.from<c&&h.to>o&&h.type instanceof Di){let p=Math.max(o,h.from)-o,m=Math.min(c,h.to)-o;p<m&&(s||(s=[])).push(h.copy(p,m))}}if(s){let u=new ot(s.sort(js),Sa);return r?new Ni([u,r]):u}return r||Zt}eq(e){if(this==e)return!0;if(!(e instanceof ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return N0(this.localsInner(e))}localsInner(e){if(this==Zt)return Sa;if(e.inlineContent||!this.local.some(Di.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Di||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ot.empty=new ot([],[]);ot.removeOverlap=N0;const Zt=ot.empty;class Ni{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Ss));return Ni.from(r)}forChild(e,n){if(n.isLeaf)return ot.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=Zt&&(o instanceof Ni?r=r.concat(o.members):r.push(o))}return Ni.from(r)}eq(e){if(!(e instanceof Ni)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let c=0;c<o.length;c++)n.push(o[c])}}return n?N0(r?n:n.sort(js)):Sa}static from(e){switch(e.length){case 0:return Zt;case 1:return e[0];default:return new Ni(e.every(n=>n instanceof ot)?e:e.reduce((n,r)=>n.concat(r instanceof ot?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function JD(t,e,n,r,s,o,c){let u=t.slice();for(let p=0,m=o;p<n.maps.length;p++){let x=0;n.maps[p].forEach((y,v,w,j)=>{let C=j-w-(v-y);for(let O=0;O<u.length;O+=3){let V=u[O+1];if(V<0||y>V+m-x)continue;let q=u[O]+m-x;v>=q?u[O+1]=y<=q?-2:-1:y>=m&&C&&(u[O]+=C,u[O+1]+=C)}x+=C}),m=n.maps[p].map(m,-1)}let h=!1;for(let p=0;p<u.length;p+=3)if(u[p+1]<0){if(u[p+1]==-2){h=!0,u[p+1]=-1;continue}let m=n.map(t[p]+o),x=m-s;if(x<0||x>=r.content.size){h=!0;continue}let y=n.map(t[p+1]+o,-1),v=y-s,{index:w,offset:j}=r.content.findIndex(x),C=r.maybeChild(w);if(C&&j==x&&j+C.nodeSize==v){let O=u[p+2].mapInner(n,C,m+1,t[p]+o+1,c);O!=Zt?(u[p]=x,u[p+1]=v,u[p+2]=O):(u[p+1]=-2,h=!0)}else h=!0}if(h){let p=XD(u,t,e,n,s,o,c),m=du(p,r,0,c);e=m.local;for(let x=0;x<u.length;x+=3)u[x+1]<0&&(u.splice(x,3),x-=3);for(let x=0,y=0;x<m.children.length;x+=3){let v=m.children[x];for(;y<u.length&&u[y]<v;)y+=3;u.splice(y,0,m.children[x],m.children[x+1],m.children[x+2])}}return new ot(e.sort(js),u)}function yN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new sn(s.from+e,s.to+e,s.type))}return n}function XD(t,e,n,r,s,o,c){function u(h,p){for(let m=0;m<h.local.length;m++){let x=h.local[m].map(r,s,p);x?n.push(x):c.onRemove&&c.onRemove(h.local[m].spec)}for(let m=0;m<h.children.length;m+=3)u(h.children[m+2],h.children[m]+p+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&u(t[h+2],e[h]+o+1);return n}function vN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,c;o<t.length;o++)(c=t[o])&&c.from>n&&c.to<r&&((s||(s=[])).push(c),t[o]=null);return s}function wN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function du(t,e,n,r){let s=[],o=!1;e.forEach((u,h)=>{let p=vN(t,u,h+n);if(p){o=!0;let m=du(p,u,n+h+1,r);m!=Zt&&s.push(h,h+u.nodeSize,m)}});let c=yN(o?wN(t):t,-n).sort(js);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(r.onRemove&&r.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new ot(c,s):Zt}function js(t,e){return t.from-e.from||t.to-e.to}function N0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),X2(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),X2(e,s,r.copy(o.from,r.to)));break}}}return e}function X2(t,e,n){for(;e<t.length&&js(n,t[e])>0;)e++;t.splice(e,0,n)}function Tm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Zt&&e.push(r)}),t.cursorWrapper&&e.push(ot.create(t.state.doc,[t.cursorWrapper.deco])),Ni.from(e)}const ZD={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},e9=yn&&Mi<=11;class t9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class n9{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new t9,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);yn&&Mi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),e9&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ZD)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(V2(this.view)){if(this.suppressingSelectionUpdates)return Vr(this.view);if(yn&&Mi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ts(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Ra(o))n.add(o);for(let o=e.anchorNode;o;o=Ra(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&V2(e)&&!this.ignoreSelectionChange(r),o=-1,c=-1,u=!1,h=[];if(e.editable)for(let m=0;m<n.length;m++){let x=this.registerMutation(n[m],h);x&&(o=o<0?x.from:Math.min(x.from,o),c=c<0?x.to:Math.max(x.to,c),x.typeOver&&(u=!0))}if(rr&&h.length){let m=h.filter(x=>x.nodeName=="BR");if(m.length==2){let[x,y]=m;x.parentNode&&x.parentNode.parentNode==y.parentNode?y.remove():x.remove()}else{let{focusNode:x}=this.currentSelection;for(let y of m){let v=y.parentNode;v&&v.nodeName=="LI"&&(!x||s9(e,x)!=v)&&y.remove()}}}let p=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&uf(r)&&(p=x0(e))&&p.eq(Ae.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Vr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,c),r9(e)),this.handleDOMChange(o,c,u,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Vr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let x=e.addedNodes[m];n.push(x),x.nodeType==3&&(this.lastChangedTextNode=x)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(yn&&Mi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:x,nextSibling:y}=e.addedNodes[m];(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(s=x),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let c=s&&s.parentNode==e.target?Kt(s)+1:0,u=r.localPosFromDOM(e.target,c,-1),h=o&&o.parentNode==e.target?Kt(o):e.target.childNodes.length,p=r.localPosFromDOM(e.target,h,1);return{from:u,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Z2=new WeakMap,ew=!1;function r9(t){if(!Z2.has(t)&&(Z2.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=rr,ew)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ew=!0}}function tw(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Ts(c.node,c.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function i9(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return tw(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?tw(t,n):null}function s9(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function a9(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:c,to:u}=t.docView.parseRange(e,n),h=t.domSelectionRange(),p,m=h.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:h.anchorOffset}],uf(h)||p.push({node:h.focusNode,offset:h.focusOffset})),tn&&t.input.lastKeyCode===8)for(let C=o;C>s;C--){let O=r.childNodes[C-1],V=O.pmViewDesc;if(O.nodeName=="BR"&&!V){o=C;break}if(!V||V.size)break}let x=t.state.doc,y=t.someProp("domParser")||Ai.fromSchema(t.state.schema),v=x.resolve(c),w=null,j=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:o9,context:v});if(p&&p[0].pos!=null){let C=p[0].pos,O=p[1]&&p[1].pos;O==null&&(O=C),w={anchor:C+c,head:O+c}}return{doc:j,sel:w,from:c,to:u}}function o9(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(on&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||on&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const l9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function c9(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,R=x0(t,I);if(R&&!t.state.selection.eq(R)){if(tn&&Ur&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,us(13,"Enter"))))return;let E=t.state.tr.setSelection(R);I=="pointer"?E.setMeta("pointer",!0):I=="key"&&E.scrollIntoView(),o&&E.setMeta("composition",o),t.dispatch(E)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let h=t.state.selection,p=a9(t,e,n),m=t.state.doc,x=m.slice(p.from,p.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=f9(x.content,p.doc.content,p.from,y,v);if(w&&t.input.domChangeCount++,(Da&&t.input.lastIOSEnter>Date.now()-225||Ur)&&s.some(I=>I.nodeType==1&&!l9.test(I.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",I=>I(t,us(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&h instanceof Ee&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))w={start:h.from,endA:h.to,endB:h.to};else{if(p.sel){let I=nw(t,t.state.doc,p.sel);if(I&&!I.eq(t.state.selection)){let R=t.state.tr.setSelection(I);o&&R.setMeta("composition",o),t.dispatch(R)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ee&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),yn&&Mi<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>p.from&&p.doc.textBetween(w.start-p.from-1,w.start-p.from+1)==" "&&(w.start--,w.endA--,w.endB--);let j=p.doc.resolveNoCache(w.start-p.from),C=p.doc.resolveNoCache(w.endB-p.from),O=m.resolve(w.start),V=j.sameParent(C)&&j.parent.inlineContent&&O.end()>=w.endA,q;if((Da&&t.input.lastIOSEnter>Date.now()-225&&(!V||s.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!V&&j.pos<p.doc.content.size&&(!j.sameParent(C)||!j.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(j.pos,C.pos,"",""))&&(q=Ae.findFrom(p.doc.resolve(j.pos+1),1,!0))&&q.head>j.pos)&&t.someProp("handleKeyDown",I=>I(t,us(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&u9(m,w.start,w.endA,j,C)&&t.someProp("handleKeyDown",I=>I(t,us(8,"Backspace")))){Ur&&tn&&t.domObserver.suppressSelectionUpdates();return}tn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Ur&&!V&&j.start()!=C.start()&&C.parentOffset==0&&j.depth==C.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==w.endA&&(w.endB-=2,C=p.doc.resolveNoCache(w.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,us(13,"Enter"))})},20));let Q=w.start,z=w.endA,B=I=>{let R=I||t.state.tr.replace(Q,z,p.doc.slice(w.start-p.from,w.endB-p.from));if(p.sel){let E=nw(t,R.doc,p.sel);E&&!(tn&&t.composing&&E.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(E.head==Q||E.head==R.mapping.map(z)-1)||yn&&E.empty&&E.head==Q)&&R.setSelection(E)}return o&&R.setMeta("composition",o),R.scrollIntoView()},_;if(V){if(j.pos==C.pos){yn&&Mi<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Vr(t),20));let I=B(t.state.tr.delete(Q,z)),R=m.resolve(w.start).marksAcross(m.resolve(w.endA));R&&I.ensureMarks(R),t.dispatch(I)}else if(w.endA==w.endB&&(_=d9(j.parent.content.cut(j.parentOffset,C.parentOffset),O.parent.content.cut(O.parentOffset,w.endA-O.start())))){let I=B(t.state.tr);_.type=="add"?I.addMark(Q,z,_.mark):I.removeMark(Q,z,_.mark),t.dispatch(I)}else if(j.parent.child(j.index()).isText&&j.index()==C.index()-(C.textOffset?0:1)){let I=j.parent.textBetween(j.parentOffset,C.parentOffset),R=()=>B(t.state.tr.insertText(I,Q,z));t.someProp("handleTextInput",E=>E(t,Q,z,I,R))||t.dispatch(R())}}else t.dispatch(B())}function nw(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:b0(t,e.resolve(n.anchor),e.resolve(n.head))}function d9(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,c,u,h;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<n.length;m++)o=n[m].removeFromSet(o);if(s.length==1&&o.length==0)u=s[0],c="add",h=m=>m.mark(u.addToSet(m.marks));else if(s.length==0&&o.length==1)u=o[0],c="remove",h=m=>m.mark(u.removeFromSet(m.marks));else return null;let p=[];for(let m=0;m<e.childCount;m++)p.push(h(e.child(m)));if(de.from(p).eq(t))return{mark:u,type:c}}function u9(t,e,n,r,s){if(n-e<=s.pos-r.pos||Om(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&n==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let c=t.resolve(Om(o,!0,!0));return!c.parent.isTextblock||c.pos>n||Om(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function Om(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function f9(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let h=Math.max(0,o-Math.min(c,u));r-=c+h-o}if(c<o&&t.size<e.size){let h=r<=o&&r>=c?o-r:0;o-=h,o&&o<e.size&&rw(e.textBetween(o-1,o+1))&&(o+=h?1:-1),u=o+(u-c),c=o}else if(u<o){let h=r<=o&&r>=u?o-r:0;o-=h,o&&o<t.size&&rw(t.textBetween(o-1,o+1))&&(o+=h?1:-1),c=o+(c-u),u=o}return{start:o,endA:c,endB:u}}function rw(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class SN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new MD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(lw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=aw(this),sw(this),this.nodeViews=ow(this),this.docView=B2(this.state.doc,iw(this),Tm(this),this.dom,this),this.domObserver=new n9(this,(r,s,o,c)=>c9(this,r,s,o,c)),this.domObserver.start(),RD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(lw),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,c=!1;e.storedMarks&&this.composing&&(mN(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=ow(this);p9(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&kg(this),this.editable=aw(this),sw(this);let h=Tm(this),p=iw(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",x=o||!this.docView.matchesNode(e.doc,p,h);(x||!e.selection.eq(s.selection))&&(c=!0);let y=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&W8(this);if(c){this.domObserver.stop();let v=x&&(yn||tn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&h9(s.selection,e.selection);if(x){let w=tn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$D(this)),(o||!this.docView.update(e.doc,p,h,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=B2(e.doc,p,h,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gD(this))?Vr(this,v):(rN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():y&&Y8(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof we){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&R2(this,n.getBoundingClientRect(),e)}else R2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new xN(e.slice,e.move,s<0?void 0:we.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=n?n(u):u))return s}let o=this.state.plugins;if(o)for(let c=0;c<o.length;c++){let u=o[c].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(yn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&K8(this.dom),Vr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Z8(this,e)}coordsAtPos(e,n=1){return Gj(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return iD(this,n||this.state,e)}pasteHTML(e,n){return Cl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Cl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return y0(this,e)}destroy(){this.docView&&(DD(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Tm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,z8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return zD(this,e)}domSelectionRange(){let e=this.domSelection();return e?on&&this.root.nodeType===11&&I8(this.dom.ownerDocument)==this.dom&&i9(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}SN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function iw(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[sn.node(0,t.state.doc.content.size,e)]}function sw(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function aw(t){return!t.someProp("editable",e=>e(t.state)===!1)}function h9(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ow(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function p9(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function lw(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var zi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},m9=typeof navigator<"u"&&/Mac/.test(navigator.platform),g9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gt=0;Gt<10;Gt++)zi[48+Gt]=zi[96+Gt]=String(Gt);for(var Gt=1;Gt<=24;Gt++)zi[Gt+111]="F"+Gt;for(var Gt=65;Gt<=90;Gt++)zi[Gt]=String.fromCharCode(Gt+32),uu[Gt]=String.fromCharCode(Gt);for(var Am in zi)uu.hasOwnProperty(Am)||(uu[Am]=zi[Am]);function x9(t){var e=m9&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||g9&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?uu:zi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const b9=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),y9=typeof navigator<"u"&&/Win/.test(navigator.platform);function v9(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,c;for(let u=0;u<e.length-1;u++){let h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))b9?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function w9(t){let e=Object.create(null);for(let n in t)e[v9(n)]=t[n];return e}function Mm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function S9(t){return new pt({props:{handleKeyDown:jN(t)}})}function jN(t){let e=w9(t);return function(n,r){let s=x9(r),o,c=e[Mm(s,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[Mm(s,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(y9&&r.ctrlKey&&r.altKey)&&(o=zi[r.keyCode])&&o!=s){let u=e[Mm(o,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const k0=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function NN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const kN=(t,e,n)=>{let r=NN(t,n);if(!r)return!1;let s=E0(r);if(!s){let c=r.blockRange(),u=c&&$a(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let o=s.nodeBefore;if(_N(t,s,e,-1))return!0;if(r.parent.content.size==0&&(_a(o,"end")||we.isSelectable(o)))for(let c=r.depth;;c--){let u=cf(t.doc,r.before(c),r.after(c),me.empty);if(u&&u.slice.size<u.to-u.from){if(e){let h=t.tr.step(u);h.setSelection(_a(o,"end")?Ae.findFrom(h.doc.resolve(h.mapping.map(s.pos,-1)),-1):we.create(h.doc,s.pos-o.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},j9=(t,e,n)=>{let r=NN(t,n);if(!r)return!1;let s=E0(r);return s?EN(t,s,e):!1},N9=(t,e,n)=>{let r=TN(t,n);if(!r)return!1;let s=C0(r);return s?EN(t,s,e):!1};function EN(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let c=e.nodeAfter,u=c,h=e.pos+1;for(;!u.isTextblock;h++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let p=cf(t.doc,o,h,me.empty);if(!p||p.from!=o||p instanceof It&&p.slice.size>=h-o)return!1;if(n){let m=t.tr.step(p);m.setSelection(Ee.create(m.doc,o)),n(m.scrollIntoView())}return!0}function _a(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const CN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=E0(r)}let c=o&&o.nodeBefore;return!c||!we.isSelectable(c)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,o.pos-c.nodeSize)).scrollIntoView()),!0)};function E0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function TN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const ON=(t,e,n)=>{let r=TN(t,n);if(!r)return!1;let s=C0(r);if(!s)return!1;let o=s.nodeAfter;if(_N(t,s,e,1))return!0;if(r.parent.content.size==0&&(_a(o,"start")||we.isSelectable(o))){let c=cf(t.doc,r.before(),r.after(),me.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(_a(o,"start")?Ae.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):we.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},AN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=C0(r)}let c=o&&o.nodeAfter;return!c||!we.isSelectable(c)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,o.pos)).scrollIntoView()),!0)};function C0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const k9=(t,e)=>{let n=t.selection,r=n instanceof we,s;if(r){if(n.node.isTextblock||!Hi(t.doc,n.from))return!1;s=n.from}else if(s=lf(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(we.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},E9=(t,e)=>{let n=t.selection,r;if(n instanceof we){if(n.node.isTextblock||!Hi(t.doc,n.to))return!1;r=n.to}else if(r=lf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},C9=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&$a(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},MN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function T0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const T9=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),c=T0(s.contentMatchAt(o));if(!c||!s.canReplaceWith(o,o,c))return!1;if(e){let u=n.after(),h=t.tr.replaceWith(u,u,c.createAndFill());h.setSelection(Ae.near(h.doc.resolve(u),1)),e(h.scrollIntoView())}return!0},RN=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof On||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=T0(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(c,o.createAndFill());u.setSelection(Ee.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},DN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(qr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&$a(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function O9(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!r.parentOffset||!qr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],c,u,h=!1,p=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){h=r.end(v)==r.pos+(r.depth-v),p=r.start(v)==r.pos-(r.depth-v),u=T0(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(h&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof Ee||e.selection instanceof On)&&m.deleteSelection();let x=m.mapping.map(r.pos),y=qr(m.doc,x,o.length,o);if(y||(o[0]=u?{type:u}:null,y=qr(m.doc,x,o.length,o)),!y)return!1;if(m.split(x,o.length,o),!h&&p&&r.node(c).type!=u){let v=m.mapping.map(r.before(c)),w=m.doc.resolve(v);u&&r.node(c-1).canReplaceWith(w.index(),w.index()+1,u)&&m.setNodeMarkup(m.mapping.map(r.before(c)),u)}return n&&n(m.scrollIntoView()),!0}}const A9=O9(),M9=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(we.create(t.doc,s))),!0)};function R9(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Hi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function _N(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,c,u,h=s.type.spec.isolating||o.type.spec.isolating;if(!h&&R9(t,e,n))return!0;let p=!h&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&u.matchType(c[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,w=de.empty;for(let O=c.length-1;O>=0;O--)w=de.from(c[O].create(null,w));w=de.from(s.copy(w));let j=t.tr.step(new Ut(e.pos-1,v,e.pos,v,new me(w,1,0),c.length,!0)),C=j.doc.resolve(v+2*c.length);C.nodeAfter&&C.nodeAfter.type==s.type&&Hi(j.doc,C.pos)&&j.join(C.pos),n(j.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&h?null:Ae.findFrom(e,1),x=m&&m.$from.blockRange(m.$to),y=x&&$a(x);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(x,y).scrollIntoView()),!0;if(p&&_a(o,"start",!0)&&_a(s,"end")){let v=s,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let j=o,C=1;for(;!j.isTextblock;j=j.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,j.content)){if(n){let O=de.empty;for(let q=w.length-1;q>=0;q--)O=de.from(w[q].copy(O));let V=t.tr.step(new Ut(e.pos-w.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new me(O,w.length,0),0,!0));n(V.scrollIntoView())}return!0}}return!1}function zN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(Ee.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const D9=zN(-1),_9=zN(1);function z9(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,c=s.blockRange(o),u=c&&p0(c,t,e);return u?(r&&r(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function cw(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[o];n.doc.nodesBetween(c,u,(h,p)=>{if(s)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)s=!0;else{let m=n.doc.resolve(p),x=m.index();s=m.parent.canReplaceWith(x,x+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:h}}=n.selection.ranges[c];o.setBlockType(u,h,t,e)}r(o.scrollIntoView())}return!0}}function O0(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}O0(k0,kN,CN);O0(k0,ON,AN);O0(MN,RN,DN,A9);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function L9(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,c=s.blockRange(o);if(!c)return!1;let u=r?n.tr:null;return P9(u,c,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function P9(t,e,n,r=null){let s=!1,o=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);o=new iu(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new iu(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=p0(o,n,r,e);return u?(t&&B9(t,e,u,s,n),!0):!1}function B9(t,e,n,r,s){let o=de.empty;for(let m=n.length-1;m>=0;m--)o=de.from(n[m].type.create(n[m].attrs,o));t.step(new Ut(e.start-(r?2:0),e.end,e.start,e.end,new me(o,0,0),n.length,!0));let c=0;for(let m=0;m<n.length;m++)n[m].type==s&&(c=m+1);let u=n.length-c,h=e.start+n.length-(r?2:0),p=e.parent;for(let m=e.startIndex,x=e.endIndex,y=!0;m<x;m++,y=!1)!y&&qr(t.doc,h,u)&&(t.split(h,u),h+=2*u),h+=p.child(m).nodeSize;return t}function H9(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?I9(e,n,t,o):U9(e,n,o):!0:!1}}function I9(t,e,n,r){let s=t.tr,o=r.end,c=r.$to.end(r.depth);o<c&&(s.step(new Ut(o-1,c,o,c,new me(de.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new iu(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const u=$a(r);if(u==null)return!1;s.lift(r,u);let h=s.doc.resolve(s.mapping.map(o,-1)-1);return Hi(s.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&s.join(h.pos),e(s.scrollIntoView()),!0}function U9(t,e,n){let r=t.tr,s=n.parent;for(let v=n.end,w=n.endIndex-1,j=n.startIndex;w>j;w--)v-=s.child(w).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),c=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,h=n.endIndex==s.childCount,p=o.node(-1),m=o.index(-1);if(!p.canReplace(m+(u?0:1),m+1,c.content.append(h?de.empty:de.from(s))))return!1;let x=o.pos,y=x+c.nodeSize;return r.step(new Ut(x-(u?1:0),y+(h?1:0),x+1,y-1,new me((u?de.empty:de.from(s.copy(de.empty))).append(h?de.empty:de.from(s.copy(de.empty))),u?0:1,h?0:1),u?0:1)),e(r.scrollIntoView()),!0}function F9(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,p=>p.childCount>0&&p.firstChild.type==t);if(!o)return!1;let c=o.startIndex;if(c==0)return!1;let u=o.parent,h=u.child(c-1);if(h.type!=t)return!1;if(n){let p=h.lastChild&&h.lastChild.type==u.type,m=de.from(p?t.create():null),x=new me(de.from(t.create(null,de.from(u.type.create(null,m)))),p?3:1,0),y=o.start,v=o.end;n(e.tr.step(new Ut(y-(p?3:1),v,y,v,x,1,!0)).scrollIntoView())}return!0}}var q9=Object.defineProperty,LN=(t,e)=>{for(var n in e)q9(t,n,{get:e[n],enumerable:!0})};function pf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var mf=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...p)=>{const m=u(...p)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,c=[],u=!!t,h=t||s.tr,p=()=>(!u&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(h),c.every(x=>x===!0)),m={...Object.fromEntries(Object.entries(n).map(([x,y])=>[x,(...w)=>{const j=this.buildProps(h,e),C=y(...w)(j);return c.push(C),m}])),run:p};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([u,h])=>[u,(...p)=>h(...p)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,c={tr:t,editor:r,view:o,state:pf({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,h])=>[u,(...p)=>h(...p)(c)]))}};return c}},V9=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function PN(t,e){const n=new Ij(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}var BN=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&BN(r)}return t};function yd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return BN(n)}function Ol(t,e,n){if(t instanceof er||t instanceof de)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return de.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Ol("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const h=new Nj({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(c=!0,u=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?Ai.fromSchema(h).parseSlice(yd(t),n.parseOptions):Ai.fromSchema(h).parse(yd(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=Ai.fromSchema(e);return n.slice?o.parseSlice(yd(t),n.parseOptions).content:o.parse(yd(t),n.parseOptions)}return Ol("",e,n)}function Eg(t,e,n={},r={}){return Ol(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function $9(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function W9(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function Y9(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function gf(t){return e=>Y9(e.$from,t)}function ve(t,e,n){return t.config[e]===void 0&&t.parent?ve(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ve(t.parent,e,n):null}):t.config[e]}function A0(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ve(e,"addExtensions",n);return r?[e,...A0(r())]:e}).flat(10)}function M0(t,e){const n=Rs.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function HN(t){return typeof t=="function"}function Qe(t,e=void 0,...n){return HN(t)?e?t.bind(e)(...n):t(...n):t}function K9(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Al(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function IN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Al(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},h=ve(c,"addGlobalAttributes",u);if(!h)return;h().forEach(m=>{m.types.forEach(x=>{Object.entries(m.attributes).forEach(([y,v])=>{e.push({type:x,name:y,attribute:{...o,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},h=ve(c,"addAttributes",u);if(!h)return;const p=h();Object.entries(p).forEach(([m,x])=>{const y={...o,...x};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:c.name,name:m,attribute:y})})}),e}function Et(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const u=o?String(o).split(" "):[],h=r[s]?r[s].split(" "):[],p=u.filter(m=>!h.includes(m));r[s]=[...h,...p].join(" ")}else if(s==="style"){const u=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],h=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],p=new Map;h.forEach(m=>{const[x,y]=m.split(":").map(v=>v.trim());p.set(x,y)}),u.forEach(m=>{const[x,y]=m.split(":").map(v=>v.trim());p.set(x,y)}),r[s]=Array.from(p.entries()).map(([m,x])=>`${m}: ${x}`).join("; ")}else r[s]=o}),r},{})}function fu(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Et(n,r),{})}function G9(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function dw(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):G9(n.getAttribute(c.name));return u==null?o:{...o,[c.name]:u}},{});return{...r,...s}}}}function uw(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&K9(n)?!1:n!=null))}function Q9(t,e){var n;const r=IN(t),{nodeExtensions:s,markExtensions:o}=Al(t),c=(n=s.find(p=>ve(p,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(p=>{const m=r.filter(O=>O.type===p.name),x={name:p.name,options:p.options,storage:p.storage,editor:e},y=t.reduce((O,V)=>{const q=ve(V,"extendNodeSchema",x);return{...O,...q?q(p):{}}},{}),v=uw({...y,content:Qe(ve(p,"content",x)),marks:Qe(ve(p,"marks",x)),group:Qe(ve(p,"group",x)),inline:Qe(ve(p,"inline",x)),atom:Qe(ve(p,"atom",x)),selectable:Qe(ve(p,"selectable",x)),draggable:Qe(ve(p,"draggable",x)),code:Qe(ve(p,"code",x)),whitespace:Qe(ve(p,"whitespace",x)),linebreakReplacement:Qe(ve(p,"linebreakReplacement",x)),defining:Qe(ve(p,"defining",x)),isolating:Qe(ve(p,"isolating",x)),attrs:Object.fromEntries(m.map(O=>{var V,q;return[O.name,{default:(V=O?.attribute)==null?void 0:V.default,validate:(q=O?.attribute)==null?void 0:q.validate}]}))}),w=Qe(ve(p,"parseHTML",x));w&&(v.parseDOM=w.map(O=>dw(O,m)));const j=ve(p,"renderHTML",x);j&&(v.toDOM=O=>j({node:O,HTMLAttributes:fu(O,m)}));const C=ve(p,"renderText",x);return C&&(v.toText=C),[p.name,v]})),h=Object.fromEntries(o.map(p=>{const m=r.filter(C=>C.type===p.name),x={name:p.name,options:p.options,storage:p.storage,editor:e},y=t.reduce((C,O)=>{const V=ve(O,"extendMarkSchema",x);return{...C,...V?V(p):{}}},{}),v=uw({...y,inclusive:Qe(ve(p,"inclusive",x)),excludes:Qe(ve(p,"excludes",x)),group:Qe(ve(p,"group",x)),spanning:Qe(ve(p,"spanning",x)),code:Qe(ve(p,"code",x)),attrs:Object.fromEntries(m.map(C=>{var O,V;return[C.name,{default:(O=C?.attribute)==null?void 0:O.default,validate:(V=C?.attribute)==null?void 0:V.validate}]}))}),w=Qe(ve(p,"parseHTML",x));w&&(v.parseDOM=w.map(C=>dw(C,m)));const j=ve(p,"renderHTML",x);return j&&(v.toDOM=C=>j({mark:C,HTMLAttributes:fu(C,m)})),[p.name,v]}));return new Nj({topNode:c,nodes:u,marks:h})}function J9(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function R0(t){return t.sort((n,r)=>{const s=ve(n,"priority")||100,o=ve(r,"priority")||100;return s>o?-1:s<o?1:0})}function UN(t){const e=R0(A0(t)),n=J9(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function FN(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(r,s,(h,p,m,x)=>{var y;h.isBlock&&p>r&&(u+=o);const v=c?.[h.type.name];if(v)return m&&(u+=v({node:h,pos:p,parent:m,index:x,range:e})),!1;h.isText&&(u+=(y=h?.text)==null?void 0:y.slice(Math.max(r,p)-p,s-p))}),u}function X9(t,e){const n={from:0,to:t.content.size};return FN(t,n,e)}function qN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Kr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function VN(t,e){const n=Kr(e,t.schema),{from:r,to:s,empty:o}=t.selection,c=[];o?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,h=>{c.push(...h.marks)});const u=c.find(h=>h.type.name===n.name);return u?{...u.attrs}:{}}function Ct(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Z9(t,e){const n=Ct(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,u=>{o.push(u)});const c=o.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function xf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function $N(t,e){const n=xf(typeof e=="string"?e:e.name,t.schema);return n==="node"?Z9(t,e):n==="mark"?VN(t,e):{}}function e_(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function t_(t){const e=e_(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,c)=>c!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function WN(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const c=[];if(s.ranges.length)s.forEach((u,h)=>{c.push({from:u,to:h})});else{const{from:u,to:h}=n[o];if(u===void 0||h===void 0)return;c.push({from:u,to:h})}c.forEach(({from:u,to:h})=>{const p=e.slice(o).map(u,-1),m=e.slice(o).map(h),x=e.invert().map(p,-1),y=e.invert().map(m);r.push({oldRange:{from:x,to:y},newRange:{from:p,to:m}})})}),t_(r)}function D0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function hu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:D0(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function YN(t,e,n={}){return t.find(r=>r.type===e&&hu(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function fw(t,e,n={}){return!!YN(t,e,n)}function _0(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!YN([...s.node.marks],e,n)))return;let c=s.index,u=t.start()+s.offset,h=c+1,p=u+s.node.nodeSize;for(;c>0&&fw([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;h<t.parent.childCount&&fw([...t.parent.child(h).marks],e,n);)p+=t.parent.child(h).nodeSize,h+=1;return{from:u,to:p}}function z0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),c=_0(o,s.type);c&&r.push({mark:s,...c})}):n.nodesBetween(t,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(c=>({from:o,to:o+s.nodeSize,mark:c})))}),r}var n_=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,c=null;for(;o>0&&c===null;){const u=s.node(o);u?.type.name===e?c=u:o-=1}return[c,o]};function Rm(t,e){return e.nodes[t]||e.marks[t]||null}function Ud(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var r_=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,c,u)=>{var h,p;const m=((p=(h=s.type.spec).toText)==null?void 0:p.call(h,{node:s,pos:o,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),n};function Cg(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?Kr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(x=>o?o.name===x.type.name:!0).find(x=>hu(x.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:x,$to:y})=>{const v=x.pos,w=y.pos;t.doc.nodesBetween(v,w,(j,C)=>{if(!j.isText&&!j.marks.length)return;const O=Math.max(v,C),V=Math.min(w,C+j.nodeSize),q=V-O;c+=q,u.push(...j.marks.map(Q=>({mark:Q,from:O,to:V})))})}),c===0)return!1;const h=u.filter(x=>o?o.name===x.mark.type.name:!0).filter(x=>hu(x.mark.attrs,n,{strict:!1})).reduce((x,y)=>x+y.to-y.from,0),p=u.filter(x=>o?x.mark.type!==o&&x.mark.type.excludes(o):!0).reduce((x,y)=>x+y.to-y.from,0);return(h>0?h+p:h)>=c}function Li(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,c=e?Ct(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(x,y)=>{if(x.isText)return;const v=Math.max(r,y),w=Math.min(s,y+x.nodeSize);u.push({node:x,from:v,to:w})});const h=s-r,p=u.filter(x=>c?c.name===x.node.type.name:!0).filter(x=>hu(x.node.attrs,n,{strict:!1}));return o?!!p.length:p.reduce((x,y)=>x+y.to-y.from,0)>=h}function i_(t,e,n={}){if(!e)return Li(t,null,n)||Cg(t,null,n);const r=xf(e,t.schema);return r==="node"?Li(t,e,n):r==="mark"?Cg(t,e,n):!1}var s_=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=gf(u=>u.type.name===e)(t.selection);if(!o)return!1;const c=t.doc.resolve(o.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},a_=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function hw(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function pw(t,e){const{nodeExtensions:n}=Al(e),r=n.find(c=>c.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Qe(ve(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function bf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(bf(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function KN(t){return t instanceof we}function GN(t){return t instanceof Ee}function gs(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function QN(t,e=null){if(!e)return null;const n=Ae.atStart(t),r=Ae.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?Ee.create(t,gs(0,s,o),gs(t.content.size,s,o)):Ee.create(t,gs(e,s,o),gs(e,s,o))}function o_(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof It||s instanceof Ut))return;const o=t.mapping.maps[r];let c=0;o.forEach((u,h,p,m)=>{c===0&&(c=m)}),t.setSelection(Ae.near(t.doc.resolve(c),n))}var yf=class{constructor(t){this.find=t.find,this.handler=t.handler}},l_=(t,e)=>{if(D0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function vd(t){var e;const{editor:n,from:r,to:s,text:o,rules:c,plugin:u}=t,{view:h}=n;if(h.composing)return!1;const p=h.state.doc.resolve(r);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let m=!1;const x=r_(p)+o;return c.forEach(y=>{if(m)return;const v=l_(x,y.find);if(!v)return;const w=h.state.tr,j=pf({state:h.state,transaction:w}),C={from:r-(v[0].length-o.length),to:s},{commands:O,chain:V,can:q}=new mf({editor:n,state:j});y.handler({state:j,range:C,match:v,commands:O,chain:V,can:q})===null||!w.steps.length||(w.setMeta(u,{transform:w,from:r,to:s,text:o}),h.dispatch(w),m=!0)}),m}function c_(t){const{editor:e,rules:n}=t,r=new pt({state:{init(){return null},apply(s,o,c){const u=s.getMeta(r);if(u)return u;const h=s.getMeta("applyInputRules");return!!h&&setTimeout(()=>{let{text:m}=h;typeof m=="string"?m=m:m=M0(de.from(m),c.schema);const{from:x}=h,y=x+m.length;vd({editor:e,from:x,to:y,text:m,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,c,u){return vd({editor:e,from:o,to:c,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&vd({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?vd({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function d_(t){return Object.prototype.toString.call(t).slice(8,-1)}function wd(t){return d_(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function JN(t,e){const n={...t};return wd(t)&&wd(e)&&Object.keys(e).forEach(r=>{wd(e[r])&&wd(t[r])?n[r]=JN(t[r],e[r]):n[r]=e[r]}),n}var L0=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Qe(ve(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Qe(ve(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>JN(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ds=class XN extends L0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new XN(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(p=>p?.type.name===n.name))return!1;const h=c.find(p=>p?.type.name===n.name);return h&&r.removeStoredMark(h),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function u_(t){return typeof t=="number"}var f_=class{constructor(t){this.find=t.find,this.handler=t.handler}},h_=(t,e,n)=>{if(D0(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function p_(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:c,dropEvent:u}=t,{commands:h,chain:p,can:m}=new mf({editor:e,state:n}),x=[];return n.doc.nodesBetween(r,s,(v,w)=>{if(!v.isTextblock||v.type.spec.code)return;const j=Math.max(r,w),C=Math.min(s,w+v.content.size),O=v.textBetween(j-w,C-w,void 0,"");h_(O,o.find,c).forEach(q=>{if(q.index===void 0)return;const Q=j+q.index+1,z=Q+q[0].length,B={from:n.tr.mapping.map(Q),to:n.tr.mapping.map(z)},_=o.handler({state:n,range:B,match:q,commands:h,chain:p,can:m,pasteEvent:c,dropEvent:u});x.push(_)})}),x.every(v=>v!==null)}var Sd=null,m_=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function g_(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const h=({state:m,from:x,to:y,rule:v,pasteEvt:w})=>{const j=m.tr,C=pf({state:m,transaction:j});if(!(!p_({editor:e,state:C,from:Math.max(x-1,0),to:y.b-1,rule:v,pasteEvent:w,dropEvent:u})||!j.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return n.map(m=>new pt({view(x){const y=w=>{var j;r=(j=x.dom.parentElement)!=null&&j.contains(w.target)?x.dom.parentElement:null,r&&(Sd=e)},v=()=>{Sd&&(Sd=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(x,y)=>{if(o=r===x.dom.parentElement,u=y,!o){const v=Sd;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(x,y)=>{var v;const w=(v=y.clipboardData)==null?void 0:v.getData("text/html");return c=y,s=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(x,y,v)=>{const w=x[0],j=w.getMeta("uiEvent")==="paste"&&!s,C=w.getMeta("uiEvent")==="drop"&&!o,O=w.getMeta("applyPasteRules"),V=!!O;if(!j&&!C&&!V)return;if(V){let{text:z}=O;typeof z=="string"?z=z:z=M0(de.from(z),v.schema);const{from:B}=O,_=B+z.length,I=m_(z);return h({rule:m,state:v,from:B,to:{b:_},pasteEvt:I})}const q=y.doc.content.findDiffStart(v.doc.content),Q=y.doc.content.findDiffEnd(v.doc.content);if(!(!u_(q)||!Q||q===Q.b))return h({rule:m,state:v,from:q,to:Q,pasteEvt:c})}}))}var vf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=UN(t),this.schema=Q9(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rm(e.name,this.schema)},r=ve(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this,e=R0([...this.extensions].reverse()),n=[],r=[],s=e.map(o=>{const c={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:t,type:Rm(o.name,this.schema)},u=[],h=ve(o,"addKeyboardShortcuts",c);let p={};if(o.type==="mark"&&ve(o,"exitable",c)&&(p.ArrowRight=()=>Ds.handleExit({editor:t,mark:o})),h){const w=Object.fromEntries(Object.entries(h()).map(([j,C])=>[j,()=>C({editor:t})]));p={...p,...w}}const m=S9(p);u.push(m);const x=ve(o,"addInputRules",c);hw(o,t.options.enableInputRules)&&x&&n.push(...x());const y=ve(o,"addPasteRules",c);hw(o,t.options.enablePasteRules)&&y&&r.push(...y());const v=ve(o,"addProseMirrorPlugins",c);if(v){const w=v();u.push(...w)}return u}).flat();return[c_({editor:t,rules:n}),...g_({editor:t,rules:r}),...s]}get attributes(){return IN(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Al(this.extensions);return Object.fromEntries(e.filter(n=>!!ve(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ct(n.name,this.schema)},o=ve(n,"addNodeView",s);if(!o)return[];const c=(u,h,p,m,x)=>{const y=fu(u,r);return o()({node:u,view:h,getPos:p,decorations:m,innerDecorations:x,editor:t,extension:n,HTMLAttributes:y})};return[n.name,c]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Al(this.extensions);return Object.fromEntries(e.filter(n=>!!ve(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Kr(n.name,this.schema)},o=ve(n,"addMarkView",s);if(!o)return[];const c=(u,h,p)=>{const m=fu(u,r);return o()({mark:u,view:h,inline:p,editor:t,extension:n,HTMLAttributes:m,updateAttributes:x=>{Rz(u,t,x)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rm(e.name,this.schema)};e.type==="mark"&&((n=Qe(ve(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=ve(e,"onBeforeCreate",r),o=ve(e,"onCreate",r),c=ve(e,"onUpdate",r),u=ve(e,"onSelectionUpdate",r),h=ve(e,"onTransaction",r),p=ve(e,"onFocus",r),m=ve(e,"onBlur",r),x=ve(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),h&&this.editor.on("transaction",h),p&&this.editor.on("focus",p),m&&this.editor.on("blur",m),x&&this.editor.on("destroy",x)})}};vf.resolve=UN;vf.sort=R0;vf.flatten=A0;var x_={};LN(x_,{ClipboardTextSerializer:()=>e3,Commands:()=>r3,Delete:()=>i3,Drop:()=>s3,Editable:()=>a3,FocusEvents:()=>l3,Keymap:()=>c3,Paste:()=>d3,Tabindex:()=>u3,focusEventsPluginKey:()=>o3});var Tt=class ZN extends L0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new ZN(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},e3=Tt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pt({key:new qt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,c=Math.min(...o.map(m=>m.$from.pos)),u=Math.max(...o.map(m=>m.$to.pos)),h=qN(n);return FN(r,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),t3={};LN(t3,{blur:()=>b_,clearContent:()=>y_,clearNodes:()=>v_,command:()=>w_,createParagraphNear:()=>S_,cut:()=>j_,deleteCurrentNode:()=>N_,deleteNode:()=>k_,deleteRange:()=>E_,deleteSelection:()=>C_,enter:()=>T_,exitCode:()=>O_,extendMarkRange:()=>A_,first:()=>M_,focus:()=>D_,forEach:()=>__,insertContent:()=>z_,insertContentAt:()=>P_,joinBackward:()=>I_,joinDown:()=>H_,joinForward:()=>U_,joinItemBackward:()=>F_,joinItemForward:()=>q_,joinTextblockBackward:()=>V_,joinTextblockForward:()=>$_,joinUp:()=>B_,keyboardShortcut:()=>Y_,lift:()=>K_,liftEmptyBlock:()=>G_,liftListItem:()=>Q_,newlineInCode:()=>J_,resetAttributes:()=>X_,scrollIntoView:()=>Z_,selectAll:()=>ez,selectNodeBackward:()=>tz,selectNodeForward:()=>nz,selectParentNode:()=>rz,selectTextblockEnd:()=>iz,selectTextblockStart:()=>sz,setContent:()=>az,setMark:()=>lz,setMeta:()=>cz,setNode:()=>dz,setNodeSelection:()=>uz,setTextSelection:()=>fz,sinkListItem:()=>hz,splitBlock:()=>pz,splitListItem:()=>mz,toggleList:()=>gz,toggleMark:()=>xz,toggleNode:()=>bz,toggleWrap:()=>yz,undoInputRule:()=>vz,unsetAllMarks:()=>wz,unsetMark:()=>Sz,updateAttributes:()=>jz,wrapIn:()=>Nz,wrapInList:()=>kz});var b_=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),y_=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),v_=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:c})=>{t.doc.nodesBetween(o.pos,c.pos,(u,h)=>{if(u.type.isText)return;const{doc:p,mapping:m}=e,x=p.resolve(m.map(h)),y=p.resolve(m.map(h+u.nodeSize)),v=x.blockRange(y);if(!v)return;const w=$a(v);if(u.type.isTextblock){const{defaultType:j}=x.parent.contentMatchAt(x.index());e.setNodeMarkup(v.start,j)}(w||w===0)&&e.lift(v,w)})}),!0},w_=t=>e=>t(e),S_=()=>({state:t,dispatch:e})=>RN(t,e),j_=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const c=r.mapping.map(e);return r.insert(c,o.content),r.setSelection(new Ee(r.doc.resolve(Math.max(c-1,0)))),!0},N_=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const u=s.before(o),h=s.after(o);t.delete(u,h).scrollIntoView()}return!0}return!1},k_=t=>({tr:e,state:n,dispatch:r})=>{const s=Ct(t,n.schema),o=e.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===s){if(r){const h=o.before(c),p=o.after(c);e.delete(h,p).scrollIntoView()}return!0}return!1},E_=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},C_=()=>({state:t,dispatch:e})=>k0(t,e),T_=()=>({commands:t})=>t.keyboardShortcut("Enter"),O_=()=>({state:t,dispatch:e})=>T9(t,e),A_=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=Kr(t,r.schema),{doc:c,selection:u}=n,{$from:h,from:p,to:m}=u;if(s){const x=_0(h,o,e);if(x&&x.from<=p&&x.to>=m){const y=Ee.create(c,x.from,x.to);n.setSelection(y)}}return!0},M_=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function R_(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function P0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var D_=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const c=()=>{(P0()||R_())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!GN(n.state.selection))return c(),!0;const u=QN(s.doc,t)||n.state.selection,h=n.state.selection.eq(u);return o&&(h||s.setSelection(u),h&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},__=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),z_=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),L_=t=>!("type"in t),P_=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var c;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const{selection:h}=o.state,p=O=>{o.emit("contentError",{editor:o,error:O,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Ol(e,o.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(O){p(O)}try{u=Ol(e,o.schema,{parseOptions:m,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:o.options.enableContentCheck})}catch(O){return p(O),!1}let{from:x,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},v=!0,w=!0;if((L_(u)?u:[u]).forEach(O=>{O.check(),v=v?O.isText&&O.marks.length===0:!1,w=w?O.isBlock:!1}),x===y&&w){const{parent:O}=r.doc.resolve(x);O.isTextblock&&!O.type.spec.code&&!O.childCount&&(x-=1,y+=1)}let C;if(v){if(Array.isArray(e))C=e.map(O=>O.text||"").join("");else if(e instanceof de){let O="";e.forEach(V=>{V.text&&(O+=V.text)}),C=O}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,x,y)}else{C=u;const O=h.$from.parentOffset===0,V=h.$from.node().isText||h.$from.node().isTextblock,q=h.$from.node().content.size>0;O&&V&&q&&(x=Math.max(0,x-1)),r.replaceWith(x,y,C)}n.updateSelection&&o_(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:x,text:C}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:x,text:C})}return!0},B_=()=>({state:t,dispatch:e})=>k9(t,e),H_=()=>({state:t,dispatch:e})=>E9(t,e),I_=()=>({state:t,dispatch:e})=>kN(t,e),U_=()=>({state:t,dispatch:e})=>ON(t,e),F_=()=>({state:t,dispatch:e,tr:n})=>{try{const r=lf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},q_=()=>({state:t,dispatch:e,tr:n})=>{try{const r=lf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},V_=()=>({state:t,dispatch:e})=>j9(t,e),$_=()=>({state:t,dispatch:e})=>N9(t,e);function n3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function W_(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,c;for(let u=0;u<e.length-1;u+=1){const h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))P0()||n3()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var Y_=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=W_(t).split(/-(?!$)/),c=o.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,u))});return h?.steps.forEach(p=>{const m=p.map(r.mapping);m&&s&&r.maybeStep(m)}),!0},K_=(t,e={})=>({state:n,dispatch:r})=>{const s=Ct(t,n.schema);return Li(n,s,e)?C9(n,r):!1},G_=()=>({state:t,dispatch:e})=>DN(t,e),Q_=t=>({state:e,dispatch:n})=>{const r=Ct(t,e.schema);return H9(r)(e,n)},J_=()=>({state:t,dispatch:e})=>MN(t,e);function mw(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var X_=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,c=null;const u=xf(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(o=Ct(t,r.schema)),u==="mark"&&(c=Kr(t,r.schema)),s&&n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,m)=>{o&&o===p.type&&n.setNodeMarkup(m,void 0,mw(p.attrs,e)),c&&p.marks.length&&p.marks.forEach(x=>{c===x.type&&n.addMark(m,m+p.nodeSize,c.create(mw(x.attrs,e)))})})}),!0):!1},Z_=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ez=()=>({tr:t,dispatch:e})=>{if(e){const n=new On(t.doc);t.setSelection(n)}return!0},tz=()=>({state:t,dispatch:e})=>CN(t,e),nz=()=>({state:t,dispatch:e})=>AN(t,e),rz=()=>({state:t,dispatch:e})=>M9(t,e),iz=()=>({state:t,dispatch:e})=>_9(t,e),sz=()=>({state:t,dispatch:e})=>D9(t,e),az=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:c,commands:u})=>{const{doc:h}=o;if(r.preserveWhitespace!=="full"){const p=Eg(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&o.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!n),!0}return c&&o.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:h.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function oz(t,e,n){var r;const{selection:s}=e;let o=null;if(GN(s)&&(o=s.$cursor),o){const u=(r=t.storedMarks)!=null?r:o.marks();return!!n.isInSet(u)||!u.some(h=>h.type.excludes(n))}const{ranges:c}=s;return c.some(({$from:u,$to:h})=>{let p=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,h.pos,(m,x,y)=>{if(p)return!1;if(m.isInline){const v=!y||y.type.allowsMarkType(n),w=!!n.isInSet(m.marks)||!m.marks.some(j=>j.type.excludes(n));p=v&&w}return!p}),p})}var lz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:c,ranges:u}=o,h=Kr(t,r.schema);if(s)if(c){const p=VN(r,h);n.addStoredMark(h.create({...p,...e}))}else u.forEach(p=>{const m=p.$from.pos,x=p.$to.pos;r.doc.nodesBetween(m,x,(y,v)=>{const w=Math.max(v,m),j=Math.min(v+y.nodeSize,x);y.marks.find(O=>O.type===h)?y.marks.forEach(O=>{h===O.type&&n.addMark(w,j,h.create({...O.attrs,...e}))}):n.addMark(w,j,h.create(e))})});return oz(r,n,h)},cz=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),dz=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Ct(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:u})=>cw(o,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>cw(o,{...c,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=gs(t,0,r.content.size),o=we.create(r,s);e.setSelection(o)}return!0},fz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,c=Ee.atStart(r).from,u=Ee.atEnd(r).to,h=gs(s,c,u),p=gs(o,c,u),m=Ee.create(r,h,p);e.setSelection(m)}return!0},hz=t=>({state:e,dispatch:n})=>{const r=Ct(t,e.schema);return F9(r)(e,n)};function gw(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var pz=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:c}=e,{$from:u,$to:h}=o,p=s.extensionManager.attributes,m=Ud(p,u.node().type.name,u.node().attrs);if(o instanceof we&&o.node.isBlock)return!u.parentOffset||!qr(c,u.pos)?!1:(r&&(t&&gw(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const x=h.parentOffset===h.parent.content.size,y=u.depth===0?void 0:$9(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=x&&y?[{type:y,attrs:m}]:void 0,w=qr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&qr(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,v=y?[{type:y,attrs:m}]:void 0),r){if(w&&(o instanceof Ee&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),y&&!x&&!u.parentOffset&&u.parent.type!==y)){const j=e.mapping.map(u.before()),C=e.doc.resolve(j);u.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&gw(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},mz=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var c;const u=Ct(t,r.schema),{$from:h,$to:p}=r.selection,m=r.selection.node;if(m&&m.isBlock||h.depth<2||!h.sameParent(p))return!1;const x=h.node(-1);if(x.type!==u)return!1;const y=o.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(s){let O=de.empty;const V=h.index(-1)?1:h.index(-2)?2:3;for(let I=h.depth-V;I>=h.depth-3;I-=1)O=de.from(h.node(I).copy(O));const q=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,Q={...Ud(y,h.node().type.name,h.node().attrs),...e},z=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(Q))||void 0;O=O.append(de.from(u.createAndFill(null,z)||void 0));const B=h.before(h.depth-(V-1));n.replace(B,h.after(-q),new me(O,4-V,0));let _=-1;n.doc.nodesBetween(B,n.doc.content.size,(I,R)=>{if(_>-1)return!1;I.isTextblock&&I.content.size===0&&(_=R+1)}),_>-1&&n.setSelection(Ee.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const v=p.pos===h.end()?x.contentMatchAt(0).defaultType:null,w={...Ud(y,x.type.name,x.attrs),...e},j={...Ud(y,h.node().type.name,h.node().attrs),...e};n.delete(h.pos,p.pos);const C=v?[{type:u,attrs:w},{type:v,attrs:j}]:[{type:u,attrs:w}];if(!qr(n.doc,h.pos,2))return!1;if(s){const{selection:O,storedMarks:V}=r,{splittableMarks:q}=o.extensionManager,Q=V||O.$to.parentOffset&&O.$from.marks();if(n.split(h.pos,2,C).scrollIntoView(),!Q||!s)return!0;const z=Q.filter(B=>q.includes(B.type.name));n.ensureMarks(z)}return!0},Dm=(t,e)=>{const n=gf(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Hi(t.doc,n.pos)&&t.join(n.pos),!0},_m=(t,e)=>{const n=gf(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Hi(t.doc,r)&&t.join(r),!0},gz=(t,e,n,r={})=>({editor:s,tr:o,state:c,dispatch:u,chain:h,commands:p,can:m})=>{const{extensions:x,splittableMarks:y}=s.extensionManager,v=Ct(t,c.schema),w=Ct(e,c.schema),{selection:j,storedMarks:C}=c,{$from:O,$to:V}=j,q=O.blockRange(V),Q=C||j.$to.parentOffset&&j.$from.marks();if(!q)return!1;const z=gf(B=>pw(B.type.name,x))(j);if(q.depth>=1&&z&&q.depth-z.depth<=1){if(z.node.type===v)return p.liftListItem(w);if(pw(z.node.type.name,x)&&v.validContent(z.node.content)&&u)return h().command(()=>(o.setNodeMarkup(z.pos,v),!0)).command(()=>Dm(o,v)).command(()=>_m(o,v)).run()}return!n||!Q||!u?h().command(()=>m().wrapInList(v,r)?!0:p.clearNodes()).wrapInList(v,r).command(()=>Dm(o,v)).command(()=>_m(o,v)).run():h().command(()=>{const B=m().wrapInList(v,r),_=Q.filter(I=>y.includes(I.type.name));return o.ensureMarks(_),B?!0:p.clearNodes()}).wrapInList(v,r).command(()=>Dm(o,v)).command(()=>_m(o,v)).run()},xz=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,c=Kr(t,r.schema);return Cg(r,c,e)?s.unsetMark(c,{extendEmptyMarkRange:o}):s.setMark(c,e)},bz=(t,e,n={})=>({state:r,commands:s})=>{const o=Ct(t,r.schema),c=Ct(e,r.schema),u=Li(r,o,n);let h;return r.selection.$anchor.sameParent(r.selection.$head)&&(h=r.selection.$anchor.parent.attrs),u?s.setNode(c,h):s.setNode(o,{...h,...n})},yz=(t,e={})=>({state:n,commands:r})=>{const s=Ct(t,n.schema);return Li(n,s,e)?r.lift(s):r.wrapIn(s,e)},vz=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const c=t.tr,u=o.transform;for(let h=u.steps.length-1;h>=0;h-=1)c.step(u.steps[h].invert(u.docs[h]));if(o.text){const h=c.doc.resolve(o.from).marks();c.replaceWith(o.from,o.to,t.schema.text(o.text,h))}else c.delete(o.from,o.to)}return!0}}return!1},wz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},Sz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,h=Kr(t,r.schema),{$from:p,empty:m,ranges:x}=u;if(!s)return!0;if(m&&c){let{from:y,to:v}=u;const w=(o=p.marks().find(C=>C.type===h))==null?void 0:o.attrs,j=_0(p,h,w);j&&(y=j.from,v=j.to),n.removeMark(y,v,h)}else x.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,h)});return n.removeStoredMark(h),!0},jz=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,c=null;const u=xf(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(o=Ct(t,r.schema)),u==="mark"&&(c=Kr(t,r.schema)),s&&n.selection.ranges.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;let x,y,v,w;n.selection.empty?r.doc.nodesBetween(p,m,(j,C)=>{o&&o===j.type&&(v=Math.max(C,p),w=Math.min(C+j.nodeSize,m),x=C,y=j)}):r.doc.nodesBetween(p,m,(j,C)=>{C<p&&o&&o===j.type&&(v=Math.max(C,p),w=Math.min(C+j.nodeSize,m),x=C,y=j),C>=p&&C<=m&&(o&&o===j.type&&n.setNodeMarkup(C,void 0,{...j.attrs,...e}),c&&j.marks.length&&j.marks.forEach(O=>{if(c===O.type){const V=Math.max(C,p),q=Math.min(C+j.nodeSize,m);n.addMark(V,q,c.create({...O.attrs,...e}))}}))}),y&&(x!==void 0&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),c&&y.marks.length&&y.marks.forEach(j=>{c===j.type&&n.addMark(v,w,c.create({...j.attrs,...e}))}))}),!0):!1},Nz=(t,e={})=>({state:n,dispatch:r})=>{const s=Ct(t,n.schema);return z9(s,e)(n,r)},kz=(t,e={})=>({state:n,dispatch:r})=>{const s=Ct(t,n.schema);return L9(s,e)(n,r)},r3=Tt.create({name:"commands",addCommands(){return{...t3}}}),i3=Tt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var c,u,h,p;if((p=(h=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:h.call(u,t))!=null?p:t.getMeta("y-sync$"))return;const m=PN(t.before,[t,...e]);WN(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,j)=>{const C=j+w.nodeSize-2,O=v.oldRange.from<=j&&C<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:j,to:C,newFrom:m.mapping.map(j),newTo:m.mapping.map(C),deletedRange:v.oldRange,newRange:v.newRange,partial:!O,editor:this.editor,transaction:t,combinedTransform:m})})});const y=m.mapping;m.steps.forEach((v,w)=>{var j,C;if(v instanceof Zn){const O=y.slice(w).map(v.from,-1),V=y.slice(w).map(v.to),q=y.invert().map(O,-1),Q=y.invert().map(V),z=(j=m.doc.nodeAt(O-1))==null?void 0:j.marks.some(_=>_.eq(v.mark)),B=(C=m.doc.nodeAt(V))==null?void 0:C.marks.some(_=>_.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:q,to:Q},newRange:{from:O,to:V},partial:!!(B||z),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),s3=Tt.create({name:"drop",addProseMirrorPlugins(){return[new pt({key:new qt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),a3=Tt.create({name:"editable",addProseMirrorPlugins(){return[new pt({key:new qt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),o3=new qt("focusEvents"),l3=Tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new pt({key:o3,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),c3=Tt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:h,doc:p}=u,{empty:m,$anchor:x}=h,{pos:y,parent:v}=x,w=x.parent.isTextblock&&y>0?u.doc.resolve(y-1):x,j=w.parent.type.spec.isolating,C=x.pos-x.parentOffset,O=j&&w.parent.childCount===1?C===x.pos:Ae.atStart(p).from===y;return!m||!v.type.isTextblock||v.textContent.length||!O||O&&x.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return P0()||n3()?o:s},addProseMirrorPlugins(){return[new pt({key:new qt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(j=>j.getMeta("composition")))return;const r=t.some(j=>j.docChanged)&&!e.doc.eq(n.doc),s=t.some(j=>j.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:c,to:u}=e.selection,h=Ae.atStart(e.doc).from,p=Ae.atEnd(e.doc).to;if(o||!(c===h&&u===p)||!bf(n.doc))return;const y=n.tr,v=pf({state:n,transaction:y}),{commands:w}=new mf({editor:this.editor,state:v});if(w.clearNodes(),!!y.steps.length)return y}})]}}),d3=Tt.create({name:"paste",addProseMirrorPlugins(){return[new pt({key:new qt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),u3=Tt.create({name:"tabindex",addProseMirrorPlugins(){return[new pt({key:new qt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Ez=class ja{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ja(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ja(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ja(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,c=this.pos+r+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!s&&u.depth<=this.depth)return;const h=new ja(u,this.editor,s,s?n:null);s&&(h.actualDepth=this.depth+1),e.push(new ja(u,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const h=c[u];if(o[h]!==n[h])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===e&&o.every(h=>n[h]===c.node.attrs[h])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Cz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Tz(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Oz=class extends V9{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=QN(e,this.options.autofocus);this.editorState=Ea.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var t;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(t=this.css)==null||t.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Tz(Cz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=HN(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[a3,e3.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),r3,l3,c3,u3,s3,d3,i3].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new vf(r,this)}createCommandManager(){this.commandManager=new mf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Eg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Eg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new SN(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),u=c?.getMeta("focus"),h=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return $N(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return i_(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return M0(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return X9(this.state.doc,{blockSeparator:e,textSerializers:{...qN(this.schema),...n}})}get isEmpty(){return bf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Ez(e,this)}get $doc(){return this.$pos(0)}};function za(t){return new yf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Qe(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,c=r[r.length-1],u=r[0];if(c){const h=u.search(/\S/),p=n.from+u.indexOf(c),m=p+c.length;if(z0(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(j=>j===t.type&&j!==v.mark.type)).filter(v=>v.to>p).length)return null;m<n.to&&o.delete(m,n.to),p>n.from&&o.delete(n.from+h,p);const y=n.from+h+c.length;o.addMark(n.from+h,y,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function Az(t){return new yf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Qe(t.getAttributes,void 0,r)||{},{tr:o}=e,c=n.from;let u=n.to;const h=t.type.create(s);if(r[1]){const p=r[0].lastIndexOf(r[1]);let m=c+p;m>u?m=u:u=m+r[1].length;const x=r[0][r[0].length-1];o.insertText(x,c+r[0].length-1),o.replaceWith(m,u,h)}else if(r[0]){const p=t.type.isInline?c:c-1;o.insert(p,t.type.create(s)).delete(o.mapping.map(c),o.mapping.map(u))}o.scrollIntoView()}})}function Tg(t){return new yf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=Qe(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function La(t){return new yf({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=Qe(t.getAttributes,void 0,r)||{},c=e.tr.delete(n.from,n.to),h=c.doc.resolve(n.from).blockRange(),p=h&&p0(h,t.type,o);if(!p)return null;if(c.wrap(h,p),t.keepMarks&&t.editor){const{selection:x,storedMarks:y}=e,{splittableMarks:v}=t.editor.extensionManager,w=y||x.$to.parentOffset&&x.$from.marks();if(w){const j=w.filter(C=>v.includes(C.type.name));c.ensureMarks(j)}}if(t.keepAttributes){const x=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(x,o).run()}const m=c.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&Hi(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&c.join(n.from-1)}})}function Mz(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof we){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}function Rz(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,c=t;s.descendants((u,h)=>{const p=o.mapping.map(h),m=o.mapping.map(h)+u.nodeSize;let x=null;if(u.marks.forEach(v=>{if(v!==c)return!1;x=v}),!x)return;let y=!1;if(Object.keys(n).forEach(v=>{n[v]!==x.attrs[v]&&(y=!0)}),y){const v=t.type.create({...t.attrs,...n});o.removeMark(p,m,t.type),o.addMark(p,m,v)}}),o.docChanged&&e.view.dispatch(o)}var An=class f3 extends L0{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new f3(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function As(t){return new f_({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=Qe(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:c}=e,u=r[r.length-1],h=r[0];let p=n.to;if(u){const m=h.search(/\S/),x=n.from+h.indexOf(u),y=x+u.length;if(z0(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(C=>C===t.type&&C!==w.mark.type)).filter(w=>w.to>x).length)return null;y<n.to&&c.delete(y,n.to),x>n.from&&c.delete(n.from+m,x),p=n.from+m+u.length,c.addMark(n.from+m,p,t.type.create(o||{})),c.removeStoredMark(t.type)}}})}var zm,xw;function Dz(){return xw||(xw=1,zm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var c=o[s];if(!(c==="_owner"&&e.$$typeof)&&!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),zm}var _z=Dz();const zz=qu(_z);var Lm={exports:{}},Pm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function Lz(){if(bw)return Pm;bw=1;var t=Wn(),e=oj();function n(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,c=t.useEffect,u=t.useMemo,h=t.useDebugValue;return Pm.useSyncExternalStoreWithSelector=function(p,m,x,y,v){var w=o(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=u(function(){function O(B){if(!V){if(V=!0,q=B,B=y(B),v!==void 0&&j.hasValue){var _=j.value;if(v(_,B))return Q=_}return Q=B}if(_=Q,r(q,B))return _;var I=y(B);return v!==void 0&&v(_,I)?(q=B,_):(q=B,Q=I)}var V=!1,q,Q,z=x===void 0?null:x;return[function(){return O(m())},z===null?void 0:function(){return O(z())}]},[m,x,y,v]);var C=s(p,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=C},[C]),h(C),C},Pm}var yw;function Pz(){return yw||(yw=1,Lm.exports=Lz()),Lm.exports}var Bz=Pz(),Hz=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Iz=({contentComponent:t})=>{const e=lj.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function Uz(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:zE.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var Fz=class extends an.Component{constructor(t){var e;super(t),this.editorContentRef=an.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=Uz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:Hz(e,this.editorContentRef),...n}),t?.contentComponent&&a.jsx(Iz,{contentComponent:t.contentComponent})]})}},qz=A.forwardRef((t,e)=>{const n=an.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return an.createElement(Fz,{key:n,innerRef:e,...t})}),Vz=an.memo(qz),$z=typeof window<"u"?A.useLayoutEffect:A.useEffect,Wz=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Yz(t){var e;const[n]=A.useState(()=>new Wz(t.editor)),r=Bz.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:zz);return $z(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}var Kz=!1,Og=typeof window>"u",Gz=Og||!!(typeof window<"u"&&window.next),Qz=class h3{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Og||Gz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new Oz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var c;return s===((c=n.extensions)==null?void 0:c[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?h3.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Jz(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new Qz(n)),s=lj.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(s),A.useEffect(r.onRender(e)),Yz({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var Xz=A.createContext({editor:null});Xz.Consumer;var Zz=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),eL=()=>A.useContext(Zz);an.forwardRef((t,e)=>{const{onDragStart:n}=eL(),r=t.as||"div";return a.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});an.createContext({markViewContentRef:()=>{}});var pu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},tL=/^\s*>\s$/,nL=An.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return pu("blockquote",{...Et(this.options.HTMLAttributes,t),children:pu("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[La({find:tL,type:this.type})]}}),rL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,iL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,aL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oL=Ds.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return pu("strong",{...Et(this.options.HTMLAttributes,t),children:pu("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[za({find:rL,type:this.type}),za({find:sL,type:this.type})]},addPasteRules(){return[As({find:iL,type:this.type}),As({find:aL,type:this.type})]}}),lL=/(^|[^`])`([^`]+)`(?!`)/,cL=/(^|[^`])`([^`]+)`(?!`)/g,dL=Ds.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[za({find:lL,type:this.type})]},addPasteRules(){return[As({find:cL,type:this.type})]}}),uL=/^```([a-z]+)?[\s\n]$/,fL=/^~~~([a-z]+)?[\s\n]$/,hL=An.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Et(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!o||!c?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:p})=>(p.setSelection(Ae.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[Tg({find:uL,type:this.type,getAttributes:t=>({language:t[1]})}),Tg({find:fL,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new pt({key:new qt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!n||!o)return!1;const{tr:c,schema:u}=t.state,h=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:o},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(Ee.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),pL=An.create({name:"doc",topNode:!0,content:"block+"}),mL=An.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Et(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=r.extensionManager,h=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:m})=>{if(m&&h&&c){const x=h.filter(y=>u.includes(y.type.name));p.ensureMarks(x)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gL=An.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Et(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Tg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),xL=An.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Et(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Mz(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return KN(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:c})=>{var u;if(c){const{$to:h}=o.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?o.setSelection(Ee.create(o.doc,h.pos+1)):h.nodeAfter.isBlock?o.setSelection(we.create(o.doc,h.pos)):o.setSelection(Ee.create(o.doc,h.pos));else{const m=(u=h.parent.type.contentMatch.defaultType)==null?void 0:u.create();m&&(o.insert(p,m),o.setSelection(Ee.create(o.doc,p+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Az({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),bL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,SL=Ds.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[za({find:bL,type:this.type}),za({find:vL,type:this.type})]},addPasteRules(){return[As({find:yL,type:this.type}),As({find:wL,type:this.type})]}});const jL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",NL="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Pa=(t,e)=>{for(const n in e)t[n]=e[n];return t},Ag="numeric",Mg="ascii",Rg="alpha",hl="asciinumeric",ol="alphanumeric",Dg="domain",p3="emoji",kL="scheme",EL="slashscheme",Bm="whitespace";function CL(t,e){return t in e||(e[t]=[]),e[t]}function xs(t,e,n){e[Ag]&&(e[hl]=!0,e[ol]=!0),e[Mg]&&(e[hl]=!0,e[Rg]=!0),e[hl]&&(e[ol]=!0),e[Rg]&&(e[ol]=!0),e[ol]&&(e[Dg]=!0),e[p3]&&(e[Dg]=!0);for(const r in e){const s=CL(r,n);s.indexOf(t)<0&&s.push(t)}}function TL(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function gn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}gn.groups={};gn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||gn.groups;let s;return e&&e.j?s=e:(s=new gn(e),n&&r&&xs(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let c=0;c<o-1;c++)s=s.tt(t[c]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||gn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let c,u=s.go(t);if(u?(c=new gn,Pa(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new gn,o){if(r)if(c.t&&typeof c.t=="string"){const h=Pa(TL(c.t,r),n);xs(o,h,r)}else n&&xs(o,n,r);c.t=o}return s.j[t]=c,c}};const Re=(t,e,n,r,s)=>t.ta(e,n,r,s),ft=(t,e,n,r,s)=>t.tr(e,n,r,s),vw=(t,e,n,r,s)=>t.ts(e,n,r,s),ue=(t,e,n,r,s)=>t.tt(e,n,r,s),Hr="WORD",_g="UWORD",m3="ASCIINUMERICAL",g3="ALPHANUMERICAL",Ml="LOCALHOST",zg="TLD",Lg="UTLD",Fd="SCHEME",Na="SLASH_SCHEME",B0="NUM",Pg="WS",H0="NL",pl="OPENBRACE",ml="CLOSEBRACE",mu="OPENBRACKET",gu="CLOSEBRACKET",xu="OPENPAREN",bu="CLOSEPAREN",yu="OPENANGLEBRACKET",vu="CLOSEANGLEBRACKET",wu="FULLWIDTHLEFTPAREN",Su="FULLWIDTHRIGHTPAREN",ju="LEFTCORNERBRACKET",Nu="RIGHTCORNERBRACKET",ku="LEFTWHITECORNERBRACKET",Eu="RIGHTWHITECORNERBRACKET",Cu="FULLWIDTHLESSTHAN",Tu="FULLWIDTHGREATERTHAN",Ou="AMPERSAND",Au="APOSTROPHE",Mu="ASTERISK",wi="AT",Ru="BACKSLASH",Du="BACKTICK",_u="CARET",ki="COLON",I0="COMMA",zu="DOLLAR",fr="DOT",Lu="EQUALS",U0="EXCLAMATION",Un="HYPHEN",gl="PERCENT",Pu="PIPE",Bu="PLUS",Hu="POUND",xl="QUERY",F0="QUOTE",x3="FULLWIDTHMIDDLEDOT",q0="SEMI",hr="SLASH",bl="TILDE",Iu="UNDERSCORE",b3="EMOJI",Uu="SYM";var y3=Object.freeze({__proto__:null,ALPHANUMERICAL:g3,AMPERSAND:Ou,APOSTROPHE:Au,ASCIINUMERICAL:m3,ASTERISK:Mu,AT:wi,BACKSLASH:Ru,BACKTICK:Du,CARET:_u,CLOSEANGLEBRACKET:vu,CLOSEBRACE:ml,CLOSEBRACKET:gu,CLOSEPAREN:bu,COLON:ki,COMMA:I0,DOLLAR:zu,DOT:fr,EMOJI:b3,EQUALS:Lu,EXCLAMATION:U0,FULLWIDTHGREATERTHAN:Tu,FULLWIDTHLEFTPAREN:wu,FULLWIDTHLESSTHAN:Cu,FULLWIDTHMIDDLEDOT:x3,FULLWIDTHRIGHTPAREN:Su,HYPHEN:Un,LEFTCORNERBRACKET:ju,LEFTWHITECORNERBRACKET:ku,LOCALHOST:Ml,NL:H0,NUM:B0,OPENANGLEBRACKET:yu,OPENBRACE:pl,OPENBRACKET:mu,OPENPAREN:xu,PERCENT:gl,PIPE:Pu,PLUS:Bu,POUND:Hu,QUERY:xl,QUOTE:F0,RIGHTCORNERBRACKET:Nu,RIGHTWHITECORNERBRACKET:Eu,SCHEME:Fd,SEMI:q0,SLASH:hr,SLASH_SCHEME:Na,SYM:Uu,TILDE:bl,TLD:zg,UNDERSCORE:Iu,UTLD:Lg,UWORD:_g,WORD:Hr,WS:Pg});const Pr=/[a-z]/,nl=new RegExp("\\p{L}","u"),Hm=new RegExp("\\p{Emoji}","u"),Br=/\d/,Im=/\s/,ww="\r",Um=`
`,OL="",AL="",Fm="";let jd=null,Nd=null;function ML(t=[]){const e={};gn.groups=e;const n=new gn;jd==null&&(jd=Sw(jL)),Nd==null&&(Nd=Sw(NL)),ue(n,"'",Au),ue(n,"{",pl),ue(n,"}",ml),ue(n,"[",mu),ue(n,"]",gu),ue(n,"(",xu),ue(n,")",bu),ue(n,"<",yu),ue(n,">",vu),ue(n,"",wu),ue(n,"",Su),ue(n,"",ju),ue(n,"",Nu),ue(n,"",ku),ue(n,"",Eu),ue(n,"",Cu),ue(n,"",Tu),ue(n,"&",Ou),ue(n,"*",Mu),ue(n,"@",wi),ue(n,"`",Du),ue(n,"^",_u),ue(n,":",ki),ue(n,",",I0),ue(n,"$",zu),ue(n,".",fr),ue(n,"=",Lu),ue(n,"!",U0),ue(n,"-",Un),ue(n,"%",gl),ue(n,"|",Pu),ue(n,"+",Bu),ue(n,"#",Hu),ue(n,"?",xl),ue(n,'"',F0),ue(n,"/",hr),ue(n,";",q0),ue(n,"~",bl),ue(n,"_",Iu),ue(n,"\\",Ru),ue(n,"",x3);const r=ft(n,Br,B0,{[Ag]:!0});ft(r,Br,r);const s=ft(r,Pr,m3,{[hl]:!0}),o=ft(r,nl,g3,{[ol]:!0}),c=ft(n,Pr,Hr,{[Mg]:!0});ft(c,Br,s),ft(c,Pr,c),ft(s,Br,s),ft(s,Pr,s);const u=ft(n,nl,_g,{[Rg]:!0});ft(u,Pr),ft(u,Br,o),ft(u,nl,u),ft(o,Br,o),ft(o,Pr),ft(o,nl,o);const h=ue(n,Um,H0,{[Bm]:!0}),p=ue(n,ww,Pg,{[Bm]:!0}),m=ft(n,Im,Pg,{[Bm]:!0});ue(n,Fm,m),ue(p,Um,h),ue(p,Fm,m),ft(p,Im,m),ue(m,ww),ue(m,Um),ft(m,Im,m),ue(m,Fm,m);const x=ft(n,Hm,b3,{[p3]:!0});ue(x,"#"),ft(x,Hm,x),ue(x,OL,x);const y=ue(x,AL);ue(y,"#"),ft(y,Hm,x);const v=[[Pr,c],[Br,s]],w=[[Pr,null],[nl,u],[Br,o]];for(let j=0;j<jd.length;j++)bi(n,jd[j],zg,Hr,v);for(let j=0;j<Nd.length;j++)bi(n,Nd[j],Lg,_g,w);xs(zg,{tld:!0,ascii:!0},e),xs(Lg,{utld:!0,alpha:!0},e),bi(n,"file",Fd,Hr,v),bi(n,"mailto",Fd,Hr,v),bi(n,"http",Na,Hr,v),bi(n,"https",Na,Hr,v),bi(n,"ftp",Na,Hr,v),bi(n,"ftps",Na,Hr,v),xs(Fd,{scheme:!0,ascii:!0},e),xs(Na,{slashscheme:!0,ascii:!0},e),t=t.sort((j,C)=>j[0]>C[0]?1:-1);for(let j=0;j<t.length;j++){const C=t[j][0],V=t[j][1]?{[kL]:!0}:{[EL]:!0};C.indexOf("-")>=0?V[Dg]=!0:Pr.test(C)?Br.test(C)?V[hl]=!0:V[Mg]=!0:V[Ag]=!0,vw(n,C,C,V)}return vw(n,"localhost",Ml,{ascii:!0}),n.jd=new gn(Uu),{start:n,tokens:Pa({groups:e},y3)}}function v3(t,e){const n=RL(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,s=[];let o=0,c=0;for(;c<r;){let u=t,h=null,p=0,m=null,x=-1,y=-1;for(;c<r&&(h=u.go(n[c]));)u=h,u.accepts()?(x=0,y=0,m=u):x>=0&&(x+=n[c].length,y++),p+=n[c].length,o+=n[c].length,c++;o-=x,c-=y,p-=x,s.push({t:m.t,v:e.slice(o-p,o),s:o-p,e:o})}return s}function RL(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,c=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(c),r+=c.length}return e}function bi(t,e,n,r,s){let o;const c=e.length;for(let u=0;u<c-1;u++){const h=e[u];t.j[h]?o=t.j[h]:(o=new gn(r),o.jr=s.slice(),t.j[h]=o),t=o}return o=new gn(n),o.jr=s.slice(),t.j[e[c-1]]=o,o}function Sw(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let c=parseInt(t.substring(r,r+o),10);c>0;c--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Rl={defaultProtocol:"http",events:null,format:jw,formatHref:jw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function V0(t,e=null){let n=Pa({},Rl);t&&(n=Pa(n,t instanceof V0?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}V0.prototype={o:Rl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Rl[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function jw(t){return t}function w3(t,e){this.t="token",this.v=t,this.tk=e}w3.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Rl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),c={},u=t.get("className",n,e),h=t.get("target",n,e),p=t.get("rel",n,e),m=t.getObj("attributes",n,e),x=t.getObj("events",n,e);return c.href=r,u&&(c.class=u),h&&(c.target=h),p&&(c.rel=p),m&&Pa(c,m),{tagName:s,attributes:c,content:o,eventListeners:x}}};function wf(t,e){class n extends w3{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Nw=wf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kw=wf("text"),DL=wf("nl"),kd=wf("url",{isLink:!0,toHref(t=Rl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ml&&t[1].t===ki}}),In=t=>new gn(t);function _L({groups:t}){const e=t.domain.concat([Ou,Mu,wi,Ru,Du,_u,zu,Lu,Un,B0,gl,Pu,Bu,Hu,hr,Uu,bl,Iu]),n=[Au,ki,I0,fr,U0,gl,xl,F0,q0,yu,vu,pl,ml,gu,mu,xu,bu,wu,Su,ju,Nu,ku,Eu,Cu,Tu],r=[Ou,Au,Mu,Ru,Du,_u,zu,Lu,Un,pl,ml,gl,Pu,Bu,Hu,xl,hr,Uu,bl,Iu],s=In(),o=ue(s,bl);Re(o,r,o),Re(o,t.domain,o);const c=In(),u=In(),h=In();Re(s,t.domain,c),Re(s,t.scheme,u),Re(s,t.slashscheme,h),Re(c,r,o),Re(c,t.domain,c);const p=ue(c,wi);ue(o,wi,p),ue(u,wi,p),ue(h,wi,p);const m=ue(o,fr);Re(m,r,o),Re(m,t.domain,o);const x=In();Re(p,t.domain,x),Re(x,t.domain,x);const y=ue(x,fr);Re(y,t.domain,x);const v=In(Nw);Re(y,t.tld,v),Re(y,t.utld,v),ue(p,Ml,v);const w=ue(x,Un);ue(w,Un,w),Re(w,t.domain,x),Re(v,t.domain,x),ue(v,fr,y),ue(v,Un,w);const j=ue(v,ki);Re(j,t.numeric,Nw);const C=ue(c,Un),O=ue(c,fr);ue(C,Un,C),Re(C,t.domain,c),Re(O,r,o),Re(O,t.domain,c);const V=In(kd);Re(O,t.tld,V),Re(O,t.utld,V),Re(V,t.domain,c),Re(V,r,o),ue(V,fr,O),ue(V,Un,C),ue(V,wi,p);const q=ue(V,ki),Q=In(kd);Re(q,t.numeric,Q);const z=In(kd),B=In();Re(z,e,z),Re(z,n,B),Re(B,e,z),Re(B,n,B),ue(V,hr,z),ue(Q,hr,z);const _=ue(u,ki),I=ue(h,ki),R=ue(I,hr),E=ue(R,hr);Re(u,t.domain,c),ue(u,fr,O),ue(u,Un,C),Re(h,t.domain,c),ue(h,fr,O),ue(h,Un,C),Re(_,t.domain,z),ue(_,hr,z),ue(_,xl,z),Re(E,t.domain,z),Re(E,e,z),ue(E,hr,z);const H=[[pl,ml],[mu,gu],[xu,bu],[yu,vu],[wu,Su],[ju,Nu],[ku,Eu],[Cu,Tu]];for(let $=0;$<H.length;$++){const[M,T]=H[$],te=ue(z,M);ue(B,M,te),ue(te,T,z);const U=In(kd);Re(te,e,U);const N=In();Re(te,n),Re(U,e,U),Re(U,n,N),Re(N,e,U),Re(N,n,N),ue(U,T,z),ue(N,T,z)}return ue(s,Ml,V),ue(s,H0,DL),{start:s,tokens:y3}}function zL(t,e,n){let r=n.length,s=0,o=[],c=[];for(;s<r;){let u=t,h=null,p=null,m=0,x=null,y=-1;for(;s<r&&!(h=u.go(n[s].t));)c.push(n[s++]);for(;s<r&&(p=h||u.go(n[s].t));)h=null,u=p,u.accepts()?(y=0,x=u):y>=0&&y++,s++,m++;if(y<0)s-=m,s<r&&(c.push(n[s]),s++);else{c.length>0&&(o.push(qm(kw,e,c)),c=[]),s-=y,m-=y;const v=x.t,w=n.slice(s-m,s);o.push(qm(v,e,w))}}return c.length>0&&o.push(qm(kw,e,c)),o}function qm(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const LL=typeof console<"u"&&console&&console.warn||(()=>{}),PL="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function BL(){return gn.groups={},rt.scanner=null,rt.parser=null,rt.tokenQueue=[],rt.pluginQueue=[],rt.customSchemes=[],rt.initialized=!1,rt}function Ew(t,e=!1){if(rt.initialized&&LL(`linkifyjs: already initialized - will not register custom scheme "${t}" ${PL}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);rt.customSchemes.push([t,e])}function HL(){rt.scanner=ML(rt.customSchemes);for(let t=0;t<rt.tokenQueue.length;t++)rt.tokenQueue[t][1]({scanner:rt.scanner});rt.parser=_L(rt.scanner.tokens);for(let t=0;t<rt.pluginQueue.length;t++)rt.pluginQueue[t][1]({scanner:rt.scanner,parser:rt.parser});return rt.initialized=!0,rt}function $0(t){return rt.initialized||HL(),zL(rt.parser.start,t,v3(rt.scanner.start,t))}$0.scan=v3;function S3(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new V0(n),s=$0(t),o=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var W0="[\0- -\u2029]",IL=new RegExp(W0),UL=new RegExp(`${W0}$`),FL=new RegExp(W0,"g");function qL(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function VL(t){return new pt({key:new qt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(p=>p.docChanged)&&!n.doc.eq(r.doc),o=e.some(p=>p.getMeta("preventAutolink"));if(!s||o)return;const{tr:c}=r,u=PN(n.doc,[...e]);if(WN(u).forEach(({newRange:p})=>{const m=W9(r.doc,p,v=>v.isTextblock);let x,y;if(m.length>1)x=m[0],y=r.doc.textBetween(x.pos,x.pos+x.node.nodeSize,void 0," ");else if(m.length){const v=r.doc.textBetween(p.from,p.to," "," ");if(!UL.test(v))return;x=m[0],y=r.doc.textBetween(x.pos,p.to,void 0," ")}if(x&&y){const v=y.split(IL).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],j=x.pos+y.lastIndexOf(w);if(!w)return!1;const C=$0(w).map(O=>O.toObject(t.defaultProtocol));if(!qL(C))return!1;C.filter(O=>O.isLink).map(O=>({...O,from:j+O.start+1,to:j+O.end+1})).filter(O=>r.schema.marks.code?!r.doc.rangeHasMark(O.from,O.to,r.schema.marks.code):!0).filter(O=>t.validate(O.value)).filter(O=>t.shouldAutoLink(O.value)).forEach(O=>{z0(O.from,O.to,r.doc).some(V=>V.mark.type===t.type)||c.addMark(O.from,O.to,t.type.create({href:O.href}))})}}),!!c.steps.length)return c}})}function $L(t){return new pt({key:new qt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const x=[];for(;m.nodeName!=="DIV";)x.push(m),m=m.parentNode;c=x.find(y=>y.nodeName==="A")}if(!c)return!1;const u=$N(e.state,t.type.name),h=(s=c?.href)!=null?s:u.href,p=(o=c?.target)!=null?o:u.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&h?(window.open(h,p),!0):!1}}})}function WL(t){return new pt({key:new qt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:o}=s,{empty:c}=o;if(c)return!1;let u="";r.content.forEach(p=>{u+=p.textContent});const h=S3(u,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===u);return!u||!h?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function ds(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(FL,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var YL=Ds.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Ew(t);return}Ew(t.scheme,t.optionalSlashes)})},onDestroy(){BL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ds(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ds(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ds(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Et(this.options.HTMLAttributes,t),0]:["a",Et(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ds(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ds(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[As({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=S3(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:c=>!!ds(c,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(VL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!ds(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push($L({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(WL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),KL=Object.defineProperty,GL=(t,e)=>{for(var n in e)KL(t,n,{get:e[n],enumerable:!0})},QL="listItem",Cw="textStyle",Tw=/^\s*([-+*])\s$/,j3=An.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QL,this.editor.getAttributes(Cw)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=La({find:Tw,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=La({find:Tw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Cw),editor:this.editor})),[t]}}),N3=An.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Et(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),JL={};GL(JL,{findListItemPos:()=>Wl,getNextListDepth:()=>Y0,handleBackspace:()=>Bg,handleDelete:()=>Hg,hasListBefore:()=>k3,hasListItemAfter:()=>XL,hasListItemBefore:()=>E3,listItemHasSubList:()=>C3,nextListIsDeeper:()=>T3,nextListIsHigher:()=>O3});var Wl=(t,e)=>{const{$from:n}=e.selection,r=Ct(t,e.schema);let s=null,o=n.depth,c=n.pos,u=null;for(;o>0&&u===null;)s=n.node(o),s.type===r?u=o:(o-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Y0=(t,e)=>{const n=Wl(t,e);if(!n)return!1;const[,r]=n_(e,t,n.$pos.pos+4);return r},k3=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},E3=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},C3=(t,e,n)=>{if(!n)return!1;const r=Ct(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},Bg=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Li(t.state,e)&&k3(t.state,e,n)){const{$anchor:u}=t.state.selection,h=t.state.doc.resolve(u.before()-1),p=[];h.node().descendants((y,v)=>{y.type.name===e&&p.push({node:y,pos:v})});const m=p.at(-1);if(!m)return!1;const x=t.state.doc.resolve(h.start()+m.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},x.end()).joinForward().run()}if(!Li(t.state,e)||!a_(t.state))return!1;const r=Wl(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=C3(e,t.state,o);return E3(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},T3=(t,e)=>{const n=Y0(t,e),r=Wl(t,e);return!r||!n?!1:n>r.depth},O3=(t,e)=>{const n=Y0(t,e),r=Wl(t,e);return!r||!n?!1:n<r.depth},Hg=(t,e)=>{if(!Li(t.state,e)||!s_(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:T3(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():O3(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},XL=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},A3=Tt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hg(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hg(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Bg(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Bg(t,n,r)&&(e=!0)}),e}}}}),ZL="listItem",Ow="textStyle",Aw=/^(\d+)\.\s$/,M3=An.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Et(this.options.HTMLAttributes,n),0]:["ol",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ZL,this.editor.getAttributes(Ow)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=La({find:Aw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=La({find:Aw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ow)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),e7=/^\s*(\[([( |x])?\])\s$/,t7=An.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Et(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div"),p=()=>{var m,x;u.ariaLabel=((x=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:x.call(m,t,u.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return p(),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=n();if(typeof v!="number")return!1;const w=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...w?.attrs,checked:x}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,x])=>{s.setAttribute(m,x)}),s.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,c),s.append(o,h),Object.entries(e).forEach(([m,x])=>{s.setAttribute(m,x)}),{dom:s,contentDOM:h,update:m=>m.type!==this.type?!1:(s.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,p(),!0)}}},addInputRules(){return[La({find:e7,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),n7=An.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Et(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Tt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(j3.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(N3.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(A3.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(M3.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(t7.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(n7.configure(this.options.taskList)),t}});var r7=An.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),i7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,s7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,a7=Ds.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[za({find:i7,type:this.type})]},addPasteRules(){return[As({find:s7,type:this.type})]}}),o7=An.create({name:"text",group:"inline"}),l7=Ds.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function c7(t={}){return new pt({view(e){return new d7(e,t)}})}class d7{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=c=>{this[s](c)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),c=o.width/s.offsetWidth,u=o.height/s.offsetHeight;if(n){let x=e.nodeBefore,y=e.nodeAfter;if(x||y){let v=this.editorView.nodeDOM(this.cursorPos-(x?x.nodeSize:0));if(v){let w=v.getBoundingClientRect(),j=x?w.bottom:w.top;x&&y&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*u;r={left:w.left,right:w.right,top:j-C,bottom:j+C}}}}if(!r){let x=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*c;r={left:x.left-y,right:x.left+y,top:x.top,bottom:x.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,m;if(!h||h==document.body&&getComputedStyle(h).position=="static")p=-pageXOffset,m=-pageYOffset;else{let x=h.getBoundingClientRect(),y=x.width/h.offsetWidth,v=x.height/h.offsetHeight;p=x.left-h.scrollLeft*y,m=x.top-h.scrollTop*v}this.element.style.left=(r.left-p)/c+"px",this.element.style.top=(r.top-m)/u+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=zj(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ht extends Ae{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ht.valid(r)?new ht(r):Ae.near(r)}content(){return me.empty}eq(e){return e instanceof ht&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ht(e.resolve(n.pos))}getBookmark(){return new K0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!u7(e)||!f7(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ht.valid(e))return e;let s=e.pos,o=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){o=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let h=e.doc.resolve(s);if(ht.valid(h))return h}for(;;){let c=n>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!we.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=c,s+=n;let u=e.doc.resolve(s);if(ht.valid(u))return u}return null}}}ht.prototype.visible=!1;ht.findFrom=ht.findGapCursorFrom;Ae.jsonID("gapcursor",ht);class K0{constructor(e){this.pos=e}map(e){return new K0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ht.valid(n)?new ht(n):Ae.near(n)}}function u7(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function f7(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function h7(){return new pt({props:{decorations:x7,createSelectionBetween(t,e,n){return e.pos==n.pos&&ht.valid(n)?new ht(n):null},handleClick:m7,handleKeyDown:p7,handleDOMEvents:{beforeinput:g7}}})}const p7=jN({ArrowLeft:Ed("horiz",-1),ArrowRight:Ed("horiz",1),ArrowUp:Ed("vert",-1),ArrowDown:Ed("vert",1)});function Ed(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let c=r.selection,u=e>0?c.$to:c.$from,h=c.empty;if(c instanceof Ee){if(!o.endOfTextblock(n)||u.depth==0)return!1;h=!1,u=r.doc.resolve(e>0?u.after():u.before())}let p=ht.findGapCursorFrom(u,e,h);return p?(s&&s(r.tr.setSelection(new ht(p))),!0):!1}}function m7(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ht.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&we.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ht(r))),!0)}function g7(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ht))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=de.empty;for(let c=r.length-1;c>=0;c--)s=de.from(r[c].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new me(s,0,0));return o.setSelection(Ee.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function x7(t){if(!(t.selection instanceof ht))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ot.create(t.doc,[sn.widget(t.selection.head,e,{key:"gapcursor"})])}var Fu=200,Ft=function(){};Ft.prototype.append=function(e){return e.length?(e=Ft.from(e),!this.length&&e||e.length<Fu&&this.leafAppend(e)||this.length<Fu&&e.leafPrepend(this)||this.appendInner(e)):this};Ft.prototype.prepend=function(e){return e.length?Ft.from(e).append(this):this};Ft.prototype.appendInner=function(e){return new b7(this,e)};Ft.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ft.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ft.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,c){return s.push(e(o,c))},n,r),s};Ft.from=function(e){return e instanceof Ft?e:e&&e.length?new R3(e):Ft.empty};var R3=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,c,u){for(var h=o;h<c;h++)if(s(this.values[h],u+h)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,c,u){for(var h=o-1;h>=c;h--)if(s(this.values[h],u+h)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Fu)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Fu)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ft);Ft.empty=new R3([]);var b7=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,c){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(o,u),c)===!1||o>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,o)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(o,u)-u,c+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(s,u),o,c)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ft);const y7=500;class Xn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let c=e.tr,u,h,p=[],m=[];return this.items.forEach((x,y)=>{if(!x.step){s||(s=this.remapping(r,y+1),o=s.maps.length),o--,m.push(x);return}if(s){m.push(new pr(x.map));let v=x.step.map(s.slice(o)),w;v&&c.maybeStep(v).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],p.push(new pr(w,void 0,void 0,p.length+m.length))),o--,w&&s.appendMap(w,o)}else c.maybeStep(x.step);if(x.selection)return u=s?x.selection.map(s.slice(o)):x.selection,h=new Xn(this.items.slice(0,r).append(m.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:u}}addTransform(e,n,r,s){let o=[],c=this.eventCount,u=this.items,h=!s&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let x=e.steps[m].invert(e.docs[m]),y=new pr(e.mapping.maps[m],x,n),v;(v=h&&h.merge(y))&&(y=v,m?o.pop():u=u.slice(0,u.length-1)),o.push(y),n&&(c++,n=void 0),s||(h=y)}let p=c-r.depth;return p>w7&&(u=v7(u,p),c-=p),new Xn(u.append(o),c)}remapping(e,n){let r=new Nl;return this.items.forEach((s,o)=>{let c=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},e,n),r}addMaps(e){return this.eventCount==0?this:new Xn(this.items.append(e.map(n=>new pr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},s);let h=n;this.items.forEach(y=>{let v=o.getMirror(--h);if(v==null)return;c=Math.min(c,v);let w=o.maps[v];if(y.step){let j=e.steps[v].invert(e.docs[v]),C=y.selection&&y.selection.map(o.slice(h+1,v));C&&u++,r.push(new pr(w,j,C))}else r.push(new pr(w))},s);let p=[];for(let y=n;y<c;y++)p.push(new pr(o.maps[y]));let m=this.items.slice(0,s).append(p).append(r),x=new Xn(m,u);return x.emptyItemCount()>y7&&(x=x.compress(this.items.length-r.length)),x}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&o++;else if(c.step){let h=c.step.map(n.slice(r)),p=h&&h.getMap();if(r--,p&&n.appendMap(p,r),h){let m=c.selection&&c.selection.map(n.slice(r));m&&o++;let x=new pr(p.invert(),h,m),y,v=s.length-1;(y=s.length&&s[v].merge(x))?s[v]=y:s.push(x)}}else c.map&&r--},this.items.length,0),new Xn(Ft.from(s.reverse()),o)}}Xn.empty=new Xn(Ft.empty,0);function v7(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class pr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new pr(n.getMap().invert(),n,this.selection)}}}class Si{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const w7=20;function S7(t,e,n,r){let s=n.getMeta(Ns),o;if(s)return s.historyState;n.getMeta(k7)&&(t=new Si(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Ns))return c.getMeta(Ns).redo?new Si(t.done.addTransform(n,void 0,r,qd(e)),t.undone,Mw(n.mapping.maps),t.prevTime,t.prevComposition):new Si(t.done,t.undone.addTransform(n,void 0,r,qd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),h=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!j7(n,t.prevRanges)),p=c?Vm(t.prevRanges,n.mapping):Mw(n.mapping.maps);return new Si(t.done.addTransform(n,h?e.selection.getBookmark():void 0,r,qd(e)),Xn.empty,p,n.time,u??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Si(t.done.rebased(n,o),t.undone.rebased(n,o),Vm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Si(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Vm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function j7(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function Mw(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,c)=>e.push(o,c));return e}function Vm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function N7(t,e,n){let r=qd(e),s=Ns.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let c=o.selection.resolve(o.transform.doc),u=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),h=new Si(n?u:o.remaining,n?o.remaining:u,null,0,-1);return o.transform.setSelection(c).setMeta(Ns,{redo:n,historyState:h})}let $m=!1,Rw=null;function qd(t){let e=t.plugins;if(Rw!=e){$m=!1,Rw=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){$m=!0;break}}return $m}const Ns=new qt("history"),k7=new qt("closeHistory");function E7(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new pt({key:Ns,state:{init(){return new Si(Xn.empty,Xn.empty,null,0,-1)},apply(e,n,r){return S7(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?_3:r=="historyRedo"?z3:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function D3(t,e){return(n,r)=>{let s=Ns.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=N7(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const _3=D3(!1,!0),z3=D3(!0,!0);Tt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new pt({key:new qt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const c=o-s,u=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const p=r.tr.deleteRange(u,h);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,h=o-r,p=u-h,m=u;return e.deleteRange(p,m),!(this.storage.characters({node:e.doc})>r)}})]}});var C7=Tt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[c7(this.options)]}});Tt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new pt({key:new qt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return ot.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((h,p)=>{if(h.isText)return;if(!(s>=p&&s<=p+h.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((h,p)=>{if(h.isText||!(s>=p&&s<=p+h.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(sn.node(p,p+h.nodeSize,{class:this.options.className}))}),ot.create(t,o)}}})]}});var T7=Tt.create({name:"gapCursor",addProseMirrorPlugins(){return[h7()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Qe(ve(t,"allowGapCursor",n)))!=null?e:null}}});Tt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new pt({key:new qt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((c,u)=>{const h=r>=u&&r<=u+c.nodeSize,p=!c.isLeaf&&bf(c);if((h||!this.options.showOnlyCurrent)&&p){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const x=sn.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:h}):this.options.placeholder});s.push(x)}return this.options.includeChildren}),ot.create(t,s)}}})]}});Tt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new pt({key:new qt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||KN(n.selection)||t.view.dragging?null:ot.create(n.doc,[sn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Dw({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var O7=Tt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new qt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new pt({key:t,appendTransaction:(n,r,s)=>{const{doc:o,tr:c,schema:u}=s,h=t.getState(s),p=o.content.size,m=u.nodes[this.options.node];if(h)return c.insert(p,m.create())},state:{init:(n,r)=>{const s=r.tr.doc.lastChild;return!Dw({node:s,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const s=n.doc.lastChild;return!Dw({node:s,types:e})}}})]}}),A7=Tt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>_3(t,e),redo:()=>({state:t,dispatch:e})=>z3(t,e)}},addProseMirrorPlugins(){return[E7(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),M7=Tt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(oL.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(nL.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(j3.configure(this.options.bulletList)),this.options.code!==!1&&s.push(dL.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(hL.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(pL.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(C7.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(T7.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(mL.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(gL.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(A7.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(xL.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(SL.configure(this.options.italic)),this.options.listItem!==!1&&s.push(N3.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(A3.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(YL.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(M3.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(r7.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(a7.configure(this.options.strike)),this.options.text!==!1&&s.push(o7.configure(this.options.text)),this.options.underline!==!1&&s.push(l7.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(O7.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),R7=M7;const Yl="https://backvolverine.vercel.app/api",Kl=()=>{const t=JSON.parse(localStorage.getItem("alfauser"));return t&&t.token?{Authorization:`Bearer ${t.token}`}:{}},D7=async()=>{try{return(await ge.get(`${Yl}/deposits`,{headers:Kl()})).data.data}catch(t){throw console.error("Error fetching deposits:",t),new Error(t.response?.data?.message||"Failed to fetch deposits")}},_7=async t=>{try{return(await ge.post(`${Yl}/deposits`,t,{headers:Kl()})).data.data}catch(e){throw console.error("Error creating deposit:",e),new Error(e.response?.data?.message||"Failed to create deposit")}},z7=async(t,e)=>{try{return(await ge.put(`${Yl}/deposits/${t}`,e,{headers:Kl()})).data.data}catch(n){throw console.error("Error updating deposit:",n),new Error(n.response?.data?.message||"Failed to update deposit")}},L7=async t=>{try{return(await ge.delete(`${Yl}/deposits/${t}`,{headers:Kl()})).data}catch(e){throw console.error("Error deleting deposit:",e),new Error(e.response?.data?.message||"Failed to delete deposit")}},P7=async()=>{try{const t=Kl();console.log("getActiveDeposits: token",t.Authorization);const e=Object.keys(t).length>0?{headers:t}:{};return console.log("getActiveDeposits: config",e),(await ge.get(`${Yl}/deposits/active`,e)).data.data}catch(t){throw console.error("Error fetching active deposits:",t),new Error(t.response?.data?.message||"Failed to fetch deposits")}},B7=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,o]=A.useState(!1),[c,u]=A.useState(null),[h,p]=A.useState(null),[m,x]=A.useState(""),[y,v]=A.useState([]),[w,j]=A.useState({title:"",content:"",order:0,seller:""}),[C,O]=A.useState([]);A.useEffect(()=>{(async()=>{try{const H=JSON.parse(localStorage.getItem("alfauser"))?.token,$=await ge.get("https://backvolverine.vercel.app/api/users",{headers:{Authorization:`Bearer ${H}`}});O($.data.filter(M=>M.role==="seller"))}catch{O([])}})()},[]);const V=Jz({extensions:[R7],content:w.content,onUpdate:({editor:E})=>{j(H=>({...H,content:E.getHTML()}))},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[200px] p-3 border rounded-lg"}}});A.useEffect(()=>{q()},[]),A.useEffect(()=>{V&&w.content!==V.getHTML()&&V.commands.setContent(w.content)},[w.content,V]),A.useEffect(()=>{if(m.trim()){const E=t.filter(H=>H.title.toLowerCase().includes(m.toLowerCase())||H.content.toLowerCase().includes(m.toLowerCase())||H.createdBy?.name&&H.createdBy.name.toLowerCase().includes(m.toLowerCase()));v(E)}else v(t)},[m,t]);const q=async()=>{try{r(!0);const E=await D7(),H=Array.isArray(E)?E:[];e(H)}catch(E){console.error("Failed to fetch deposits:",E),Mt.error(E.message||"Failed to fetch deposits"),e([])}finally{r(!1)}},Q=async E=>{if(E.preventDefault(),!w.title.trim()||!w.content.trim()){Mt.error("Please fill in all required fields");return}try{r(!0),c?(await z7(c,w),Mt.success("Deposit updated successfully")):(await _7(w),Mt.success("Deposit created successfully"),x("")),await q(),_()}catch(H){Mt.error(H.message||"Operation failed")}finally{r(!1)}},z=E=>{j({title:E.title,content:E.content,order:E.order,seller:E.seller?._id||""}),u(E._id),o(!0)},B=async E=>{if(window.confirm("Are you sure you want to delete this deposit information?"))try{r(!0),await L7(E),Mt.success("Deposit deleted successfully"),await q()}catch(H){Mt.error(H.message||"Failed to delete deposit")}finally{r(!1)}},_=()=>{j({title:"",content:"",order:0,seller:""}),V&&V.commands.setContent(""),u(null),o(!1),x("")},I=E=>{p(h===E?null:E)},R=({editor:E})=>E?a.jsxs("div",{className:"editor-menubar p-2 border-bottom bg-light d-flex flex-wrap gap-1",children:[a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleBold().run(),className:`btn btn-sm ${E.isActive("bold")?"btn-primary":"btn-outline-secondary"}`,title:"Bold",children:a.jsx(TA,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleItalic().run(),className:`btn btn-sm ${E.isActive("italic")?"btn-primary":"btn-outline-secondary"}`,title:"Italic",children:a.jsx(zA,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleStrike().run(),className:`btn btn-sm ${E.isActive("strike")?"btn-primary":"btn-outline-secondary"}`,title:"Strikethrough",children:a.jsx(VA,{})}),a.jsx("div",{className:"vr mx-1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:1}).run(),className:`btn btn-sm ${E.isActive("heading",{level:1})?"btn-primary":"btn-outline-secondary"}`,title:"Heading 1",children:"H1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:2}).run(),className:`btn btn-sm ${E.isActive("heading",{level:2})?"btn-primary":"btn-outline-secondary"}`,title:"Heading 2",children:"H2"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:3}).run(),className:`btn btn-sm ${E.isActive("heading",{level:3})?"btn-primary":"btn-outline-secondary"}`,title:"Heading 3",children:"H3"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().setParagraph().run(),className:`btn btn-sm ${E.isActive("paragraph")?"btn-primary":"btn-outline-secondary"}`,title:"Paragraph",children:"P"}),a.jsx("div",{className:"vr mx-1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleBulletList().run(),className:`btn btn-sm ${E.isActive("bulletList")?"btn-primary":"btn-outline-secondary"}`,title:"Bullet List",children:a.jsx(LA,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleOrderedList().run(),className:`btn btn-sm ${E.isActive("orderedList")?"btn-primary":"btn-outline-secondary"}`,title:"Numbered List",children:a.jsx(jR,{})}),a.jsx("div",{className:"vr mx-1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleBlockquote().run(),className:`btn btn-sm ${E.isActive("blockquote")?"btn-primary":"btn-outline-secondary"}`,title:"Quote",children:a.jsx(NR,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleCode().run(),className:`btn btn-sm ${E.isActive("code")?"btn-primary":"btn-outline-secondary"}`,title:"Inline Code",children:a.jsx(SR,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleCodeBlock().run(),className:`btn btn-sm ${E.isActive("codeBlock")?"btn-primary":"btn-outline-secondary"}`,title:"Code Block",children:"{ }"}),a.jsx("div",{className:"vr mx-1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().setHorizontalRule().run(),className:"btn btn-sm btn-outline-secondary",title:"Horizontal Line",children:""}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().setHardBreak().run(),className:"btn btn-sm btn-outline-secondary",title:"Line Break",children:""}),a.jsx("div",{className:"vr mx-1"}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().undo().run(),disabled:!E.can().chain().focus().undo().run(),className:"btn btn-sm btn-outline-secondary",title:"Undo",children:a.jsx(wR,{})}),a.jsx("button",{type:"button",onClick:()=>E.chain().focus().redo().run(),disabled:!E.can().chain().focus().redo().run(),className:"btn btn-sm btn-outline-secondary",title:"Redo",children:a.jsx(vR,{})})]}):null;return a.jsxs("div",{className:"manage-deposits-container",children:[a.jsxs("div",{className:"container-fluid py-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mb-1",children:"Manage Deposits"}),a.jsx("p",{className:"text-muted mb-0",children:"Create and manage deposit information for sellers"})]}),a.jsxs("button",{className:"btn btn-primary btn-lg",onClick:()=>o(!s),disabled:n,children:[a.jsx(ej,{className:"me-2"}),"Add New Deposit Info"]})]}),s&&a.jsxs("div",{className:"card shadow-sm mb-4",children:[a.jsx("div",{className:"card-header bg-success text-white",children:a.jsxs("h5",{className:"mb-0",children:[a.jsx(Xd,{className:"me-2"}),c?"Edit Deposit Info":"Add New Deposit Info"]})}),a.jsx("div",{className:"card-body",children:a.jsxs("form",{onSubmit:Q,children:[a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:["Title ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control form-control-lg",value:w.title,onChange:E=>j({...w,title:E.target.value}),placeholder:"Enter deposit title...",required:!0,maxLength:200}),a.jsxs("small",{className:"text-muted",children:[w.title.length,"/200 characters"]})]})}),a.jsx("div",{className:"col-md-3",children:a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label fw-semibold",children:"Order"}),a.jsx("input",{type:"number",className:"form-control form-control-lg",value:w.order,onChange:E=>j({...w,order:parseInt(E.target.value)||0}),placeholder:"Display order"})]})}),a.jsx("div",{className:"col-md-3",children:a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label fw-semibold",children:"Assign to Seller"}),a.jsxs("select",{className:"form-select form-select-lg",value:w.seller,onChange:E=>j({...w,seller:E.target.value}),children:[a.jsx("option",{value:"",children:"-- None (General) --"}),C.map(E=>a.jsxs("option",{value:E._id,children:[E.shopName||E.name," (",E.email,")"]},E._id))]}),a.jsx("small",{className:"text-muted",children:"Leave blank for all sellers."})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"form-label fw-semibold",children:["Content ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("div",{className:"tiptap-editor border rounded",children:[a.jsx(R,{editor:V}),a.jsx("div",{className:"editor-content",children:a.jsx(Vz,{editor:V})})]}),a.jsx("small",{className:"text-muted mt-2 d-block",children:"Use the toolbar above to format your deposit information with headings, lists, bold text, and more."})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs("button",{type:"submit",className:"btn btn-success btn-lg",disabled:n,children:[n?a.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}):a.jsx(s0,{className:"me-2"}),c?"Update Deposit Info":"Create Deposit Info"]}),a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg",onClick:_,disabled:n,children:[a.jsx(wl,{className:"me-2"}),"Cancel"]})]})]})})]}),a.jsxs("div",{className:"card shadow-sm",children:[a.jsx("div",{className:"card-header bg-light",children:a.jsxs("div",{className:"row align-items-center",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("h5",{className:"mb-0",children:["All Deposits (",t.length,")"]}),m&&a.jsxs("small",{className:"text-muted",children:["Showing ",y.length," of ",t.length," deposits"]})]}),a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"search-container position-relative",children:[a.jsx(sf,{className:"position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d"}}),a.jsx("input",{type:"text",className:"form-control ps-5",placeholder:"Search deposits...",value:m,onChange:E=>x(E.target.value)})]})})]})}),a.jsx("div",{className:"card-body p-0",children:n?a.jsx("div",{className:"text-center py-5",children:a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y?.length===0?a.jsxs("div",{className:"text-center py-5 text-muted",children:[a.jsx("h4",{children:m?"No deposits found matching your search":"No Deposits Found"}),a.jsx("p",{children:m?"Try adjusting your search terms or create a new deposit info.":'Click "Add New Deposit Info" to create your first deposit information.'})]}):a.jsx("div",{className:"list-group list-group-flush",children:y?.map((E,H)=>a.jsx("div",{className:"list-group-item",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx(aj,{className:"text-muted"})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("h6",{className:"mb-1 fw-semibold",children:[E.title,a.jsxs("span",{className:"badge bg-light text-dark ms-2",children:["Order: ",E.order]}),E.seller&&a.jsxs("span",{className:"badge bg-info text-dark ms-2",children:["Seller: ",E.seller.shopName||E.seller.name]})]}),a.jsxs("small",{className:"text-muted",children:["Created ",new Date(E.createdAt).toLocaleDateString(),E.createdBy&&` by ${E.createdBy.name}`]})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>I(E._id),children:h===E._id?a.jsx(r0,{}):a.jsx(n0,{})}),a.jsx("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>z(E),disabled:n,children:a.jsx(i0,{})}),a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>B(E._id),disabled:n,children:a.jsx(a0,{})})]})]}),h===E._id&&a.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[a.jsx("h6",{className:"fw-semibold mb-2",children:"Content:"}),a.jsx("div",{className:"deposit-content",dangerouslySetInnerHTML:{__html:E.content}})]})]})]})},E._id))})})]})]}),a.jsx("style",{jsx:!0,children:`
        .manage-deposits-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
        }

        .card {
          border: none;
          border-radius: 15px;
          overflow: hidden;
        }

        .card-header {
          border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .list-group-item {
          border: none;
          border-bottom: 1px solid rgba(0,0,0,0.05);
          transition: background-color 0.2s ease;
        }

        .list-group-item:hover {
          background-color: rgba(0,0,0,0.02);
        }

        .form-control, .form-select {
          border-radius: 10px;
          border: 2px solid #e9ecef;
          transition: border-color 0.2s ease;
        }

        .form-control:focus, .form-select:focus {
          border-color: #28a745;
          box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }

        .btn {
          border-radius: 10px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .btn-lg {
          padding: 12px 24px;
        }

        .btn-success:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }

        .badge {
          font-size: 0.7rem;
          padding: 4px 8px;
          border-radius: 6px;
        }

        .spinner-border {
          width: 1rem;
          height: 1rem;
        }

        .tiptap-editor {
          min-height: 350px;
          border: 2px solid #e9ecef;
        }

        .tiptap-editor:focus-within {
          border-color: #28a745;
          box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }

        .editor-menubar {
          background: #f8f9fa !important;
          border-bottom: 1px solid #e9ecef !important;
        }

        .editor-menubar .btn {
          padding: 4px 8px;
          font-size: 0.875rem;
          min-width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .editor-menubar .vr {
          height: 24px;
          opacity: 0.5;
        }

        .editor-content .ProseMirror {
          outline: none;
          min-height: 250px;
          padding: 15px;
          font-size: 1rem;
          line-height: 1.6;
        }

        .editor-content .ProseMirror h1 {
          font-size: 2rem;
          font-weight: bold;
          margin: 20px 0 15px 0;
          color: #28a745;
          border-bottom: 2px solid #28a745;
          padding-bottom: 5px;
        }

        .editor-content .ProseMirror h2 {
          font-size: 1.6rem;
          font-weight: bold;
          margin: 18px 0 12px 0;
          color: #28a745;
        }

        .editor-content .ProseMirror h3 {
          font-size: 1.3rem;
          font-weight: bold;
          margin: 15px 0 10px 0;
          color: #495057;
        }

        .editor-content .ProseMirror p {
          margin-bottom: 12px;
        }

        .editor-content .ProseMirror ul, 
        .editor-content .ProseMirror ol {
          padding-left: 25px;
          margin-bottom: 12px;
        }

        .editor-content .ProseMirror li {
          margin-bottom: 5px;
        }

        .editor-content .ProseMirror blockquote {
          border-left: 4px solid #28a745;
          margin: 15px 0;
          padding: 10px 15px;
          background-color: rgba(40, 167, 69, 0.05);
          font-style: italic;
          border-radius: 0 5px 5px 0;
        }

        .editor-content .ProseMirror code {
          background-color: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 3px;
          padding: 2px 4px;
          font-family: 'Courier New', monospace;
          font-size: 0.9rem;
        }

        .editor-content .ProseMirror pre {
          background-color: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 5px;
          padding: 15px;
          margin: 15px 0;
          overflow-x: auto;
        }

        .editor-content .ProseMirror pre code {
          background: none;
          border: none;
          padding: 0;
        }

        .editor-content .ProseMirror hr {
          border: none;
          border-top: 2px solid #e9ecef;
          margin: 20px 0;
        }

        .editor-content .ProseMirror strong {
          font-weight: bold;
          color: #28a745;
        }

        .editor-content .ProseMirror em {
          font-style: italic;
        }

        .editor-content .ProseMirror s {
          text-decoration: line-through;
        }

        .deposit-content {
          font-size: 1rem;
          line-height: 1.6;
          color: #495057;
        }

        .deposit-content h1,
        .deposit-content h2,
        .deposit-content h3 {
          margin-top: 15px;
          margin-bottom: 10px;
          font-weight: bold;
        }

        .deposit-content p {
          margin-bottom: 10px;
        }

        .deposit-content ul,
        .deposit-content ol {
          padding-left: 20px;
          margin-bottom: 10px;
        }
      `})]})},H7=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!1),[s,o]=A.useState(""),[c,u]=A.useState([]),[h,p]=A.useState(null);A.useEffect(()=>{m()},[]),A.useEffect(()=>{if(s.trim()){const w=t.filter(j=>j.title.toLowerCase().includes(s.toLowerCase())||j.content.toLowerCase().includes(s.toLowerCase()));u(w)}else u(t)},[s,t]);const m=async()=>{try{r(!0);const w=await P7(),j=Array.isArray(w)?w:[];e(j)}catch(w){console.error("Failed to fetch deposits:",w),Mt.error(w.message||"Failed to fetch deposits"),e([])}finally{r(!1)}},x=w=>{p(w)},y=()=>{p(null),o("")},v=()=>{m(),Mt.success("Deposit information refreshed")};return h?a.jsx("div",{className:"seller-deposits-container",children:a.jsx("div",{className:"container-fluid py-4",children:a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"card shadow-sm",children:[a.jsx("div",{className:"card-header bg-success text-white",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("button",{className:"btn btn-light btn-sm me-3",onClick:y,children:" Back to List"}),a.jsxs("h4",{className:"mb-0",children:[a.jsx(Xd,{className:"me-2"}),h.title]})]}),a.jsxs("div",{className:"text-white-50",children:[a.jsx(cg,{className:"me-2"}),new Date(h.createdAt).toLocaleDateString()]})]})}),a.jsx("div",{className:"card-body",children:a.jsx("div",{className:"deposit-detail-content",dangerouslySetInnerHTML:{__html:h.content}})})]})})})})}):a.jsxs("div",{className:"seller-deposits-container",children:[a.jsxs("div",{className:"container-fluid py-4",children:[a.jsx("div",{className:"row mb-4",children:a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mb-1",children:"Deposit Information"}),a.jsx("p",{className:"text-muted mb-0",children:"Important information about deposits and banking"})]}),a.jsxs("button",{className:"btn btn-outline-success",onClick:v,disabled:n,children:[a.jsx(FA,{className:`me-2 ${n?"spin":""}`}),"Refresh"]})]})})}),a.jsx("div",{className:"row mb-4",children:a.jsx("div",{className:"col-md-6 col-lg-4",children:a.jsxs("div",{className:"search-container position-relative",children:[a.jsx(sf,{className:"position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d"}}),a.jsx("input",{type:"text",className:"form-control ps-5",placeholder:"Search deposit information...",value:s,onChange:w=>o(w.target.value)})]})})}),a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-12",children:n?a.jsx("div",{className:"card shadow-sm",children:a.jsxs("div",{className:"card-body text-center py-5",children:[a.jsx("div",{className:"spinner-border text-success",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})}),a.jsx("p",{className:"mt-3 text-muted",children:"Loading deposit information..."})]})}):c?.length===0?a.jsx("div",{className:"card shadow-sm",children:a.jsxs("div",{className:"card-body text-center py-5",children:[a.jsx(_A,{size:48,className:"text-muted mb-3"}),a.jsx("h4",{className:"text-muted",children:s?"No deposits found matching your search":"No Deposit Information Available"}),a.jsx("p",{className:"text-muted",children:s?"Try adjusting your search terms to find relevant deposit information.":"Deposit information will appear here once added by administrators."}),s&&a.jsx("button",{className:"btn btn-outline-success mt-2",onClick:()=>o(""),children:"Clear Search"})]})}):a.jsxs("div",{className:"card shadow-sm",children:[a.jsxs("div",{className:"card-header bg-light",children:[a.jsxs("h5",{className:"mb-0",children:["Available Deposit Information (",c.length,")"]}),s&&a.jsxs("small",{className:"text-muted",children:["Showing ",c.length," of ",t.length," items"]})]}),a.jsx("div",{className:"card-body p-0",children:a.jsx("div",{className:"list-group list-group-flush",children:c?.map((w,j)=>a.jsx("div",{className:"list-group-item list-group-item-action cursor-pointer",onClick:()=>x(w),children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx("div",{className:"deposit-icon",children:a.jsx(Xd,{size:20,className:"text-success"})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h6",{className:"mb-1 fw-semibold",children:w.title}),a.jsx("div",{className:"deposit-preview text-muted",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:w.content.substring(0,150)+(w.content.length>150?"...":"")}})}),a.jsxs("small",{className:"text-muted",children:[a.jsx(cg,{className:"me-1"}),"Updated ",new Date(w.updatedAt).toLocaleDateString()]})]}),a.jsx("div",{className:"flex-shrink-0 ms-3",children:a.jsx(AA,{className:"text-muted"})})]})},w._id))})})]})})}),!n&&t?.length>0&&a.jsx("div",{className:"row mt-4",children:a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card bg-light shadow-sm",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"row text-center",children:[a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"stat-item",children:[a.jsx("h4",{className:"text-success",children:t.length}),a.jsx("small",{className:"text-muted",children:"Total Information Items"})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"stat-item",children:[a.jsx("h4",{className:"text-primary",children:t.filter(w=>new Date(w.updatedAt)>new Date(Date.now()-7*24*60*60*1e3)).length}),a.jsx("small",{className:"text-muted",children:"Updated This Week"})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"stat-item",children:[a.jsx("h4",{className:"text-info",children:new Date(Math.max(...t.map(w=>new Date(w.updatedAt)))).toLocaleDateString()}),a.jsx("small",{className:"text-muted",children:"Last Updated"})]})})]})})})})})]}),a.jsx("style",{jsx:!0,children:`
        .seller-deposits-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .card {
          border: none;
          border-radius: 15px;
          overflow: hidden;
        }

        .card-header {
          border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .list-group-item {
          border: none;
          border-bottom: 1px solid rgba(0,0,0,0.05);
          transition: all 0.2s ease;
          cursor: pointer;
        }

        .list-group-item:hover {
          background-color: rgba(40, 167, 69, 0.05);
          transform: translateY(-1px);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .deposit-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          background: rgba(40, 167, 69, 0.1);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .deposit-preview {
          font-size: 0.9rem;
          line-height: 1.4;
          margin-bottom: 5px;
        }

        .deposit-preview p {
          margin: 0;
          display: inline;
        }

        .deposit-preview h1,
        .deposit-preview h2,
        .deposit-preview h3,
        .deposit-preview h4,
        .deposit-preview h5,
        .deposit-preview h6 {
          margin: 0;
          display: inline;
          font-size: inherit;
          font-weight: 500;
        }

        .deposit-detail-content {
          font-size: 1.1rem;
          line-height: 1.7;
          color: #495057;
        }

        .deposit-detail-content h1,
        .deposit-detail-content h2,
        .deposit-detail-content h3 {
          margin-top: 25px;
          margin-bottom: 15px;
          font-weight: bold;
          color: #28a745;
        }

        .deposit-detail-content h1 {
          font-size: 2rem;
          border-bottom: 2px solid #28a745;
          padding-bottom: 10px;
        }

        .deposit-detail-content h2 {
          font-size: 1.6rem;
        }

        .deposit-detail-content h3 {
          font-size: 1.3rem;
        }

        .deposit-detail-content p {
          margin-bottom: 15px;
          text-align: justify;
        }

        .deposit-detail-content ul,
        .deposit-detail-content ol {
          padding-left: 25px;
          margin-bottom: 15px;
        }

        .deposit-detail-content li {
          margin-bottom: 8px;
        }

        .deposit-detail-content strong {
          color: #28a745;
        }

        .deposit-detail-content blockquote {
          border-left: 4px solid #28a745;
          margin: 20px 0;
          padding: 15px 20px;
          background-color: rgba(40, 167, 69, 0.05);
          border-radius: 0 8px 8px 0;
        }

        .form-control {
          border-radius: 10px;
          border: 2px solid #e9ecef;
          transition: border-color 0.2s ease;
        }

        .form-control:focus {
          border-color: #28a745;
          box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }

        .btn {
          border-radius: 10px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .btn:hover {
          transform: translateY(-1px);
        }

        .spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .stat-item {
          padding: 10px;
        }

        .stat-item h4 {
          font-weight: bold;
          margin-bottom: 5px;
        }

        .cursor-pointer {
          cursor: pointer;
        }
      `})]})};function I7(){const t=JSON.parse(localStorage.getItem("alfauser"));A.useEffect(()=>{if(!t||t.role!=="seller")return;const n=ka();if(!n)return;const r=s=>{s?.userId===t._id&&(localStorage.removeItem("alfauser"),window.location.href="/login")};return n.on("user_deleted",r),()=>{n.off("user_deleted",r)}},[t]);const e=["/login","/signup"].includes(window.location.pathname);return a.jsxs(a.Fragment,{children:[a.jsx(kC,{position:"top-right"}),a.jsx(kE,{children:a.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[a.jsx("div",{style:{flex:1},children:a.jsxs(tE,{children:[a.jsx($e,{path:"/",element:a.jsx(B6,{})}),a.jsx($e,{path:"/product/:id",element:a.jsx(RR,{})}),a.jsx($e,{path:"/login",element:a.jsx(xA,{})}),a.jsx($e,{path:"/signup",element:a.jsx(bA,{})}),a.jsx($e,{path:"/privacy-policy",element:a.jsx(yA,{})}),a.jsx($e,{path:"/terms-and-conditions",element:a.jsx(vA,{})}),a.jsx($e,{path:"/cookies-policy",element:a.jsx(wA,{})}),a.jsx($e,{path:"/risk-disclosure",element:a.jsx(SA,{})}),a.jsxs($e,{path:"/admin/*",element:t?.role=="admin"?a.jsx(jA,{}):a.jsx(Ip,{to:"/login"}),children:[a.jsx($e,{index:!0,element:a.jsx(wM,{})}),a.jsx($e,{path:"products",element:a.jsx(aM,{})}),a.jsx($e,{path:"users",element:a.jsx(cM,{})}),a.jsx($e,{path:"orders",element:a.jsx(fM,{})}),a.jsx($e,{path:"create-order",element:a.jsx(mM,{})}),a.jsx($e,{path:"create-product",element:a.jsx(bM,{})}),a.jsx($e,{path:"chat",element:a.jsx(a2,{})}),a.jsx($e,{path:"faqs",element:a.jsx(BR,{})}),a.jsx($e,{path:"deposits",element:a.jsx(B7,{})})]}),a.jsxs($e,{path:"/seller/*",element:t?.role=="seller"?a.jsx(NA,{}):a.jsx(Ip,{to:"/login"}),children:[a.jsx($e,{index:!0,element:a.jsx(SM,{})}),a.jsx($e,{path:"orders",element:a.jsx(ZA,{})}),a.jsx($e,{path:"products",element:a.jsx(EA,{})}),a.jsx($e,{path:"manage-products",element:a.jsx(nM,{})}),a.jsx($e,{path:"payment-methods",element:a.jsx(rM,{})}),a.jsx($e,{path:"my-profile",element:a.jsx(sM,{})}),a.jsx($e,{path:"shop-settings",element:a.jsx(iM,{})}),a.jsx($e,{path:"chat",element:a.jsx(a2,{})}),a.jsx($e,{path:"faqs",element:a.jsx(l2,{})}),a.jsx($e,{path:"deposits",element:a.jsx(H7,{})}),a.jsx($e,{path:"faqs",element:a.jsx(l2,{})})]}),a.jsx($e,{path:"*",element:a.jsx(Ip,{to:"/"})})]})}),!e&&a.jsx(OC,{})]})})]})}o5.createRoot(document.getElementById("root")).render(a.jsx(I7,{}));
